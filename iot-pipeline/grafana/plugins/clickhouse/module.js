/* [create-plugin] version: 5.5.1 */
define(["rxjs","module","@grafana/ui","lodash","react","@emotion/css","@grafana/data","@grafana/runtime"],(e,t,s,a,r,n,o,l)=>(()=>{var i={144:(e,t,s)=>{"use strict";const a=s(5380);e.exports=(e,t,s)=>a(e,t,s)>0},599:(e,t,s)=>{"use strict";const a=s(5380);e.exports=(e,t,s)=>a(e,t,s)<0},603:(e,t,s)=>{"use strict";const a=s(2801);e.exports=(e,t)=>e.sort((e,s)=>a(e,s,t))},651:(e,t,s)=>{"use strict";const a=s(8395);e.exports=(e,t)=>new a(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},660:(e,t,s)=>{"use strict";const a=s(5860);e.exports=(e,t)=>{const s=a(e,null,!0),r=a(t,null,!0),n=s.compare(r);if(0===n)return null;const o=n>0,l=o?s:r,i=o?r:s,E=!!l.prerelease.length;if(!!i.prerelease.length&&!E){if(!i.patch&&!i.minor)return"major";if(0===i.compareMain(l))return i.minor&&!i.patch?"minor":"patch"}const c=E?"pre":"";return s.major!==r.major?c+"major":s.minor!==r.minor?c+"minor":s.patch!==r.patch?c+"patch":"prerelease"}},1112:(e,t,s)=>{"use strict";const a=s(8395);e.exports=(e,t,s)=>(e=new a(e,s),t=new a(t,s),e.intersects(t,s))},1158:e=>{"use strict";e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},1251:function(e,t){var s,a,r;a=[],void 0===(r="function"==typeof(s=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,s="boolean"==typeof(new RegExp).sticky;function a(e){return e&&"[object RegExp]"===t.call(e)}function r(e){return e&&"object"==typeof e&&!a(e)&&!Array.isArray(e)}function n(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(e){return new RegExp("|"+e).exec("").length-1}function l(e){return"("+e+")"}function i(e){return e.length?"(?:"+e.map(function(e){return"(?:"+e+")"}).join("|")+")":"(?!)"}function E(e){if("string"==typeof e)return"(?:"+n(e)+")";if(a(e)){if(e.ignoreCase)throw new Error("RegExp /i flag not allowed");if(e.global)throw new Error("RegExp /g flag is implied");if(e.sticky)throw new Error("RegExp /y flag is implied");if(e.multiline)throw new Error("RegExp /m flag is implied");return e.source}throw new Error("Not a pattern: "+e)}function c(e,t){return e.length>t?e:Array(t-e.length+1).join(" ")+e}function T(e,t){for(var s=e.length,a=0;;){var r=e.lastIndexOf("\n",s-1);if(-1===r)break;if(s=r,++a===t)break;if(0===s)break}var n=a<t?0:s+1;return e.substring(n).split("\n")}function p(e){for(var t=Object.getOwnPropertyNames(e),s=[],a=0;a<t.length;a++){var n=t[a],o=e[n],l=[].concat(o);if("include"!==n){var i=[];l.forEach(function(e){r(e)?(i.length&&s.push(m(n,i)),s.push(m(n,e)),i=[]):i.push(e)}),i.length&&s.push(m(n,i))}else for(var E=0;E<l.length;E++)s.push({include:l[E]})}return s}function u(e){for(var t=[],s=0;s<e.length;s++){var a=e[s];if(a.include)for(var r=[].concat(a.include),n=0;n<r.length;n++)t.push({include:r[n]});else{if(!a.type)throw new Error("Rule has no type: "+JSON.stringify(a));t.push(m(a.type,a))}}return t}function m(t,s){if(r(s)||(s={match:s}),s.include)throw new Error("Matching rules cannot also include states");var n={defaultType:t,lineBreaks:!!s.error||!!s.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var o in s)e.call(s,o)&&(n[o]=s[o]);if("string"==typeof n.type&&t!==n.type)throw new Error("Type transform cannot be a string (type '"+n.type+"' for token '"+t+"')");var l=n.match;return n.match=Array.isArray(l)?l:l?[l]:[],n.match.sort(function(e,t){return a(e)&&a(t)?0:a(t)?-1:a(e)?1:t.length-e.length}),n}function _(e){return Array.isArray(e)?u(e):p(e)}var A=m("error",{lineBreaks:!0,shouldThrow:!0});function R(e,t){for(var r=null,n=Object.create(null),c=!0,T=null,p=[],u=[],m=0;m<e.length;m++)e[m].fallback&&(c=!1);for(m=0;m<e.length;m++){var _=e[m];if(_.include)throw new Error("Inheritance is not allowed in stateless lexers");if(_.error||_.fallback){if(r)throw!_.fallback==!r.fallback?new Error("Multiple "+(_.fallback?"fallback":"error")+" rules not allowed (for token '"+_.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+_.defaultType+"')");r=_}var R=_.match.slice();if(c)for(;R.length&&"string"==typeof R[0]&&1===R[0].length;)n[R.shift().charCodeAt(0)]=_;if(_.pop||_.push||_.next){if(!t)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+_.defaultType+"')");if(_.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+_.defaultType+"')")}if(0!==R.length){c=!1,p.push(_);for(var S=0;S<R.length;S++){var d=R[S];if(a(d))if(null===T)T=d.unicode;else if(T!==d.unicode&&!1===_.fallback)throw new Error("If one rule is /u then all must be")}var O=i(R.map(E)),I=new RegExp(O);if(I.test(""))throw new Error("RegExp matches empty string: "+I);if(o(O)>0)throw new Error("RegExp has capture groups: "+I+"\nUse (?: … ) instead");if(!_.lineBreaks&&I.test("\n"))throw new Error("Rule should declare lineBreaks: "+I);u.push(l(O))}}var N=r&&r.fallback,b=s&&!N?"ym":"gm",C=s||N?"":"|";return!0===T&&(b+="u"),{regexp:new RegExp(i(u)+C,b),groups:p,fast:n,error:r||A}}function S(e){var t=R(_(e));return new N({start:t},"start")}function d(e,t,s){var a=e&&(e.push||e.next);if(a&&!s[a])throw new Error("Missing state '"+a+"' (in token '"+e.defaultType+"' of state '"+t+"')");if(e&&e.pop&&1!==+e.pop)throw new Error("pop must be 1 (in token '"+e.defaultType+"' of state '"+t+"')")}function O(e,t){var s=e.$all?_(e.$all):[];delete e.$all;var a=Object.getOwnPropertyNames(e);t||(t=a[0]);for(var r=Object.create(null),n=0;n<a.length;n++)r[A=a[n]]=_(e[A]).concat(s);for(n=0;n<a.length;n++)for(var o=r[A=a[n]],l=Object.create(null),i=0;i<o.length;i++){var E=o[i];if(E.include){var c=[i,1];if(E.include!==A&&!l[E.include]){l[E.include]=!0;var T=r[E.include];if(!T)throw new Error("Cannot include nonexistent state '"+E.include+"' (in state '"+A+"')");for(var p=0;p<T.length;p++){var u=T[p];-1===o.indexOf(u)&&c.push(u)}}o.splice.apply(o,c),i--}}var m=Object.create(null);for(n=0;n<a.length;n++){var A;m[A=a[n]]=R(r[A],!0)}for(n=0;n<a.length;n++){var S=a[n],O=m[S],I=O.groups;for(i=0;i<I.length;i++)d(I[i],S,m);var b=Object.getOwnPropertyNames(O.fast);for(i=0;i<b.length;i++)d(O.fast[b[i]],S,m)}return new N(m,t)}function I(e){for(var t="undefined"!=typeof Map,s=t?new Map:Object.create(null),a=Object.getOwnPropertyNames(e),r=0;r<a.length;r++){var n=a[r],o=e[n];(Array.isArray(o)?o:[o]).forEach(function(e){if("string"!=typeof e)throw new Error("keyword must be string (in keyword '"+n+"')");t?s.set(e,n):s[e]=n})}return function(e){return t?s.get(e):s[e]}}var N=function(e,t){this.startState=t,this.states=e,this.buffer="",this.stack=[],this.reset()};N.prototype.reset=function(e,t){return this.buffer=e||"",this.index=0,this.line=t?t.line:1,this.col=t?t.col:1,this.queuedToken=t?t.queuedToken:null,this.queuedText=t?t.queuedText:"",this.queuedThrow=t?t.queuedThrow:null,this.setState(t?t.state:this.startState),this.stack=t&&t.stack?t.stack.slice():[],this},N.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},N.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var t=this.states[e];this.groups=t.groups,this.error=t.error,this.re=t.regexp,this.fast=t.fast}},N.prototype.popState=function(){this.setState(this.stack.pop())},N.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)};var b=s?function(e,t){return e.exec(t)}:function(e,t){var s=e.exec(t);return 0===s[0].length?null:s};function C(){return this.value}if(N.prototype._getGroup=function(e){for(var t=this.groups.length,s=0;s<t;s++)if(void 0!==e[s+1])return this.groups[s];throw new Error("Cannot find token type for matched text")},N.prototype.next=function(){var e=this.index;if(this.queuedGroup){var t=this._token(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",t}var s=this.buffer;if(e!==s.length){if(o=this.fast[s.charCodeAt(e)])return this._token(o,s.charAt(e),e);var a=this.re;a.lastIndex=e;var r=b(a,s),n=this.error;if(null==r)return this._token(n,s.slice(e,s.length),e);var o=this._getGroup(r),l=r[0];return n.fallback&&r.index!==e?(this.queuedGroup=o,this.queuedText=l,this._token(n,s.slice(e,r.index),e)):this._token(o,l,e)}},N.prototype._token=function(e,t,s){var a=0;if(e.lineBreaks){var r=/\n/g,n=1;if("\n"===t)a=1;else for(;r.exec(t);)a++,n=r.lastIndex}var o={type:"function"==typeof e.type&&e.type(t)||e.defaultType,value:"function"==typeof e.value?e.value(t):t,text:t,toString:C,offset:s,lineBreaks:a,line:this.line,col:this.col},l=t.length;if(this.index+=l,this.line+=a,0!==a?this.col=l-n+1:this.col+=l,e.shouldThrow)throw new Error(this.formatError(o,"invalid syntax"));return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),o},"undefined"!=typeof Symbol&&Symbol.iterator){var y=function(e){this.lexer=e};y.prototype.next=function(){var e=this.lexer.next();return{value:e,done:!e}},y.prototype[Symbol.iterator]=function(){return this},N.prototype[Symbol.iterator]=function(){return new y(this)}}return N.prototype.formatError=function(e,t){if(null==e){var s=this.buffer.slice(this.index);e={text:s,offset:this.index,lineBreaks:-1===s.indexOf("\n")?0:1,line:this.line,col:this.col}}var a=2,r=Math.max(e.line-a,1),n=e.line+a,o=String(n).length,l=T(this.buffer,this.line-e.line+a+1).slice(0,5),i=[];i.push(t+" at line "+e.line+" col "+e.col+":"),i.push("");for(var E=0;E<l.length;E++){var p=l[E],u=r+E;i.push(c(String(u),o)+"  "+p),u===e.line&&i.push(c("",o+e.col+1)+"^")}return i.join("\n")},N.prototype.clone=function(){return new N(this.states,this.state)},N.prototype.has=function(e){return!0},{compile:S,states:O,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:I}})?s.apply(t,a):s)||(e.exports=r)},1269:t=>{"use strict";t.exports=e},1308:e=>{"use strict";e.exports=t},1465:(e,t,s)=>{"use strict";const a=s(1722),r=s(5380);e.exports=(e,t,s)=>{const n=[];let o=null,l=null;const i=e.sort((e,t)=>r(e,t,s));for(const e of i){a(e,t,s)?(l=e,o||(o=e)):(l&&n.push([o,l]),l=null,o=null)}o&&n.push([o,null]);const E=[];for(const[e,t]of n)e===t?E.push(e):t||e!==i[0]?t?e===i[0]?E.push(`<=${t}`):E.push(`${e} - ${t}`):E.push(`>=${e}`):E.push("*");const c=E.join(" || "),T="string"==typeof t.raw?t.raw:String(t);return c.length<T.length?c:t}},1617:(e,t,s)=>{"use strict";const a=s(7944);e.exports=(e,t)=>new a(e,t).patch},1722:(e,t,s)=>{"use strict";const a=s(8395);e.exports=(e,t,s)=>{try{t=new a(t,s)}catch(e){return!1}return t.test(e)}},2007:e=>{"use strict";e.exports=s},2077:(e,t,s)=>{"use strict";const a=s(5380);e.exports=(e,t,s)=>a(e,t,s)>=0},2801:(e,t,s)=>{"use strict";const a=s(7944);e.exports=(e,t,s)=>{const r=new a(e,s),n=new a(t,s);return r.compare(n)||r.compareBuild(n)}},2862:(e,t,s)=>{"use strict";const a=s(5380);e.exports=(e,t,s)=>a(t,e,s)},2966:(e,t,s)=>{"use strict";const a=s(7944);e.exports=(e,t)=>new a(e,t).major},3241:e=>{"use strict";e.exports=a},3489:(e,t,s)=>{"use strict";const a=s(7944),r=s(8395),n=s(144);e.exports=(e,t)=>{e=new r(e,t);let s=new a("0.0.0");if(e.test(s))return s;if(s=new a("0.0.0-0"),e.test(s))return s;s=null;for(let t=0;t<e.set.length;++t){const r=e.set[t];let o=null;r.forEach(e=>{const t=new a(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!n(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}),!o||s&&!n(s,o)||(s=o)}return s&&e.test(s)?s:null}},3811:(e,t,s)=>{"use strict";const a=s(6909),r=s(7659),n=s(144),o=s(2077),l=s(599),i=s(7092);e.exports=(e,t,s,E)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof s&&(s=s.version),e===s;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof s&&(s=s.version),e!==s;case"":case"=":case"==":return a(e,s,E);case"!=":return r(e,s,E);case">":return n(e,s,E);case">=":return o(e,s,E);case"<":return l(e,s,E);case"<=":return i(e,s,E);default:throw new TypeError(`Invalid operator: ${t}`)}}},4031:e=>{"use strict";const t=/^[0-9]+$/,s=(e,s)=>{if("number"==typeof e&&"number"==typeof s)return e===s?0:e<s?-1:1;const a=t.test(e),r=t.test(s);return a&&r&&(e=+e,s=+s),e===s?0:a&&!r?-1:r&&!a?1:e<s?-1:1};e.exports={compareIdentifiers:s,rcompareIdentifiers:(e,t)=>s(t,e)}},4266:(e,t,s)=>{"use strict";const a=s(5463);e.exports=(e,t,s)=>a(e,t,"<",s)},5334:(e,t,s)=>{"use strict";const a=s(7944),r=s(5860),{safeRe:n,t:o}=s(6850);e.exports=(e,t)=>{if(e instanceof a)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let s=null;if((t=t||{}).rtl){const a=t.includePrerelease?n[o.COERCERTLFULL]:n[o.COERCERTL];let r;for(;(r=a.exec(e))&&(!s||s.index+s[0].length!==e.length);)s&&r.index+r[0].length===s.index+s[0].length||(s=r),a.lastIndex=r.index+r[1].length+r[2].length;a.lastIndex=-1}else s=e.match(t.includePrerelease?n[o.COERCEFULL]:n[o.COERCE]);if(null===s)return null;const l=s[2],i=s[3]||"0",E=s[4]||"0",c=t.includePrerelease&&s[5]?`-${s[5]}`:"",T=t.includePrerelease&&s[6]?`+${s[6]}`:"";return r(`${l}.${i}.${E}${c}${T}`,t)}},5380:(e,t,s)=>{"use strict";const a=s(7944);e.exports=(e,t,s)=>new a(e,s).compare(new a(t,s))},5463:(e,t,s)=>{"use strict";const a=s(7944),r=s(9524),{ANY:n}=r,o=s(8395),l=s(1722),i=s(144),E=s(599),c=s(7092),T=s(2077);e.exports=(e,t,s,p)=>{let u,m,_,A,R;switch(e=new a(e,p),t=new o(t,p),s){case">":u=i,m=c,_=E,A=">",R=">=";break;case"<":u=E,m=T,_=i,A="<",R="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l(e,t,p))return!1;for(let s=0;s<t.set.length;++s){const a=t.set[s];let o=null,l=null;if(a.forEach(e=>{e.semver===n&&(e=new r(">=0.0.0")),o=o||e,l=l||e,u(e.semver,o.semver,p)?o=e:_(e.semver,l.semver,p)&&(l=e)}),o.operator===A||o.operator===R)return!1;if((!l.operator||l.operator===A)&&m(e,l.semver))return!1;if(l.operator===R&&_(e,l.semver))return!1}return!0}},5860:(e,t,s)=>{"use strict";const a=s(7944);e.exports=(e,t,s=!1)=>{if(e instanceof a)return e;try{return new a(e,t)}catch(e){if(!s)return null;throw e}}},5955:(e,t,s)=>{"use strict";const a=s(7944);e.exports=(e,t,s,r,n)=>{"string"==typeof s&&(n=r,r=s,s=void 0);try{return new a(e instanceof a?e.version:e,s).inc(t,r,n).version}catch(e){return null}}},5959:e=>{"use strict";e.exports=r},5986:(e,t,s)=>{"use strict";const a=s(7944);e.exports=(e,t)=>new a(e,t).minor},6033:(e,t,s)=>{"use strict";const a=s(2801);e.exports=(e,t)=>e.sort((e,s)=>a(s,e,t))},6089:e=>{"use strict";e.exports=n},6775:function(e,t){var s,a=function(){var e=function(e,t,s,a){for(s=s||{},a=e.length;a--;s[e[a]]=t);return s},t=[1,8],s=[1,4],a=[2,4],r=[1,11],n=[1,10],o=[2,16],l=[1,14],i=[1,15],E=[1,16],c=[6,8],T=[2,146],p=[1,19],u=[1,20],m=[16,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,101,195],_=[16,18,32,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,101,195],A=[2,160],R=[1,29],S=[6,8,14,17,146,150,152,154],d=[1,42],O=[1,60],I=[1,52],N=[1,59],b=[1,61],C=[1,62],y=[1,63],L=[1,64],h=[1,65],f=[1,58],$=[1,53],D=[1,54],P=[1,55],g=[1,56],x=[1,57],w=[1,43],M=[1,44],U=[1,45],v=[1,34],k=[1,66],G=[16,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,101,195],B=[6,8,14,17,150,152,154],H=[2,143],F=[1,75],Y=[1,76],V=[6,8,14,17,43,133,138,144,146,150,152,154],W=[1,81],X=[1,78],K=[1,79],q=[1,80],j=[1,82],J=[6,8,14,17,36,43,49,50,51,71,72,74,77,89,107,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],Q=[6,8,14,17,34,36,43,49,50,51,71,72,74,77,89,107,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],Z=[1,103],z=[1,101],ee=[1,102],te=[1,97],se=[1,98],ae=[1,99],re=[1,100],ne=[1,104],oe=[1,105],le=[1,106],ie=[1,107],Ee=[1,108],ce=[1,109],Te=[2,103],pe=[6,8,14,17,34,36,43,45,49,50,51,71,72,74,77,79,81,89,91,92,93,94,95,96,97,98,99,101,105,106,107,108,109,110,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],ue=[6,8,14,17,34,36,43,45,49,50,51,71,72,74,77,79,81,89,91,92,93,94,95,96,97,98,99,101,103,105,106,107,108,109,110,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],me=[1,110],_e=[1,117],Ae=[2,64],Re=[1,118],Se=[16,35,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,101,195],de=[16,29,35,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,119,195],Oe=[1,164],Ie=[17,43],Ne=[2,59],be=[1,173],Ce=[1,171],ye=[1,172],Le=[6,8,138,146],he=[16,35,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,101,195],fe=[6,8,14,17,138,144,146,150,152,154],$e=[6,8,14,17,36,43,49,50,51,71,72,74,77,89,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],De=[6,8,14,17,34,36,43,49,50,51,71,72,74,77,89,91,92,93,94,99,101,105,106,107,108,109,110,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],Pe=[6,8,14,17,34,36,43,49,50,51,71,72,74,77,79,81,89,91,92,93,94,99,101,105,106,107,108,109,110,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],ge=[16,35,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,101,195],xe=[16,35,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,101,195],we=[16,35,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,101,195],Me=[71,74,77],Ue=[16,35,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,101,195],ve=[1,233],ke=[1,234],Ge=[6,8,14,17],Be=[6,8,14,17,43,157],He=[1,251],Fe=[1,247],Ye=[2,197],Ve=[1,256],We=[1,257],Xe=[6,8,14,17,43,129,135,138,144,146,150,152,154,182],Ke=[1,259],qe=[1,262],je=[1,263],Je=[1,264],Qe=[1,265],Ze=[2,174],ze=[1,261],et=[6,8,14,17,36,43,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,182],tt=[6,8,14,17,36,43,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,182,192,193,194],st=[2,199],at=[1,271],rt=[6,8,14,17,135,138,144,146,150,152,154],nt=[1,280],ot=[2,179],lt=[170,173],it=[2,210],Et=[1,290],ct=[1,291],Tt=[1,292],pt=[1,302],ut=[1,311],mt=[1,312],_t=[6,8,14,17,138,146,150,152,154],At=[1,322],Rt=[2,204],St=[1,328],dt=[16,152],Ot=[6,8,14,17,152,154],It=[1,354],Nt={trace:function(){},yy:{},symbols_:{error:2,main:3,selectClause:4,semicolonOpt:5,EOF:6,unionClause:7,";":8,unionClauseNotParenthesized:9,unionClauseParenthesized:10,order_by_opt:11,limit_opt:12,selectClauseParenthesized:13,UNION:14,distinctOpt:15,"(":16,")":17,SELECT:18,highPriorityOpt:19,maxStateMentTimeOpt:20,straightJoinOpt:21,sqlSmallResultOpt:22,sqlBigResultOpt:23,sqlBufferResultOpt:24,sqlCacheOpt:25,sqlCalcFoundRowsOpt:26,selectExprList:27,selectDataSetOpt:28,ALL:29,DISTINCT:30,DISTINCTROW:31,HIGH_PRIORITY:32,MAX_STATEMENT_TIME:33,"=":34,NUMERIC:35,STRAIGHT_JOIN:36,SQL_SMALL_RESULT:37,SQL_BIG_RESULT:38,SQL_BUFFER_RESULT:39,SQL_CACHE:40,SQL_NO_CACHE:41,SQL_CALC_FOUND_ROWS:42,",":43,selectExpr:44,"*":45,SELECT_EXPR_STAR:46,expr:47,selectExprAliasOpt:48,AS:49,IDENTIFIER:50,STRING:51,string:52,number:53,EXPONENT_NUMERIC:54,HEX_NUMERIC:55,boolean:56,TRUE:57,FALSE:58,null:59,NULL:60,literal:61,place_holder:62,function_call:63,function_call_param_list:64,function_call_param:65,identifier:66,DOT:67,identifier_list:68,case_expr_opt:69,when_then_list:70,WHEN:71,THEN:72,case_when_else:73,ELSE:74,case_when:75,CASE:76,END:77,simple_expr_prefix:78,"+":79,simple_expr:80,"-":81,"~":82,"!":83,BINARY:84,expr_list:85,ROW:86,EXISTS:87,"{":88,"}":89,bit_expr:90,"|":91,"&":92,"<<":93,">>":94,"/":95,DIV:96,MOD:97,"%":98,"^":99,not_opt:100,NOT:101,escape_opt:102,ESCAPE:103,predicate:104,IN:105,BETWEEN:106,AND:107,SOUNDS:108,LIKE:109,REGEXP:110,comparison_operator:111,">=":112,">":113,"<=":114,"<":115,"<>":116,"!=":117,sub_query_data_set_opt:118,ANY:119,boolean_primary:120,IS:121,boolean_extra:122,UNKNOWN:123,"&&":124,"||":125,OR:126,XOR:127,where_opt:128,WHERE:129,group_by_opt:130,group_by:131,roll_up_opt:132,WITH:133,ROLLUP:134,GROUP_BY:135,group_by_order_by_item_list:136,order_by:137,ORDER_BY:138,group_by_order_by_item:139,sort_opt:140,ASC:141,DESC:142,having_opt:143,HAVING:144,limit:145,LIMIT:146,OFFSET:147,procedure_opt:148,procedure:149,PROCEDURE:150,for_update_lock_in_share_mode_opt:151,FOR:152,UPDATE:153,LOCK:154,SHARE:155,MODE:156,FROM:157,table_references:158,partitionOpt:159,escaped_table_reference:160,table_reference:161,OJ:162,join_inner_cross:163,INNER:164,CROSS:165,left_right:166,LEFT:167,RIGHT:168,out_opt:169,OUTER:170,left_right_out_opt:171,join_table:172,JOIN:173,table_factor:174,join_condition:175,on_join_condition:176,NATURAL:177,join_condition_opt:178,ON:179,USING:180,partition_names:181,PARTITION:182,aliasOpt:183,index_or_key:184,INDEX:185,KEY:186,for_opt:187,identifier_list_opt:188,index_hint_list_opt:189,index_hint_list:190,index_hint:191,USE:192,IGNORE:193,FORCE:194,PLACE_HOLDER:195,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:";",14:"UNION",16:"(",17:")",18:"SELECT",29:"ALL",30:"DISTINCT",31:"DISTINCTROW",32:"HIGH_PRIORITY",33:"MAX_STATEMENT_TIME",34:"=",35:"NUMERIC",36:"STRAIGHT_JOIN",37:"SQL_SMALL_RESULT",38:"SQL_BIG_RESULT",39:"SQL_BUFFER_RESULT",40:"SQL_CACHE",41:"SQL_NO_CACHE",42:"SQL_CALC_FOUND_ROWS",43:",",45:"*",46:"SELECT_EXPR_STAR",49:"AS",50:"IDENTIFIER",51:"STRING",54:"EXPONENT_NUMERIC",55:"HEX_NUMERIC",57:"TRUE",58:"FALSE",60:"NULL",67:"DOT",71:"WHEN",72:"THEN",74:"ELSE",76:"CASE",77:"END",79:"+",81:"-",82:"~",83:"!",84:"BINARY",86:"ROW",87:"EXISTS",88:"{",89:"}",91:"|",92:"&",93:"<<",94:">>",95:"/",96:"DIV",97:"MOD",98:"%",99:"^",101:"NOT",103:"ESCAPE",105:"IN",106:"BETWEEN",107:"AND",108:"SOUNDS",109:"LIKE",110:"REGEXP",112:">=",113:">",114:"<=",115:"<",116:"<>",117:"!=",119:"ANY",121:"IS",123:"UNKNOWN",124:"&&",125:"||",126:"OR",127:"XOR",129:"WHERE",133:"WITH",134:"ROLLUP",135:"GROUP_BY",138:"ORDER_BY",141:"ASC",142:"DESC",144:"HAVING",146:"LIMIT",147:"OFFSET",150:"PROCEDURE",152:"FOR",153:"UPDATE",154:"LOCK",155:"SHARE",156:"MODE",157:"FROM",162:"OJ",164:"INNER",165:"CROSS",167:"LEFT",168:"RIGHT",170:"OUTER",173:"JOIN",177:"NATURAL",179:"ON",180:"USING",182:"PARTITION",185:"INDEX",186:"KEY",192:"USE",193:"IGNORE",194:"FORCE",195:"PLACE_HOLDER"},productions_:[0,[3,3],[3,3],[5,1],[5,0],[7,1],[7,3],[10,4],[10,4],[13,3],[9,4],[9,4],[4,12],[15,1],[15,1],[15,1],[15,0],[19,1],[19,0],[20,3],[20,0],[21,1],[21,0],[22,1],[22,0],[23,1],[23,0],[24,1],[24,0],[25,0],[25,1],[25,1],[26,1],[26,0],[27,3],[27,1],[44,1],[44,1],[44,2],[48,0],[48,2],[48,1],[48,2],[48,1],[52,1],[53,1],[53,1],[53,1],[56,1],[56,1],[59,1],[61,1],[61,1],[61,1],[61,1],[61,1],[63,4],[64,3],[64,1],[65,0],[65,1],[65,1],[65,2],[65,1],[66,1],[66,3],[68,1],[68,3],[69,0],[69,1],[70,4],[70,5],[73,0],[73,2],[75,5],[78,2],[78,2],[78,2],[78,2],[78,2],[80,1],[80,1],[80,1],[80,1],[80,3],[80,4],[80,3],[80,4],[80,4],[80,1],[90,1],[90,3],[90,3],[90,3],[90,3],[90,3],[90,3],[90,3],[90,3],[90,3],[90,3],[90,3],[90,3],[100,0],[100,1],[102,0],[102,2],[104,1],[104,6],[104,6],[104,6],[104,4],[104,5],[104,4],[111,1],[111,1],[111,1],[111,1],[111,1],[111,1],[111,1],[118,1],[118,1],[120,1],[120,4],[120,3],[120,6],[122,1],[122,1],[47,1],[47,4],[47,2],[47,3],[47,3],[47,3],[47,3],[47,3],[85,1],[85,3],[128,0],[128,2],[130,0],[130,1],[132,0],[132,2],[131,3],[11,0],[11,1],[137,3],[136,1],[136,3],[139,2],[140,0],[140,1],[140,1],[143,0],[143,2],[145,2],[145,4],[145,4],[12,0],[12,1],[148,0],[148,1],[149,2],[151,0],[151,2],[151,4],[28,0],[28,10],[158,1],[158,3],[160,1],[160,4],[163,0],[163,1],[163,1],[166,1],[166,1],[169,0],[169,1],[171,0],[171,2],[172,4],[172,5],[172,4],[172,6],[172,5],[178,0],[178,1],[176,2],[175,1],[175,4],[161,1],[161,1],[181,1],[181,3],[159,0],[159,4],[183,0],[183,2],[183,1],[184,1],[184,1],[187,0],[187,2],[187,2],[187,2],[188,0],[188,1],[189,0],[189,1],[190,1],[190,3],[191,6],[191,6],[191,6],[174,4],[174,4],[174,3],[174,3],[62,1]],performAction:function(e,t,s,a,r,n,o){var l=n.length-1;switch(r){case 1:case 2:return{nodeType:"Main",value:n[l-2],hasSemicolon:n[l-1]};case 3:case 144:this.$=!0;break;case 4:this.$=!1;break;case 5:case 13:case 14:case 15:case 17:case 19:case 21:case 23:case 25:case 27:case 30:case 31:case 32:case 51:case 52:case 53:case 54:case 55:case 60:case 61:case 63:case 69:case 73:case 80:case 81:case 82:case 83:case 89:case 90:case 104:case 106:case 107:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:case 127:case 129:case 140:case 142:case 147:case 153:case 154:case 156:case 161:case 163:case 164:case 175:case 176:case 177:case 178:case 180:case 189:case 191:case 193:case 194:case 202:case 203:case 209:case 211:this.$=n[l];break;case 6:this.$=n[l-2],this.$.orderBy=n[l-1],this.$.limit=n[l];break;case 7:case 8:case 10:case 11:this.$={type:"Union",left:n[l-3],distinctOpt:n[l-1],right:n[l]};break;case 9:this.$={type:"SelectParenthesized",value:n[l-1]};break;case 12:this.$={type:"Select",distinctOpt:n[l-10],highPriorityOpt:n[l-9],maxStateMentTimeOpt:n[l-8],straightJoinOpt:n[l-7],sqlSmallResultOpt:n[l-6],sqlBigResultOpt:n[l-5],sqlBufferResultOpt:n[l-4],sqlCacheOpt:n[l-3],sqlCalcFoundRowsOpt:n[l-2],selectItems:n[l-1],from:n[l].from,partition:n[l].partition,where:n[l].where,groupBy:n[l].groupBy,having:n[l].having,orderBy:n[l].orderBy,limit:n[l].limit,procedure:n[l].procedure,updateLockMode:n[l].updateLockMode};break;case 16:case 18:case 20:case 22:case 24:case 26:case 28:case 29:case 33:case 59:case 68:case 72:case 103:case 105:case 139:case 141:case 143:case 146:case 152:case 155:case 160:case 162:case 165:case 174:case 179:case 188:case 197:case 204:case 208:case 210:this.$=null;break;case 34:n[l-2].value.push(n[l]);break;case 35:this.$={type:"SelectExpr",value:[n[l]]};break;case 36:case 37:case 64:this.$={type:"Identifier",value:n[l]};break;case 38:this.$=n[l-1],this.$.alias=n[l].alias,this.$.hasAs=n[l].hasAs;break;case 39:case 199:this.$={alias:null,hasAs:null};break;case 40:case 42:this.$={alias:n[l],hasAs:!0};break;case 41:this.$={alias:n[l],hasAs:!1};break;case 43:this.$={alias:n[$01],hasAs:!1};break;case 44:this.$={type:"String",value:n[l]};break;case 45:case 46:case 47:this.$={type:"Number",value:n[l]};break;case 48:this.$={type:"Boolean",value:"TRUE"};break;case 49:this.$={type:"Boolean",value:"FALSE"};break;case 50:this.$={type:"Null",value:"null"};break;case 56:this.$={type:"FunctionCall",name:n[l-3],params:n[l-1]};break;case 57:n[l-2].push(n[l]),this.$=n[l-2];break;case 58:case 149:case 195:this.$=[n[l]];break;case 62:this.$={type:"FunctionCallParam",distinctOpt:n[l-1],value:n[l]};break;case 65:this.$=n[l-2],n[l-2].value+="."+n[l];break;case 66:this.$={type:"IdentifierList",value:[n[l]]};break;case 67:case 171:this.$=n[l-2],n[l-2].value.push(n[l]);break;case 70:this.$={type:"WhenThenList",value:[{when:n[l-2],then:n[l]}]};break;case 71:this.$=n[l-4],this.$.value.push({when:n[l-2],then:n[l]});break;case 74:this.$={type:"CaseWhen",caseExprOpt:n[l-3],whenThenList:n[l-2],else:n[l-1]};break;case 75:case 76:case 77:case 78:case 79:this.$={type:"Prefix",prefix:n[l-1],value:n[l]};break;case 84:this.$={type:"SimpleExprParentheses",value:n[l-1]};break;case 85:this.$={type:"SimpleExprParentheses",value:n[l-2],hasRow:!0};break;case 86:this.$={type:"SubQuery",value:n[l-1]};break;case 87:this.$={type:"SubQuery",value:n[l-1],hasExists:!0};break;case 88:this.$={type:"IdentifierExpr",identifier:n[l-2],value:n[l-1]};break;case 91:this.$={type:"BitExpression",operator:"|",left:n[l-2],right:n[l]};break;case 92:this.$={type:"BitExpression",operator:"&",left:n[l-2],right:n[l]};break;case 93:this.$={type:"BitExpression",operator:"<<",left:n[l-2],right:n[l]};break;case 94:this.$={type:"BitExpression",operator:">>",left:n[l-2],right:n[l]};break;case 95:this.$={type:"BitExpression",operator:"+",left:n[l-2],right:n[l]};break;case 96:this.$={type:"BitExpression",operator:"-",left:n[l-2],right:n[l]};break;case 97:this.$={type:"BitExpression",operator:"*",left:n[l-2],right:n[l]};break;case 98:this.$={type:"BitExpression",operator:"/",left:n[l-2],right:n[l]};break;case 99:this.$={type:"BitExpression",operator:"DIV",left:n[l-2],right:n[l]};break;case 100:this.$={type:"BitExpression",operator:"MOD",left:n[l-2],right:n[l]};break;case 101:this.$={type:"BitExpression",operator:"%",left:n[l-2],right:n[l]};break;case 102:this.$={type:"BitExpression",operator:"^",left:n[l-2],right:n[l]};break;case 108:this.$={type:"InSubQueryPredicate",hasNot:n[l-4],left:n[l-5],right:n[l-1]};break;case 109:this.$={type:"InExpressionListPredicate",hasNot:n[l-4],left:n[l-5],right:n[l-1]};break;case 110:this.$={type:"BetweenPredicate",hasNot:n[l-4],left:n[l-5],right:{left:n[l-2],right:n[l]}};break;case 111:this.$={type:"SoundsLikePredicate",hasNot:!1,left:n[l-3],right:n[l]};break;case 112:this.$={type:"LikePredicate",hasNot:n[l-3],left:n[l-4],right:n[l-1],escape:n[l]};break;case 113:this.$={type:"RegexpPredicate",hasNot:n[l-2],left:n[l-3],right:n[l]};break;case 124:this.$={type:"IsNullBooleanPrimary",hasNot:n[l-1],value:n[l-3]};break;case 125:this.$={type:"ComparisonBooleanPrimary",left:n[l-2],operator:n[l-1],right:n[l]};break;case 126:this.$={type:"ComparisonSubQueryBooleanPrimary",operator:n[l-4],subQueryOpt:n[l-3],left:n[l-5],right:n[l-1]};break;case 128:this.$={type:"BooleanExtra",value:n[l]};break;case 130:this.$={type:"IsExpression",hasNot:n[l-1],left:n[l-3],right:n[l]};break;case 131:this.$={type:"NotExpression",value:n[l]};break;case 132:case 135:this.$={type:"AndExpression",operator:n[l-1],left:n[l-2],right:n[l]};break;case 133:case 134:this.$={type:"OrExpression",operator:n[l-1],left:n[l-2],right:n[l]};break;case 136:this.$={type:"XORExpression",left:n[l-2],right:n[l]};break;case 137:this.$={type:"ExpressionList",value:[n[l]]};break;case 138:case 213:this.$=n[l-2],this.$.value.push(n[l]);break;case 145:this.$={type:"GroupBy",value:n[l-1],rollUp:n[l]};break;case 148:this.$={type:"OrderBy",value:n[l-1],rollUp:n[l]};break;case 150:case 196:this.$=n[l-2],n[l-2].push(n[l]);break;case 151:this.$={type:"GroupByOrderByItem",value:n[l-1],sortOpt:n[l]};break;case 157:this.$={type:"Limit",value:[n[l]]};break;case 158:this.$={type:"Limit",value:[n[l-2],n[l]]};break;case 159:this.$={type:"Limit",value:[n[l],n[l-2]],offsetMode:!0};break;case 166:this.$=n[l-1]+" "+n[l];break;case 167:this.$=n[l-3]+" "+n[l-2]+" "+n[l-1]+" "+n[l];break;case 168:this.$={};break;case 169:this.$={from:n[l-8],partition:n[l-7],where:n[l-6],groupBy:n[l-5],having:n[l-4],orderBy:n[l-3],limit:n[l-2],procedure:n[l-1],updateLockMode:n[l]};break;case 170:this.$={type:"TableReferences",value:[n[l]]};break;case 172:this.$={type:"TableReference",value:n[l]};break;case 173:this.$={type:"TableReference",hasOj:!0,value:n[l-1]};break;case 181:this.$={leftRight:null,outOpt:null};break;case 182:this.$={leftRight:n[l-1],outOpt:n[l]};break;case 183:this.$={type:"InnerCrossJoinTable",innerCrossOpt:n[l-2],left:n[l-3],right:n[l],condition:null};break;case 184:this.$={type:"InnerCrossJoinTable",innerCrossOpt:n[l-3],left:n[l-4],right:n[l-1],condition:n[l]};break;case 185:this.$={type:"StraightJoinTable",left:n[l-3],right:n[l-1],condition:n[l]};break;case 186:this.$={type:"LeftRightJoinTable",leftRight:n[l-4],outOpt:n[l-3],left:n[l-5],right:n[l-1],condition:n[l]};break;case 187:this.$={type:"NaturalJoinTable",leftRight:n[l-2].leftRight,outOpt:n[l-2].outOpt,left:n[l-4],right:n[l]};break;case 190:this.$={type:"OnJoinCondition",value:n[l]};break;case 192:this.$={type:"UsingJoinCondition",value:n[l-1]};break;case 198:this.$={type:"Partitions",value:n[l-1]};break;case 200:this.$={hasAs:!0,alias:n[l]};break;case 201:this.$={hasAs:!1,alias:n[l]};break;case 205:case 206:case 207:this.$={type:"ForOptIndexHint",value:n[l]};break;case 212:this.$={type:"IndexHintList",value:[n[l]]};break;case 214:this.$={type:"UseIndexHint",value:n[l-1],forOpt:n[l-3],indexOrKey:n[l-4]};break;case 215:this.$={type:"IgnoreIndexHint",value:n[l-1],forOpt:n[l-3],indexOrKey:n[l-4]};break;case 216:this.$={type:"ForceIndexHint",value:n[l-1],forOpt:n[l-3],indexOrKey:n[l-4]};break;case 217:this.$={type:"TableFactor",value:n[l-3],partition:n[l-2],alias:n[l-1].alias,hasAs:n[l-1].hasAs,indexHintOpt:n[l]};break;case 218:this.$={type:"TableFactor",value:{type:"SubQuery",value:n[l-2]},alias:n[l].alias,hasAs:n[l].hasAs};break;case 219:this.$=n[l-1],this.$.hasParentheses=!0;break;case 220:this.$={type:"TableFactor",value:n[l-2],alias:n[l-1].alias,hasAs:n[l-1].hasAs,indexHintOpt:n[l]};break;case 221:this.$={type:"PlaceHolder",value:n[l],param:n[l].slice(2,-1)}}},table:[{3:1,4:2,7:3,9:5,10:6,13:7,16:t,18:s},{1:[3]},{5:9,6:a,8:r,14:n},{5:12,6:a,8:r},e([16,32,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,101,195],o,{15:13,29:l,30:i,31:E}),e(c,[2,5]),e([6,8,146],T,{11:17,137:18,138:p}),{14:u},{4:21,18:s},{6:[1,22]},{15:23,18:o,29:l,30:i,31:E},{6:[2,3]},{6:[1,24]},e(m,[2,18],{19:25,32:[1,26]}),e(_,[2,13]),e(_,[2,14]),e(_,[2,15]),e(c,A,{12:27,145:28,146:R}),e(S,[2,147]),{16:d,35:O,47:32,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,136:30,139:31,195:k},{15:67,16:o,29:l,30:i,31:E},{17:[1,68]},{1:[2,1]},{4:69,9:70,18:s},{1:[2,2]},e(G,[2,20],{20:71,33:[1,72]}),e(m,[2,17]),e(c,[2,6]),e(B,[2,161]),{35:[1,73]},e(S,H,{132:74,43:F,133:Y}),e(V,[2,149]),e(V,[2,152],{140:77,107:W,124:X,125:K,126:q,127:j,141:[1,83],142:[1,84]}),e(J,[2,129],{111:86,34:[1,87],112:[1,88],113:[1,89],114:[1,90],115:[1,91],116:[1,92],117:[1,93],121:[1,85]}),{16:d,35:O,47:94,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(Q,[2,123]),e(Q,[2,107],{100:95,45:Z,79:z,81:ee,91:te,92:se,93:ae,94:re,95:ne,96:oe,97:le,98:ie,99:Ee,101:ce,105:Te,106:Te,109:Te,110:Te,108:[1,96]}),e(pe,[2,90]),e(ue,[2,80]),e(ue,[2,81],{67:me}),e(ue,[2,82]),e(ue,[2,83]),{4:112,16:d,18:s,35:O,47:113,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,85:111,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{16:[1,114]},{16:[1,115]},{50:_e,66:116},e(ue,[2,89]),e(ue,[2,51]),e(ue,[2,52]),e(ue,[2,53]),e(ue,[2,54]),e(ue,[2,55]),e([6,8,14,17,34,36,43,45,49,50,51,67,71,72,74,77,79,81,89,91,92,93,94,95,96,97,98,99,101,103,105,106,107,108,109,110,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182,192,193,194],Ae,{16:Re}),{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:119,81:D,82:P,83:g,84:x,86:w,87:M,88:U,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:120,81:D,82:P,83:g,84:x,86:w,87:M,88:U,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:121,81:D,82:P,83:g,84:x,86:w,87:M,88:U,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:122,81:D,82:P,83:g,84:x,86:w,87:M,88:U,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:123,81:D,82:P,83:g,84:x,86:w,87:M,88:U,195:k},{16:d,35:O,47:125,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,69:124,71:[2,68],75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(ue,[2,44]),e(ue,[2,45]),e(ue,[2,46]),e(ue,[2,47]),e(ue,[2,48]),e(ue,[2,49]),e(ue,[2,50]),e(ue,[2,221]),{10:127,13:126,16:t},e([6,8,14,138,146],[2,9]),e(c,[2,10],{14:n}),e(c,[2,11]),e(Se,[2,22],{21:128,36:[1,129]}),{34:[1,130]},e(B,[2,157],{43:[1,131],147:[1,132]}),e(S,[2,148]),{16:d,35:O,47:32,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,139:133,195:k},{134:[1,134]},e(V,[2,151]),{16:d,35:O,47:135,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{16:d,35:O,47:136,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{16:d,35:O,47:137,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{16:d,35:O,47:138,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{16:d,35:O,47:139,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(V,[2,153]),e(V,[2,154]),e([57,58,60,123],Te,{100:140,101:ce}),{16:d,29:[1,143],35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,104:141,118:142,119:[1,144],195:k},e(de,[2,114]),e(de,[2,115]),e(de,[2,116]),e(de,[2,117]),e(de,[2,118]),e(de,[2,119]),e(de,[2,120]),e(J,[2,131]),{105:[1,145],106:[1,146],109:[1,147],110:[1,148]},{109:[1,149]},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:150,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:151,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:152,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:153,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:154,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:155,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:156,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:157,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:158,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:159,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:160,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:161,195:k},e([57,58,60,105,106,109,110,123],[2,104]),{50:[1,162]},{17:[1,163],43:Oe},{17:[1,165]},e(Ie,[2,137],{107:W,124:X,125:K,126:q,127:j}),{16:d,35:O,47:113,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,85:166,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{4:167,18:s},{16:d,35:O,47:168,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,67:me,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e([6,8,14,16,17,35,36,43,50,51,54,55,57,58,60,67,76,79,81,82,83,84,86,87,88,89,101,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,182,192,193,194,195],Ae),e(Ie,Ne,{120:33,104:35,90:36,80:37,61:38,66:39,63:40,78:41,75:46,52:47,53:48,56:49,59:50,62:51,64:169,65:170,47:174,16:d,30:be,35:O,45:Ce,46:ye,50:I,51:N,54:b,55:C,57:y,58:L,60:h,76:f,79:$,81:D,82:P,83:g,84:x,86:w,87:M,88:U,101:v,195:k}),e(ue,[2,75]),e(ue,[2,76]),e(ue,[2,77]),e(ue,[2,78]),e(ue,[2,79]),{70:175,71:[1,176]},{71:[2,69],107:W,124:X,125:K,126:q,127:j},e(Le,[2,7],{14:u}),e(Le,[2,8]),e(he,[2,24],{22:177,37:[1,178]}),e(Se,[2,21]),{35:[1,179]},{35:[1,180]},{35:[1,181]},e(V,[2,150]),e(fe,[2,144]),e(J,[2,132]),e($e,[2,133],{107:W,124:X}),e($e,[2,134],{107:W,124:X}),e(J,[2,135]),e($e,[2,136],{107:W,124:X}),{56:184,57:y,58:L,60:[1,183],122:182,123:[1,185]},e(Q,[2,125]),{16:[1,186]},{16:[2,121]},{16:[2,122]},{16:[1,187]},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:188,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:189,81:D,82:P,83:g,84:x,86:w,87:M,88:U,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:190,195:k},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:191,195:k},e([6,8,14,17,34,36,43,49,50,51,71,72,74,77,89,91,101,105,106,107,108,109,110,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],[2,91],{45:Z,79:z,81:ee,92:se,93:ae,94:re,95:ne,96:oe,97:le,98:ie,99:Ee}),e([6,8,14,17,34,36,43,49,50,51,71,72,74,77,89,91,92,99,101,105,106,107,108,109,110,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],[2,92],{45:Z,79:z,81:ee,93:ae,94:re,95:ne,96:oe,97:le,98:ie}),e(De,[2,93],{45:Z,79:z,81:ee,95:ne,96:oe,97:le,98:ie}),e(De,[2,94],{45:Z,79:z,81:ee,95:ne,96:oe,97:le,98:ie}),e(Pe,[2,95],{45:Z,95:ne,96:oe,97:le,98:ie}),e(Pe,[2,96],{45:Z,95:ne,96:oe,97:le,98:ie}),e(pe,[2,97]),e(pe,[2,98]),e(pe,[2,99]),e(pe,[2,100]),e(pe,[2,101]),e([6,8,14,17,34,36,43,49,50,51,71,72,74,77,89,91,99,101,105,106,107,108,109,110,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],[2,102],{45:Z,79:z,81:ee,92:se,93:ae,94:re,95:ne,96:oe,97:le,98:ie}),e([6,8,14,16,17,34,35,36,43,45,49,50,51,54,55,57,58,60,67,71,72,74,76,77,79,81,82,83,84,86,87,88,89,91,92,93,94,95,96,97,98,99,101,103,105,106,107,108,109,110,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182,192,193,194,195],[2,65]),e(ue,[2,84]),{16:d,35:O,47:192,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(ue,[2,86]),{17:[1,193],43:Oe},{17:[1,194]},{89:[1,195],107:W,124:X,125:K,126:q,127:j},{17:[1,196],43:[1,197]},e(Ie,[2,58]),e(Ie,[2,60]),e(Ie,[2,61]),{16:d,35:O,47:198,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(Ie,[2,63],{107:W,124:X,125:K,126:q,127:j}),{71:[1,200],73:199,74:[1,201],77:[2,72]},{16:d,35:O,47:202,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(ge,[2,26],{23:203,38:[1,204]}),e(he,[2,23]),e(G,[2,19]),e(B,[2,158]),e(B,[2,159]),e(J,[2,130]),e(Q,[2,124]),e(J,[2,127]),e(J,[2,128]),{4:205,18:s},{4:206,16:d,18:s,35:O,47:113,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,85:207,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{45:Z,79:z,81:ee,91:te,92:se,93:ae,94:re,95:ne,96:oe,97:le,98:ie,99:Ee,107:[1,208]},e(Q,[2,105],{102:209,103:[1,210]}),e(Q,[2,113],{45:Z,79:z,81:ee,91:te,92:se,93:ae,94:re,95:ne,96:oe,97:le,98:ie,99:Ee}),e(Q,[2,111],{45:Z,79:z,81:ee,91:te,92:se,93:ae,94:re,95:ne,96:oe,97:le,98:ie,99:Ee}),e(Ie,[2,138],{107:W,124:X,125:K,126:q,127:j}),e(ue,[2,85]),e(ue,[2,87]),e(ue,[2,88]),e([6,8,14,17,34,36,43,45,49,50,51,71,72,74,77,79,81,89,91,92,93,94,95,96,97,98,99,101,103,105,106,107,108,109,110,112,113,114,115,116,117,121,124,125,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182,192,193,194],[2,56]),e(Ie,Ne,{120:33,104:35,90:36,80:37,61:38,66:39,63:40,78:41,75:46,52:47,53:48,56:49,59:50,62:51,47:174,65:211,16:d,30:be,35:O,45:Ce,46:ye,50:I,51:N,54:b,55:C,57:y,58:L,60:h,76:f,79:$,81:D,82:P,83:g,84:x,86:w,87:M,88:U,101:v,195:k}),e(Ie,[2,62],{107:W,124:X,125:K,126:q,127:j}),{77:[1,212]},{16:d,35:O,47:213,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{16:d,35:O,47:214,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{72:[1,215],107:W,124:X,125:K,126:q,127:j},e(xe,[2,28],{24:216,39:[1,217]}),e(ge,[2,25]),{17:[1,218]},{17:[1,219]},{17:[1,220],43:Oe},{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,104:221,195:k},e(Q,[2,112]),{16:d,35:O,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:222,81:D,82:P,83:g,84:x,86:w,87:M,88:U,195:k},e(Ie,[2,57]),e(ue,[2,74]),{72:[1,223],107:W,124:X,125:K,126:q,127:j},{77:[2,73],107:W,124:X,125:K,126:q,127:j},{16:d,35:O,47:224,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(we,[2,29],{25:225,40:[1,226],41:[1,227]}),e(xe,[2,27]),e(Q,[2,126]),e(Q,[2,108]),e(Q,[2,109]),e(Q,[2,110]),e(Q,[2,106]),{16:d,35:O,47:228,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(Me,[2,70],{107:W,124:X,125:K,126:q,127:j}),e(Ue,[2,33],{26:229,42:[1,230]}),e(we,[2,30]),e(we,[2,31]),e(Me,[2,71],{107:W,124:X,125:K,126:q,127:j}),{16:d,27:231,35:O,44:232,45:ve,46:ke,47:235,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(Ue,[2,32]),e(Ge,[2,168],{28:236,43:[1,237],157:[1,238]}),e(Be,[2,35]),e(Be,[2,36]),e(Be,[2,37]),e(Be,[2,39],{48:239,49:[1,240],50:[1,241],51:[1,242],107:W,124:X,125:K,126:q,127:j}),e(Ge,[2,12]),{16:d,35:O,44:243,45:ve,46:ke,47:235,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{16:He,50:I,63:252,66:250,88:Fe,158:244,160:245,161:246,172:249,174:248},e(Be,[2,38]),{50:[1,253],51:[1,254]},e(Be,[2,41]),e(Be,[2,43]),e(Be,[2,34]),e([6,8,14,17,129,135,138,144,146,150,152,154],Ye,{159:255,43:Ve,182:We}),e(Xe,[2,170]),e(Xe,[2,172],{163:258,166:260,36:Ke,164:qe,165:je,167:Je,168:Qe,173:Ze,177:ze}),{162:[1,266]},e(et,[2,193]),e(et,[2,194]),e([6,8,14,17,36,43,49,50,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,192,193,194],Ye,{159:267,67:me,182:We}),{4:268,16:He,18:s,50:I,63:252,66:250,88:Fe,158:269,160:245,161:246,172:249,174:248},e(tt,st,{183:270,66:272,49:at,50:_e}),e(Be,[2,40]),e(Be,[2,42]),e(rt,[2,139],{128:273,129:[1,274]}),{16:He,50:I,63:252,66:250,88:Fe,160:275,161:246,172:249,174:248},{16:[1,276]},{173:[1,277]},{16:He,50:I,63:252,66:250,174:278},{169:279,170:nt,173:ot},{166:282,167:Je,168:Qe,171:281,173:[2,181]},{173:[2,175]},{173:[2,176]},e(lt,[2,177]),e(lt,[2,178]),{16:He,50:I,63:252,66:250,161:283,172:249,174:248},e(tt,st,{66:272,183:284,49:at,50:_e}),{17:[1,285]},{17:[1,286],43:Ve},e(et,it,{189:287,190:288,191:289,192:Et,193:ct,194:Tt}),{50:_e,66:293},e(tt,[2,201],{67:me}),e(fe,[2,141],{130:294,131:295,135:[1,296]}),{16:d,35:O,47:297,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(Xe,[2,171]),{50:_e,66:299,181:298},{16:He,50:I,63:252,66:250,174:300},{176:301,179:pt},{173:[1,303]},{173:[2,180]},{173:[1,304]},{169:305,170:nt,173:ot},{36:Ke,89:[1,306],163:258,164:qe,165:je,166:260,167:Je,168:Qe,173:Ze,177:ze},e(et,it,{190:288,191:289,189:307,192:Et,193:ct,194:Tt}),e(et,st,{66:272,183:308,49:at,50:_e}),e(et,[2,219]),e(et,[2,220]),e(et,[2,211]),e(et,[2,212]),{184:310,185:ut,186:mt},{184:313,185:ut,186:mt},{184:314,185:ut,186:mt},e(tt,[2,200],{67:me}),e(_t,[2,155],{143:315,144:[1,316]}),e(fe,[2,142]),{16:d,35:O,47:32,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,136:317,139:31,195:k},e(rt,[2,140],{107:W,124:X,125:K,126:q,127:j}),{17:[1,318],43:[1,319]},e(Ie,[2,195],{67:me}),e([6,8,14,17,36,43,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,182],[2,183],{175:320,176:321,179:pt,180:At}),e(et,[2,185]),{16:d,35:O,47:323,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},{16:He,50:I,63:252,66:250,161:324,172:249,174:248},{16:He,50:I,63:252,66:250,174:325},{173:[2,182]},e(Xe,[2,173]),e(et,[2,217]),e(et,[2,218]),{191:326,192:Et,193:ct,194:Tt},{16:Rt,152:St,187:327},e(dt,[2,202]),e(dt,[2,203]),{16:Rt,152:St,187:329},{16:Rt,152:St,187:330},e(S,T,{137:18,11:331,138:p}),{16:d,35:O,47:332,50:I,51:N,52:47,53:48,54:b,55:C,56:49,57:y,58:L,59:50,60:h,61:38,62:51,63:40,66:39,75:46,76:f,78:41,79:$,80:37,81:D,82:P,83:g,84:x,86:w,87:M,88:U,90:36,101:v,104:35,120:33,195:k},e(fe,H,{132:333,43:F,133:Y}),e([6,8,14,17,36,43,49,50,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,182,192,193,194],[2,198]),{50:_e,66:334},e(et,[2,184]),e(et,[2,191]),{16:[1,335]},e(et,[2,190],{107:W,124:X,125:K,126:q,127:j}),{36:Ke,163:258,164:qe,165:je,166:260,167:Je,168:Qe,173:Ze,175:336,176:321,177:ze,179:pt,180:At},e(et,[2,187]),e(et,[2,213]),{16:[1,337]},{135:[1,340],138:[1,339],173:[1,338]},{16:[1,341]},{16:[1,342]},e(B,A,{145:28,12:343,146:R}),e(_t,[2,156],{107:W,124:X,125:K,126:q,127:j}),e(fe,[2,145]),e(Ie,[2,196],{67:me}),{50:_e,66:345,68:344},e(et,[2,186]),{17:[2,208],50:_e,66:345,68:347,188:346},{16:[2,205]},{16:[2,206]},{16:[2,207]},{50:_e,66:345,68:348},{50:_e,66:345,68:349},e(Ot,[2,162],{148:350,149:351,150:[1,352]}),{17:[1,353],43:It},e(Ie,[2,66],{67:me}),{17:[1,355]},{17:[2,209],43:It},{17:[1,356],43:It},{17:[1,357],43:It},e(Ge,[2,165],{151:358,152:[1,359],154:[1,360]}),e(Ot,[2,163]),{50:[1,362],63:361},e(et,[2,192]),{50:_e,66:363},e(et,[2,214]),e(et,[2,215]),e(et,[2,216]),e(Ge,[2,169]),{153:[1,364]},{105:[1,365]},e(Ot,[2,164]),{16:Re},e(Ie,[2,67],{67:me}),e(Ge,[2,166]),{155:[1,366]},{156:[1,367]},e(Ge,[2,167])],defaultActions:{11:[2,3],22:[2,1],24:[2,2],143:[2,121],144:[2,122],262:[2,175],263:[2,176],280:[2,180],305:[2,182],338:[2,205],339:[2,206],340:[2,207]},parseError:function(e,t){if(!t.recoverable){var s=new Error(e);throw s.hash=t,s}this.trace(e)},parse:function(e){var t=this,s=[0],a=[null],r=[],n=this.table,o="",l=0,i=0,E=0,c=r.slice.call(arguments,1),T=Object.create(this.lexer),p={yy:{}};for(var u in this.yy)Object.prototype.hasOwnProperty.call(this.yy,u)&&(p.yy[u]=this.yy[u]);T.setInput(e,p.yy),p.yy.lexer=T,p.yy.parser=this,void 0===T.yylloc&&(T.yylloc={});var m=T.yylloc;r.push(m);var _=T.options&&T.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var A,R,S,d,O,I,N,b,C,y=function(){var e;return"number"!=typeof(e=T.lex()||1)&&(e=t.symbols_[e]||e),e},L={};;){if(S=s[s.length-1],this.defaultActions[S]?d=this.defaultActions[S]:(null==A&&(A=y()),d=n[S]&&n[S][A]),void 0===d||!d.length||!d[0]){var h="";for(I in C=[],n[S])this.terminals_[I]&&I>2&&C.push("'"+this.terminals_[I]+"'");h=T.showPosition?"Parse error on line "+(l+1)+":\n"+T.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[A]||A)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==A?"end of input":"'"+(this.terminals_[A]||A)+"'"),this.parseError(h,{text:T.match,token:this.terminals_[A]||A,line:T.yylineno,loc:m,expected:C})}if(d[0]instanceof Array&&d.length>1)throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+A);switch(d[0]){case 1:s.push(A),a.push(T.yytext),r.push(T.yylloc),s.push(d[1]),A=null,R?(A=R,R=null):(i=T.yyleng,o=T.yytext,l=T.yylineno,m=T.yylloc,E>0&&E--);break;case 2:if(N=this.productions_[d[1]][1],L.$=a[a.length-N],L._$={first_line:r[r.length-(N||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(N||1)].first_column,last_column:r[r.length-1].last_column},_&&(L._$.range=[r[r.length-(N||1)].range[0],r[r.length-1].range[1]]),void 0!==(O=this.performAction.apply(L,[o,i,l,p.yy,d[1],a,r].concat(c))))return O;N&&(s=s.slice(0,-1*N*2),a=a.slice(0,-1*N),r=r.slice(0,-1*N)),s.push(this.productions_[d[1]][0]),a.push(L.$),r.push(L._$),b=n[s[s.length-2]][s[s.length-1]],s.push(b);break;case 3:return!0}}return!0}},bt={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,s=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===a.length?this.yylloc.first_column:0)+a[a.length-s.length].length-s[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var s,a,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(a=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],s=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var n in r)this[n]=r[n];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,s,a;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),n=0;n<r.length;n++)if((s=this._input.match(this.rules[r[n]]))&&(!t||s[0].length>t[0].length)){if(t=s,a=n,this.options.backtrack_lexer){if(!1!==(e=this.test_match(s,r[n])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[a]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,s,a){switch(s){case 0:case 1:case 2:case 3:break;case 4:return 195;case 5:case 6:case 7:case 115:case 119:return 50;case 8:return 18;case 9:return 29;case 10:return 119;case 11:return 30;case 12:return 31;case 13:return 32;case 14:return 33;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 46;case 23:return 49;case 24:return 57;case 25:return 58;case 26:return 60;case 27:return"COLLATE";case 28:return 84;case 29:return 86;case 30:return 87;case 31:return 76;case 32:return 71;case 33:return 72;case 34:return 74;case 35:return 77;case 36:return 96;case 37:return 97;case 38:return 101;case 39:return 106;case 40:return 105;case 41:return 108;case 42:return 109;case 43:return 103;case 44:return 110;case 45:return 121;case 46:return 123;case 47:return 107;case 48:return 126;case 49:return 127;case 50:return 157;case 51:return 182;case 52:return 192;case 53:return 185;case 54:return 186;case 55:return 152;case 56:return 173;case 57:return 138;case 58:return 135;case 59:return 193;case 60:return 194;case 61:return 164;case 62:return 165;case 63:return 179;case 64:return 180;case 65:return 167;case 66:return 168;case 67:return 170;case 68:return 177;case 69:return 129;case 70:return 141;case 71:return 142;case 72:return 133;case 73:return 134;case 74:return 144;case 75:return 147;case 76:return 150;case 77:return 153;case 78:return 154;case 79:return 155;case 80:return 156;case 81:return 162;case 82:return 146;case 83:return 14;case 84:return 43;case 85:return 34;case 86:return 16;case 87:return 17;case 88:return 82;case 89:return 117;case 90:return 83;case 91:return 91;case 92:return 92;case 93:return 79;case 94:return 81;case 95:return 45;case 96:return 95;case 97:return 98;case 98:return 99;case 99:return 94;case 100:return 112;case 101:return 113;case 102:return 93;case 103:return"<=>";case 104:return 114;case 105:return 116;case 106:return 115;case 107:return 88;case 108:return 89;case 109:return 8;case 110:case 111:case 117:case 118:return 51;case 112:return 55;case 113:return 35;case 114:return 54;case 116:return 67;case 120:return 6;case 121:return"INVALID"}},rules:[/^(?:[/][*](.|\n)*?[*][/])/i,/^(?:[-][-]\s.*\n)/i,/^(?:[#]\s.*\n)/i,/^(?:\s+)/i,/^(?:[$][{](.+?)[}])/i,/^(?:[`][a-zA-Z0-9_\u0080-\uFFFF]*[`])/i,/^(?:[\w]+[\u0080-\uFFFF]+[0-9a-zA-Z_\u0080-\uFFFF]*)/i,/^(?:[\u0080-\uFFFF][0-9a-zA-Z_\u0080-\uFFFF]*)/i,/^(?:SELECT\b)/i,/^(?:ALL\b)/i,/^(?:ANY\b)/i,/^(?:DISTINCT\b)/i,/^(?:DISTINCTROW\b)/i,/^(?:HIGH_PRIORITY\b)/i,/^(?:MAX_STATEMENT_TIME\b)/i,/^(?:STRAIGHT_JOIN\b)/i,/^(?:SQL_SMALL_RESULT\b)/i,/^(?:SQL_BIG_RESULT\b)/i,/^(?:SQL_BUFFER_RESULT\b)/i,/^(?:SQL_CACHE\b)/i,/^(?:SQL_NO_CACHE\b)/i,/^(?:SQL_CALC_FOUND_ROWS\b)/i,/^(?:([a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*\.){1,2}\*)/i,/^(?:AS\b)/i,/^(?:TRUE\b)/i,/^(?:FALSE\b)/i,/^(?:NULL\b)/i,/^(?:COLLATE\b)/i,/^(?:BINARY\b)/i,/^(?:ROW\b)/i,/^(?:EXISTS\b)/i,/^(?:CASE\b)/i,/^(?:WHEN\b)/i,/^(?:THEN\b)/i,/^(?:ELSE\b)/i,/^(?:END\b)/i,/^(?:DIV\b)/i,/^(?:MOD\b)/i,/^(?:NOT\b)/i,/^(?:BETWEEN\b)/i,/^(?:IN\b)/i,/^(?:SOUNDS\b)/i,/^(?:LIKE\b)/i,/^(?:ESCAPE\b)/i,/^(?:REGEXP\b)/i,/^(?:IS\b)/i,/^(?:UNKNOWN\b)/i,/^(?:AND\b)/i,/^(?:OR\b)/i,/^(?:XOR\b)/i,/^(?:FROM\b)/i,/^(?:PARTITION\b)/i,/^(?:USE\b)/i,/^(?:INDEX\b)/i,/^(?:KEY\b)/i,/^(?:FOR\b)/i,/^(?:JOIN\b)/i,/^(?:ORDER\s+BY\b)/i,/^(?:GROUP\s+BY\b)/i,/^(?:IGNORE\b)/i,/^(?:FORCE\b)/i,/^(?:INNER\b)/i,/^(?:CROSS\b)/i,/^(?:ON\b)/i,/^(?:USING\b)/i,/^(?:LEFT\b)/i,/^(?:RIGHT\b)/i,/^(?:OUTER\b)/i,/^(?:NATURAL\b)/i,/^(?:WHERE\b)/i,/^(?:ASC\b)/i,/^(?:DESC\b)/i,/^(?:WITH\b)/i,/^(?:ROLLUP\b)/i,/^(?:HAVING\b)/i,/^(?:OFFSET\b)/i,/^(?:PROCEDURE\b)/i,/^(?:UPDATE\b)/i,/^(?:LOCK\b)/i,/^(?:SHARE\b)/i,/^(?:MODE\b)/i,/^(?:OJ\b)/i,/^(?:LIMIT\b)/i,/^(?:UNION\b)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\()/i,/^(?:\))/i,/^(?:~)/i,/^(?:!=)/i,/^(?:!)/i,/^(?:\|)/i,/^(?:&)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:\*)/i,/^(?:\/)/i,/^(?:%)/i,/^(?:\^)/i,/^(?:>>)/i,/^(?:>=)/i,/^(?:>)/i,/^(?:<<)/i,/^(?:<=>)/i,/^(?:<=)/i,/^(?:<>)/i,/^(?:<)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:;)/i,/^(?:['](\\.|[^'])*['])/i,/^(?:["](\\.|[^"])*["])/i,/^(?:[0][x][0-9a-fA-F]+)/i,/^(?:[-]?[0-9]+(\.[0-9]+)?)/i,/^(?:[-]?[0-9]+(\.[0-9]+)?[eE][-][0-9]+(\.[0-9]+)?)/i,/^(?:[a-zA-Z_\u0080-\uFFFF][a-zA-Z0-9_\u0080-\uFFFF]*)/i,/^(?:\.)/i,/^(?:["][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*["])/i,/^(?:['][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*['])/i,/^(?:([`])(?:(?=(\\?))\2.)*?\1)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],inclusive:!0}}};function Ct(){this.yy={}}return Nt.lexer=bt,Ct.prototype=Nt,Nt.Parser=Ct,new Ct}();function r(){this.buffer=""}a||(a={}),a.stringify=function(e){var t=new r;return t.travelMain(e),t.buffer},r.prototype.travel=function(e){if(e){if("string"==typeof e)return this.append(e);this["travel"+e.type].call(this,e)}};var n=!1;r.prototype.appendKeyword=function(e,t,s){n&&(t=!0,n=!1),this.buffer+=t?e.toUpperCase():" "+e.toUpperCase(),s&&(n=!0)},r.prototype.append=function(e,t,s){n&&(t=!0,n=!1),this.buffer+=t?e:" "+e,s&&(n=!0)},r.prototype.travelMain=function(e){this.travel(e.value),e.hasSemicolon&&this.append(";",!0)},r.prototype.travelSelect=function(e){this.appendKeyword("select"),e.distinctOpt&&this.appendKeyword(e.distinctOpt),e.highPriorityOpt&&this.appendKeyword(e.highPriorityOpt),e.maxStateMentTimeOpt&&this.append("MAX_STATEMENT_TIME = "+e.maxStateMentTimeOpt),e.straightJoinOpt&&this.appendKeyword(e.straightJoinOpt),e.sqlSmallResultOpt&&this.appendKeyword(e.sqlSmallResultOpt),e.sqlBigResultOpt&&this.appendKeyword(e.sqlBigResultOpt),e.sqlBufferResultOpt&&this.appendKeyword(e.sqlBufferResultOpt),e.sqlCacheOpt&&this.appendKeyword(e.sqlCacheOpt),e.sqlCalcFoundRowsOpt&&this.appendKeyword(e.sqlCalcFoundRowsOpt),e.selectItems&&this.travelSelectExpr(e.selectItems),e.from&&(this.appendKeyword("from"),this.travel(e.from)),e.partition&&this.travel(e.partition),e.where&&(this.appendKeyword("where"),this.travel(e.where)),e.groupBy&&this.travel(e.groupBy),e.having&&(this.appendKeyword("having"),this.travel(e.having)),e.orderBy&&this.travel(e.orderBy),e.limit&&this.travel(e.limit),e.procedure&&(this.appendKeyword("procedure"),this.travel(e.procedure)),e.updateLockMode&&this.appendKeyword(e.updateLockMode)},r.prototype.travelSelectExpr=function(e){for(var t=e.value,s=0;s<t.length;s++)"string"==typeof e?this.append(t[s]):(this.travel(t[s]),t[s].alias&&(t[s].hasAs&&this.appendKeyword("as"),this.travel(t[s].alias))),s!==t.length-1&&this.append(",",!0)},r.prototype.travelIsExpression=function(e){this.travel(e.left),this.appendKeyword("in"),e.hasNot&&this.appendKeyword("not"),this.append(e.right)},r.prototype.travelNotExpression=function(e){this.appendKeyword("not"),this.travel(e.value)},r.prototype.travelOrExpression=r.prototype.travelAndExpression=r.prototype.travelXORExpression=function(e){this.travel(e.left),this.appendKeyword(e.operator),this.travel(e.right)},r.prototype.travelNull=r.prototype.travelBoolean=r.prototype.travelBooleanExtra=function(e){this.appendKeyword(e.value)},r.prototype.travelNumber=function(e){this.append(e.value)},r.prototype.travelString=function(e){this.append(e.value)},r.prototype.travelFunctionCall=function(e){this.append(e.name),this.append("(",!0,!0);for(var t=e.params,s=0;s<t.length;s++){var a=t[s];this.travel(a),s!==t.length-1&&this.append(",",!0)}this.append(")",!0)},r.prototype.travelFunctionCallParam=function(e){e.distinctOpt&&this.appendKeyword(e.distinctOpt),this.travel(e.value)},r.prototype.travelIdentifier=function(e){this.append(e.value)},r.prototype.travelIdentifierList=function(e){for(var t=e.value,s=0;s<t.length;s++)this.travel(t[s]),s!==t.length-1&&this.append(",",!0)},r.prototype.travelWhenThenList=function(e){for(var t=e.value,s=0;s<t.length;s++)this.appendKeyword("when"),this.travel(t[s].when),this.appendKeyword("then"),this.travel(t[s].then)},r.prototype.travelCaseWhen=function(e){this.appendKeyword("case"),e.caseExprOpt&&this.travel(e.caseExprOpt),this.travel(e.whenThenList),e.else&&(this.appendKeyword("else"),this.travel(e.else)),this.appendKeyword("end")},r.prototype.travelPrefix=function(e){this.appendKeyword(e.prefix),this.travel(e.value)},r.prototype.travelSimpleExprParentheses=function(e){e.hasRow&&this.appendKeyword("row"),this.append("(",!1,!0),this.travel(e.value),this.append(")",!0)},r.prototype.travelSubQuery=function(e){e.hasExists&&this.appendKeyword("exists"),this.append("(",!1,!0),this.travel(e.value),this.append(")",!0)},r.prototype.travelIdentifierExpr=function(e){this.append("{"),this.travel(e.identifier),this.travel(e.value),this.append("}")},r.prototype.travelBitExpression=function(e){this.travel(e.left),this.appendKeyword(e.operator),this.travel(e.right)},r.prototype.travelInSubQueryPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("in"),this.append("(",!1,!0),this.travel(e.right),this.append(")")},r.prototype.travelInExpressionListPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("in"),this.append("(",!1,!0),this.travel(e.right),this.append(")")},r.prototype.travelBetweenPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("between"),this.travel(e.right.left),this.appendKeyword("and"),this.travel(e.right.right)},r.prototype.travelSoundsLikePredicate=function(e){this.travel(e.left),this.appendKeyword("sounds"),this.appendKeyword("like"),this.travel(e.right)},r.prototype.travelLikePredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("like"),this.travel(e.right),e.escape&&(this.appendKeyword("escape"),this.travel(e.escape))},r.prototype.travelRegexpPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("regexp"),this.travel(e.right)},r.prototype.travelIsNullBooleanPrimary=function(e){this.travel(e.value),this.appendKeyword("is"),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("null")},r.prototype.travelComparisonBooleanPrimary=function(e){this.travel(e.left),this.append(e.operator),this.travel(e.right)},r.prototype.travelComparisonSubQueryBooleanPrimary=function(e){this.travel(e.left),this.append(e.operator),this.appendKeyword(e.subQueryOpt),this.append("(",!1,!0),this.travel(e.right),this.append(")")},r.prototype.travelExpressionList=function(e){for(var t=e.value,s=0;s<t.length;s++)this.travel(t[s]),s!==t.length-1&&this.append(",",!0)},r.prototype.travelGroupBy=function(e){this.appendKeyword("group by");for(var t=e.value,s=0;s<t.length;s++)this.travel(t[s]),s!==t.length-1&&this.append(",",!0)},r.prototype.travelOrderBy=function(e){this.appendKeyword("order by");for(var t=e.value,s=0;s<t.length;s++)this.travel(t[s]),s!==t.length-1&&this.append(",",!0);e.rollUp&&this.appendKeyword("with rollup")},r.prototype.travelGroupByOrderByItem=function(e){this.travel(e.value),e.sortOpt&&this.appendKeyword(e.sortOpt)},r.prototype.travelLimit=function(e){this.appendKeyword("limit");var t=e.value;1===t.length?this.append(t[0]):2===t.length&&(e.offsetMode?(this.append(t[1]),this.append("offset"),this.append(t[0])):(this.append(t[0]),this.append(",",!0),this.append(t[1])))},r.prototype.travelTableReferences=function(e){var t=e.value;e.TableReferences&&this.append("(",!1,!0);for(var s=0;s<t.length;s++)this.travel(t[s]),s!==t.length-1&&this.append(",",!0);e.TableReferences&&this.append(")")},r.prototype.travelTableReference=function(e){e.hasOj?(this.append("{"),this.appendKeyword("oj"),this.travel(e.value),this.append("}")):this.travel(e.value)},r.prototype.travelInnerCrossJoinTable=function(e){this.travel(e.left),e.innerCrossOpt&&this.appendKeyword(e.innerCrossOpt),this.appendKeyword("join"),this.travel(e.right),e.condition&&this.travel(e.condition)},r.prototype.travelStraightJoinTable=function(e){this.travel(e.left),this.appendKeyword("straight_join"),this.travel(e.right),this.travel(e.condition)},r.prototype.travelLeftRightJoinTable=function(e){this.travel(e.left),this.appendKeyword(e.leftRight),e.outOpt&&this.appendKeyword(e.outOpt),this.appendKeyword("join"),this.travel(e.right),this.travel(e.condition)},r.prototype.travelNaturalJoinTable=function(e){this.travel(e.left),this.appendKeyword("natural"),e.leftRight&&this.appendKeyword(e.leftRight),e.outOpt&&this.appendKeyword(e.outOpt),this.appendKeyword("join"),this.travel(e.right)},r.prototype.travelOnJoinCondition=function(e){this.appendKeyword("on"),this.travel(e.value)},r.prototype.travelUsingJoinCondition=function(e){this.appendKeyword("using"),this.appendKeyword("(",!1,!0),this.travel(e.value),this.appendKeyword(")")},r.prototype.travelPartitions=function(e){this.appendKeyword("partition"),this.appendKeyword("(",!1,!0);for(var t=e.value,s=0;s<t.length;s++)this.travel(t[s]),s!==t.length-1&&this.append(",",!0);this.appendKeyword(")")},r.prototype.travelForOptIndexHint=function(e){this.appendKeyword("for"),this.appendKeyword(e.value)},r.prototype.travelIndexList=function(e){for(var t=e.value,s=0;s<t.length;s++)this.travel(t[s]),s!==t.length-1&&this.append(",",!0)},r.prototype.travelUseIndexHint=function(e){this.appendKeyword("use"),this.appendKeyword(e.indexOrKey),e.forOpt&&this.travel(e.forOpt),this.appendKeyword("(",!1,!0),e.value&&this.travel(e.value),this.appendKeyword(")")},r.prototype.travelIgnoreIndexHint=function(e){this.appendKeyword("ignore"),this.appendKeyword(e.indexOrKey),e.forOpt&&this.travel(e.forOpt),this.appendKeyword("(",!1,!0),e.value&&this.travel(e.value),this.appendKeyword(")")},r.prototype.travelForceIndexHint=function(e){this.appendKeyword("force"),this.appendKeyword(e.indexOrKey),e.forOpt&&this.travel(e.forOpt),this.appendKeyword("(",!1,!0),e.value&&this.travel(e.value),this.appendKeyword(")")},r.prototype.travelTableFactor=function(e){this.travel(e.value),e.partition&&this.travel(e.partition),e.alias&&(e.hasAs&&this.appendKeyword("as"),this.travel(e.alias)),e.indexHintOpt&&this.travel(e.indexHintOpt)},r.prototype.travelUnion=function(e){this.travel(e.left),this.appendKeyword("UNION"),e.distinctOpt&&this.appendKeyword(e.distinctOpt),this.travel(e.right)},r.prototype.travelSelectParenthesized=function(e){this.appendKeyword("("),this.travel(e.value),this.appendKeyword(")")},r.prototype.travelPlaceHolder=function(e){e.value&&this.travel(e.value)};void 0===(s=function(){return a}.apply(t,[]))||(e.exports=s)},6850:(e,t,s)=>{"use strict";const{MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:n}=s(9630),o=s(9796),l=(t=e.exports={}).re=[],i=t.safeRe=[],E=t.src=[],c=t.safeSrc=[],T=t.t={};let p=0;const u="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",n],[u,r]],_=(e,t,s)=>{const a=(e=>{for(const[t,s]of m)e=e.split(`${t}*`).join(`${t}{0,${s}}`).split(`${t}+`).join(`${t}{1,${s}}`);return e})(t),r=p++;o(e,r,t),T[e]=r,E[r]=t,c[r]=a,l[r]=new RegExp(t,s?"g":void 0),i[r]=new RegExp(a,s?"g":void 0)};_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${u}*`),_("MAINVERSION",`(${E[T.NUMERICIDENTIFIER]})\\.(${E[T.NUMERICIDENTIFIER]})\\.(${E[T.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${E[T.NUMERICIDENTIFIERLOOSE]})\\.(${E[T.NUMERICIDENTIFIERLOOSE]})\\.(${E[T.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${E[T.NONNUMERICIDENTIFIER]}|${E[T.NUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${E[T.NONNUMERICIDENTIFIER]}|${E[T.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASE",`(?:-(${E[T.PRERELEASEIDENTIFIER]}(?:\\.${E[T.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${E[T.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${E[T.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${u}+`),_("BUILD",`(?:\\+(${E[T.BUILDIDENTIFIER]}(?:\\.${E[T.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${E[T.MAINVERSION]}${E[T.PRERELEASE]}?${E[T.BUILD]}?`),_("FULL",`^${E[T.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${E[T.MAINVERSIONLOOSE]}${E[T.PRERELEASELOOSE]}?${E[T.BUILD]}?`),_("LOOSE",`^${E[T.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${E[T.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${E[T.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${E[T.XRANGEIDENTIFIER]})(?:\\.(${E[T.XRANGEIDENTIFIER]})(?:\\.(${E[T.XRANGEIDENTIFIER]})(?:${E[T.PRERELEASE]})?${E[T.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${E[T.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[T.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[T.XRANGEIDENTIFIERLOOSE]})(?:${E[T.PRERELEASELOOSE]})?${E[T.BUILD]}?)?)?`),_("XRANGE",`^${E[T.GTLT]}\\s*${E[T.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${E[T.GTLT]}\\s*${E[T.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${a}})(?:\\.(\\d{1,${a}}))?(?:\\.(\\d{1,${a}}))?`),_("COERCE",`${E[T.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",E[T.COERCEPLAIN]+`(?:${E[T.PRERELEASE]})?`+`(?:${E[T.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",E[T.COERCE],!0),_("COERCERTLFULL",E[T.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${E[T.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",_("TILDE",`^${E[T.LONETILDE]}${E[T.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${E[T.LONETILDE]}${E[T.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${E[T.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",_("CARET",`^${E[T.LONECARET]}${E[T.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${E[T.LONECARET]}${E[T.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${E[T.GTLT]}\\s*(${E[T.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${E[T.GTLT]}\\s*(${E[T.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${E[T.GTLT]}\\s*(${E[T.LOOSEPLAIN]}|${E[T.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${E[T.XRANGEPLAIN]})\\s+-\\s+(${E[T.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${E[T.XRANGEPLAINLOOSE]})\\s+-\\s+(${E[T.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},6909:(e,t,s)=>{"use strict";const a=s(5380);e.exports=(e,t,s)=>0===a(e,t,s)},7023:(e,t,s)=>{"use strict";const a=s(5380);e.exports=(e,t)=>a(e,t,!0)},7092:(e,t,s)=>{"use strict";const a=s(5380);e.exports=(e,t,s)=>a(e,t,s)<=0},7095:e=>{"use strict";const t=Object.freeze({loose:!0}),s=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:s},7494:(e,t,s)=>{"use strict";const a=s(8395);e.exports=(e,t)=>{try{return new a(e,t).range||"*"}catch(e){return null}}},7645:(e,t,s)=>{"use strict";const a=s(5860);e.exports=(e,t)=>{const s=a(e,t);return s?s.version:null}},7659:(e,t,s)=>{"use strict";const a=s(5380);e.exports=(e,t,s)=>0!==a(e,t,s)},7781:e=>{"use strict";e.exports=o},7840:(e,t,s)=>{"use strict";const a=s(7944),r=s(8395);e.exports=(e,t,s)=>{let n=null,o=null,l=null;try{l=new r(t,s)}catch(e){return null}return e.forEach(e=>{l.test(e)&&(n&&-1!==o.compare(e)||(n=e,o=new a(n,s)))}),n}},7871:(e,t,s)=>{"use strict";const a=s(5463);e.exports=(e,t,s)=>a(e,t,">",s)},7899:(e,t,s)=>{!function(e,t){for(var s in t)e[s]=t[s]}(t,function(e){var t={};function s(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=7)}([function(e,t){e.exports=s(1251)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unbox=t.doubleQuoted=t.box=t.track=t.tracking=t.trackingComments=t.lexerAny=t.lexer=void 0;const a=s(0),r=s(3),n={};for(const e of r.sqlKeywords)n["kw_"+e.toLowerCase()]=e;var o;t.lexer=(0,a.compile)({word:{match:/[eE](?!')[A-Za-z0-9_]*|[a-df-zA-DF-Z_][A-Za-z0-9_]*/,type:(e=>{const t=(0,a.keywords)(e);return e=>t(e.toUpperCase())})(n),value:e=>e.toLowerCase()},wordQuoted:{match:/"(?:[^"\*]|"")+"/,type:()=>"quoted_word",value:e=>e.substring(1,e.length-1)},string:{match:/'(?:[^']|\'\')*'/,value:e=>e.substring(1,e.length-1).replace(/''/g,"'")},eString:{match:/\b(?:e|E)'(?:[^'\\]|[\r\n\s]|(?:\\\s)|(?:\\\n)|(?:\\.)|(?:\'\'))+'/,value:e=>e.substring(2,e.length-1).replace(/''/g,"'").replace(/\\([\s\n])/g,(e,t)=>t).replace(/\\./g,e=>JSON.parse('"'+e+'"'))},qparam:{match:/\$\d+/},commentLine:/\-\-.*?$[\s\r\n]*/,commentFullOpen:/\/\*/,commentFullClose:/\*\/[\s\r\n]*/,star:"*",comma:",",space:{match:/[\s\t\n\v\f\r]+/,lineBreaks:!0},int:/\-?\d+(?![\.\d])/,float:/\-?(?:(?:\d*\.\d+)|(?:\d+\.\d*))/,lparen:"(",rparen:")",lbracket:"[",rbracket:"]",semicolon:";",dot:/\.(?!\d)/,op_cast:"::",op_colon:":",op_plus:"+",op_eq:"=",op_neq:{match:/(?:!=)|(?:\<\>)/,value:()=>"!="},op_membertext:"->>",op_member:"->",op_minus:"-",op_div:/\//,op_not_ilike:/\!~~\*/,op_not_like:/\!~~/,op_ilike:/~~\*/,op_like:/~~/,op_mod:"%",op_exp:"^",op_additive:{match:["||","-","#-","&&"]},op_compare:{match:[">",">=","<","<=","@>","<@","?","?|","?&","#>>",">>","<<","~","~*","!~","!~*","@@"]},ops_others:{match:["|","&","^","#"]},codeblock:{match:/\$\$(?:.|[\s\t\n\v\f\r])*?\$\$/s,lineBreaks:!0,value:e=>e.substring(2,e.length-2)}}),t.lexer.next=(o=t.lexer.next,()=>{let e,s=null;for(;e=o.call(t.lexer);){if("commentFullOpen"===e.type){if(null===s){s={nested:0,offset:e.offset,text:e.text};continue}s.nested++}if(null==s){if("space"!==e.type){if("commentLine"!==e.type)break;null==l||l.push(i(e))}}else if(s.text+=e.text,"commentFullClose"===e.type){if(0===s.nested){null==l||l.push(i(s)),s=null;continue}s.nested--}}if(E&&e){const t=e.offset,s={start:t,end:t+e.text.length};e._location=s}return e}),t.lexerAny=t.lexer;let l=null;const i=({offset:e,text:t})=>({_location:{start:e,end:e+t.length},comment:t});t.trackingComments=function(e){if(l)throw new Error("WAT ? Recursive comments tracking 🤔🤨 ?");try{l=[];const t=e();return{comments:l,ast:t}}finally{l=null}};let E=!1;function c(e,t){if(!E||!t||"object"!=typeof t)return t;const s=m(e,!0),a=m(e,!1);if(!s||!a)return t;if(s===a)t._location=s;else{const e={start:s.start,end:a.end};t._location=e}return t}t.tracking=function(e){if(E)return e();try{return E=!0,e()}finally{E=!1}},t.track=c;const T=Symbol("_literal"),p=Symbol("_doublequoted");function u(e){return Array.isArray(e)&&1===e.length&&(e=u(e[0])),Array.isArray(e)&&!e.length?null:e}function m(e,t){if(!e)return null;if(Array.isArray(e)){const s=t?1:-1;for(let a=t?0:e.length-1;a>=0&&a<e.length;a+=s){const s=m(e[a],t);if(s)return s}return null}return"object"!=typeof e?null:e._location}t.box=function(e,t,s){return E||s?c(e,{[T]:t,[p]:s}):t},t.doubleQuoted=function(e){const t=u(e);if("object"==typeof e&&(null==t?void 0:t[p]))return{doubleQuoted:!0}},t.unbox=function(e){var t;return"object"==typeof e&&null!==(t=null==e?void 0:e[T])&&void 0!==t?t:e}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AstDefaultMapper=t.arrayNilMap=t.assignChanged=t.astMapper=void 0;const a=s(6);function r(e,t){if(!e)return e;let s=!1;for(const a of Object.keys(t))if(e[a]!==t[a]){s=!0;break}return s?(0,a.trimNullish)({...e,...t},0):e}function n(e,t){if(!(null==e?void 0:e.length))return e;let s=!1,a=e;for(let r=0;r<e.length;r++){const n=e[r],o=t(n);s||o&&o===n||(s=!0,a=e.slice(0,r)),o&&(s&&a.push(o))}return a}function o(e){switch(null==e?void 0:e.type){case"select":case"delete":case"insert":case"update":case"union":case"union all":case"with":return!0;default:return!1}}t.astMapper=function(e){const t=new l;return t.wrapped=e(t),t},t.assignChanged=r,t.arrayNilMap=n;class l{super(){return new E(this)}statement(e){switch(e.type){case"alter table":return this.alterTable(e);case"alter index":return this.alterIndex(e);case"commit":case"start transaction":case"rollback":return this.transaction(e);case"create index":return this.createIndex(e);case"create table":return this.createTable(e);case"truncate table":return this.truncateTable(e);case"delete":return this.delete(e);case"insert":return this.insert(e);case"with":return this.with(e);case"with recursive":return this.withRecursive(e);case"select":return this.selection(e);case"update":return this.update(e);case"create extension":return this.createExtension(e);case"tablespace":return this.tablespace(e);case"set":return this.setGlobal(e);case"set timezone":return this.setTimezone(e);case"set names":return this.setNames(e);case"create sequence":return this.createSequence(e);case"alter sequence":return this.alterSequence(e);case"begin":return this.begin(e);case"drop table":case"drop index":case"drop sequence":case"drop type":case"drop trigger":return this.drop(e);case"create enum":return this.createEnum(e);case"alter enum":return this.alterEnum(e);case"create composite type":return this.createCompositeType(e);case"union":case"union all":return this.union(e);case"show":return this.show(e);case"prepare":return this.prepare(e);case"deallocate":return this.deallocate(e);case"create view":return this.createView(e);case"create materialized view":return this.createMaterializedView(e);case"refresh materialized view":return this.refreshMaterializedView(e);case"create schema":return this.createSchema(e);case"raise":return this.raise(e);case"comment":return this.comment(e);case"do":return this.do(e);case"create function":return this.createFunction(e);case"drop function":return this.dropFunction(e);case"values":return this.values(e);default:throw a.NotSupported.never(e)}}comment(e){return e}createView(e){const t=this.select(e.query);if(!t)return null;const s=this.tableRef(e.name);return s?r(e,{query:t,name:s}):null}createMaterializedView(e){const t=this.select(e.query);if(!t)return null;const s=this.tableRef(e.name);return s?r(e,{query:t,name:s}):null}refreshMaterializedView(e){return e}do(e){return e}createFunction(e){const t=n(e.arguments,e=>r(e,{type:this.dataType(e.type)}));let s;if(e.returns)switch(e.returns.kind){case"table":s=r(e.returns,{columns:n(e.returns.columns,e=>{const t=this.dataType(e.type);return t&&r(e,{type:t})})});break;case void 0:case null:case"array":s=this.dataType(e.returns);break;default:throw a.NotSupported.never(e.returns)}return r(e,{returns:s,arguments:t})}dropFunction(e){const t=n(e.arguments,e=>r(e,{type:this.dataType(e.type)}));return r(e,{arguments:t})}show(e){return e}createEnum(e){return e}alterEnum(e){return e}createCompositeType(e){const t=n(e.attributes,e=>r(e,{dataType:this.dataType(e.dataType)}));return r(e,{attributes:t})}drop(e){return e}alterSequence(e){return"set options"===e.change.type&&e.change.as&&this.dataType(e.change.as),e}begin(e){return e}createSequence(e){return e.options.as&&this.dataType(e.options.as),e}tablespace(e){return e}setGlobal(e){return e}setTimezone(e){return e}setNames(e){return e}update(e){if(!e)return e;const t=this.tableRef(e.table);if(!t)return null;const s=e.from&&this.from(e.from),a=e.where&&this.expr(e.where),o=n(e.sets,e=>this.set(e));if(!(null==o?void 0:o.length))return null;return r(e,{table:t,where:a,sets:o,from:s,returning:n(e.returning,e=>this.selectionColumn(e))})}insert(e){var t,s;const o=this.tableRef(e.into);if(!o)return null;const l=e.insert&&this.select(e.insert);if(!l)return null;const i=n(e.returning,e=>this.selectionColumn(e));let E=null===(t=e.onConflict)||void 0===t?void 0:t.on;switch(null==E?void 0:E.type){case"on constraint":break;case"on expr":E=r(E,{exprs:n(E.exprs,e=>this.expr(e))});break;case null:case void 0:break;default:throw a.NotSupported.never(E)}let c=null===(s=e.onConflict)||void 0===s?void 0:s.do;if(c&&"do nothing"!==c){const e=n(c.sets,e=>this.set(e));(null==e?void 0:e.length)?c.sets!==e&&(c={sets:e}):c="do nothing"}return r(e,{into:o,insert:l,returning:i,onConflict:c?r(e.onConflict,{do:c,on:E}):e.onConflict})}raise(e){return r(e,{formatExprs:e.formatExprs&&n(e.formatExprs,e=>this.expr(e)),using:e.using&&n(e.using,e=>r(e,{value:this.expr(e.value)}))})}delete(e){const t=this.tableRef(e.from);if(!t)return null;return r(e,{where:e.where&&this.expr(e.where),returning:n(e.returning,e=>this.selectionColumn(e)),from:t})}createSchema(e){return e}createTable(e){const t=n(e.columns,e=>{switch(e.kind){case"column":return this.createColumn(e);case"like table":return this.likeTable(e);default:throw a.NotSupported.never(e)}});return(null==t?void 0:t.length)?r(e,{columns:t}):null}likeTable(e){const t=this.tableRef(e.like);return t?r(e,{like:t}):null}truncateTable(e){return e}constraint(e){switch(e.type){case"not null":case"null":case"primary key":case"unique":case"add generated":return e;case"default":{const t=this.expr(e.default);return t?r(e,{default:t}):null}case"check":{const t=this.expr(e.expr);return t?r(e,{expr:t}):null}case"reference":{const t=this.tableRef(e.foreignTable);return t?r(e,{foreignTable:t}):null}default:throw a.NotSupported.never(e)}}set(e){const t=this.expr(e.value);return t?r(e,{value:t}):null}dataType(e){return e}tableRef(e){return e}transaction(e){return e}createExtension(e){return e}createIndex(e){const t=n(e.expressions,e=>{const t=this.expr(e.expression);return t===e.expression?e:t?{...e,expression:t}:null});return(null==t?void 0:t.length)?r(e,{expressions:t}):null}prepare(e){const t=this.statement(e.statement);return t?r(e,{args:n(e.args,e=>this.dataType(e)),statement:t}):null}deallocate(e){return e}alterIndex(e){return e}alterTable(e){var t;const s=this.tableRef(e.table);if(!s)return null;let a=[],n=!1;for(let s=0;s<((null===(t=e.changes)||void 0===t?void 0:t.length)||0);s++){const t=e.changes[s],r=this.tableAlteration(t,e.table);n=n||r!=t,r&&a.push(r)}return a.length?n?r(e,{table:s,changes:a}):e:null}tableAlteration(e,t){switch(e.type){case"add column":return this.addColumn(e,t);case"add constraint":return this.addConstraint(e,t);case"alter column":return this.alterColumn(e,t);case"rename":return this.renameTable(e,t);case"rename column":return this.renameColumn(e,t);case"rename constraint":return this.renameConstraint(e,t);case"drop column":return this.dropColumn(e,t);case"drop constraint":return this.dropConstraint(e,t);case"owner":return this.setTableOwner(e,t);default:throw a.NotSupported.never(e)}}dropColumn(e,t){return e}dropConstraint(e,t){return e}setTableOwner(e,t){return e}renameConstraint(e,t){return e}renameColumn(e,t){return e}renameTable(e,t){return e}alterColumn(e,t){let s;switch(e.alter.type){case"set default":s=this.setColumnDefault(e.alter,t,e.column);break;case"set type":s=this.setColumnType(e.alter,t,e.column);break;case"drop default":case"set not null":case"drop not null":s=this.alterColumnSimple(e.alter,t,e.column);break;case"add generated":s=this.alterColumnAddGenerated(e.alter,t,e.column);break;default:throw a.NotSupported.never(e.alter)}return s?r(e,{alter:s}):null}setColumnType(e,t,s){return r(e,{dataType:this.dataType(e.dataType)})}alterColumnAddGenerated(e,t,s){return e}alterColumnSimple(e,t,s){return e}setColumnDefault(e,t,s){const a=this.expr(e.default);return a?r(e,{default:a}):null}addConstraint(e,t){return e}addColumn(e,t){const s=this.createColumn(e.column);return s?r(e,{column:s}):null}createColumn(e){var t;const s=this.dataType(e.dataType);if(!s)return null;return r(e,{dataType:s,constraints:null!==(t=n(e.constraints,e=>this.constraint(e)))&&void 0!==t?t:void 0})}select(e){switch(e.type){case"select":return this.selection(e);case"union":case"union all":return this.union(e);case"with":return this.with(e);case"values":return this.values(e);case"with recursive":return this.withRecursive(e);default:throw a.NotSupported.never(e)}}selection(e){var t,s;const a=n(e.from,e=>this.from(e)),o=n(e.columns,e=>this.selectionColumn(e)),l=e.where&&this.expr(e.where),i=n(e.groupBy,e=>this.expr(e)),E=e.having&&this.expr(e.having),c=this.orderBy(e.orderBy),T=r(e.limit,{limit:this.expr(null===(t=e.limit)||void 0===t?void 0:t.limit),offset:this.expr(null===(s=e.limit)||void 0===s?void 0:s.offset)});return r(e,{from:a,columns:o,where:l,groupBy:i,having:E,orderBy:c,limit:T})}orderBy(e){return n(e,e=>{const t=this.expr(e.by);return t?t===e.by?e:{...e,by:t}:null})}union(e){const t=this.select(e.left),s=this.select(e.right);return t&&s?r(e,{left:t,right:s}):null!=t?t:s}with(e){const t=n(e.bind,e=>{const t=this.statement(e.statement);return o(t)?r(e,{statement:t}):null});if(!t)return null;const s=this.statement(e.in);return o(s)?r(e,{bind:t,in:s}):null}withRecursive(e){const t=this.union(e.bind);if(!t)return null;if("union"!==t.type&&"union all"!==t.type)return null;const s=this.statement(e.in);return o(s)?r(e,{bind:t,in:s}):null}from(e){switch(e.type){case"table":return this.fromTable(e);case"statement":return this.fromStatement(e);case"call":return this.fromCall(e);default:throw a.NotSupported.never(e)}}fromCall(e){const t=this.call(e);return t&&"call"===t.type?r(e,t):null}fromStatement(e){const t=this.select(e.statement);if(!t)return null;return r(e,{statement:t,join:e.join&&this.join(e.join)})}values(e){const t=n(e.values,e=>n(e,e=>this.expr(e)));return(null==t?void 0:t.length)?r(e,{values:t}):null}join(e){const t=e.on&&this.expr(e.on);return t||e.using?r(e,{on:t}):e}fromTable(e){const t=this.tableRef(e.name);if(!t)return null;return r(e,{name:t,join:e.join&&this.join(e.join)})}selectionColumn(e){const t=this.expr(e.expr);return t?r(e,{expr:t}):null}expr(e){if(!e)return e;switch(e.type){case"binary":return this.binary(e);case"unary":return this.unary(e);case"ref":return this.ref(e);case"string":case"numeric":case"integer":case"boolean":case"constant":case"null":return this.constant(e);case"list":case"array":return this.array(e);case"array select":return this.arraySelect(e);case"call":return this.call(e);case"cast":return this.cast(e);case"case":return this.case(e);case"member":return this.member(e);case"arrayIndex":return this.arrayIndex(e);case"ternary":return this.ternary(e);case"select":case"union":case"union all":case"with":case"with recursive":return this.select(e);case"keyword":return this.valueKeyword(e);case"parameter":return this.parameter(e);case"extract":return this.extract(e);case"overlay":return this.callOverlay(e);case"substring":return this.callSubstring(e);case"values":return this.values(e);case"default":return this.default(e);default:throw a.NotSupported.never(e)}}arraySelect(e){const t=this.select(e.select);return t?r(e,{select:t}):null}extract(e){const t=this.expr(e.from);return t?r(e,{from:t}):null}valueKeyword(e){return e}ternary(e){const t=this.expr(e.value),s=this.expr(e.lo),a=this.expr(e.hi);return t&&s&&a?r(e,{value:t,lo:s,hi:a}):null}parameter(e){return e}arrayIndex(e){const t=this.expr(e.array),s=this.expr(e.index);return t&&s?r(e,{array:t,index:s}):null}member(e){const t=this.expr(e.operand);return t?r(e,{operand:t}):null}case(e){const t=e.value&&this.expr(e.value),s=n(e.whens,e=>{const t=this.expr(e.when),s=this.expr(e.value);return t&&s?r(e,{value:s,when:t}):null});if(!(null==s?void 0:s.length))return null;return r(e,{value:t,whens:s,else:e.else&&this.expr(e.else)})}cast(e){const t=this.expr(e.operand);return t?r(e,{operand:t}):null}call(e){var t;const s=n(e.args,e=>this.expr(e));if(!s)return null;const a=this.orderBy(e.orderBy),o=this.expr(e.filter),l=e.withinGroup?[e.withinGroup]:void 0;return r(e,{args:s,orderBy:a,filter:o,withinGroup:null===(t=this.orderBy(l))||void 0===t?void 0:t[0]})}callSubstring(e){return r(e,{value:this.expr(e.value),from:this.expr(e.from),for:this.expr(e.for)})}callOverlay(e){return r(e,{value:this.expr(e.value),placing:this.expr(e.placing),from:this.expr(e.from),for:this.expr(e.for)})}array(e){const t=n(e.expressions,e=>this.expr(e));return t?r(e,{expressions:t}):null}constant(e){return e}default(e){return e}ref(e){return e}unary(e){const t=this.expr(e.operand);return t?r(e,{operand:t}):null}binary(e){const t=this.expr(e.left),s=this.expr(e.right);return t&&s?r(e,{left:t,right:s}):null}}t.AstDefaultMapper=l;const i=l.prototype;for(const e of Object.getOwnPropertyNames(i)){const t=i[e];"constructor"!==e&&"super"!==e&&"function"==typeof t&&Object.defineProperty(i,e,{configurable:!1,get:()=>function(...s){var a;if(this.skipNext)return this.skipNext=!1,t.apply(this,s);const r=null===(a=this.wrapped)||void 0===a?void 0:a[e];return r?r.apply(this.wrapped,s):t.apply(this,s)}})}class E extends l{constructor(e){super(),this.parent=e}}for(const e of Object.getOwnPropertyNames(i)){const t=i[e];"constructor"!==e&&"super"!==e&&"function"==typeof t&&Object.defineProperty(E.prototype,e,{configurable:!1,get:()=>function(...e){return this.parent.skipNext=!0,t.apply(this.parent,e)}})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sqlKeywords=void 0,t.sqlKeywords=["ALL","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","ILIKE","IN","INITIALLY","INNER","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","NATURAL","NOT","NOTNULL","NULL","OFFSET","ON","ONLY","OR","ORDER","OUTER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","PRECISION"]},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.intervalToString=t.normalizeInterval=t.buildInterval=void 0;const a=[["years",12],["months",30],["days",24],["hours",60],["minutes",60],["seconds",1e3],["milliseconds",0]];function*r(e){if("number"==typeof e[1])yield e;else for(const t of e)yield*r(t)}function n(e){var t,s,r,n,o,l,i,E,c;const T={...e};for(let e=0;e<a.length;e++){const[n,o]=a[e],l=null!==(t=T[n])&&void 0!==t?t:0,i=l>=0?Math.floor(l):Math.ceil(l);if(!l||i===l)continue;const E=null===(s=a[e+1])||void 0===s?void 0:s[0];E&&(T[E]=(null!==(r=T[E])&&void 0!==r?r:0)+o*(l-i)),T[n]=i}if(T.months||T.years){const e=(null!==(n=T.months)&&void 0!==n?n:0)+12*(null!==(o=T.years)&&void 0!==o?o:0);T.months=e%12,T.years=(e-T.months)/12}let p=3600*(null!==(l=T.hours)&&void 0!==l?l:0)+60*(null!==(i=T.minutes)&&void 0!==i?i:0)+(null!==(E=T.seconds)&&void 0!==E?E:0)+(null!==(c=T.milliseconds)&&void 0!==c?c:0)/1e3,u=1;p<0&&(u=-1,p=-p),p>=3600?(T.hours=u*Math.floor(p/3600),p-=u*T.hours*3600):delete T.hours,p>=60?(T.minutes=u*Math.floor(p/60),p-=u*T.minutes*60):delete T.minutes,p>0?(T.seconds=u*Math.floor(p),p-=u*T.seconds):delete T.seconds,p>0?T.milliseconds=u*Math.round(1e3*p):delete T.milliseconds;for(const[e]of a)T[e]||delete T[e];return T}function o(e){return(e=Math.abs(e))<10?"0"+e:e.toString()}function l(e){return e&&e<0}t.buildInterval=function(e,t){var s;const a={};if("invalid"===t)throw new Error(`invalid input syntax for type interval: "${e}"`);for(const[e,n]of r(t))a[e]=(null!==(s=a[e])&&void 0!==s?s:0)+n;return a},t.normalizeInterval=n,t.intervalToString=function(e){var t,s,a;const r=[];if((e=n(e)).years&&r.push(1===e.years?"1 year":e.years+" years"),e.months&&r.push(1===e.months?"1 month":e.months+" months"),e.days&&r.push(1===e.days?"1 day":e.days+" days"),e.hours||e.minutes||e.seconds||e.milliseconds){let n=`${o(null!==(t=e.hours)&&void 0!==t?t:0)}:${o(null!==(s=e.minutes)&&void 0!==s?s:0)}:${o(null!==(a=e.seconds)&&void 0!==a?a:0)}`;e.milliseconds&&(n+=(e.milliseconds/1e3).toString().substr(1)),(l(e.hours)||l(e.minutes)||l(e.seconds)||l(e.milliseconds))&&(n="-"+n),r.push(n)}return r.join(" ")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.astVisitor=void 0;const a=s(2);class r{super(){return new o(this)}}const n=a.AstDefaultMapper.prototype;for(const e of Object.getOwnPropertyNames(n)){const t=n[e];"constructor"!==e&&"super"!==e&&"function"==typeof t&&Object.defineProperty(r.prototype,e,{configurable:!1,get:()=>function(...s){const a=this.visitor[e];return a?(a.apply(this.visitor,s),s[0]):t.apply(this,s)}})}class o{constructor(e){this.parent=e}}for(const e of Object.getOwnPropertyNames(n)){const t=n[e];"constructor"!==e&&"super"!==e&&"function"==typeof t&&Object.defineProperty(o.prototype,e,{configurable:!1,get:()=>function(...e){return t.apply(this.parent,e)}})}t.astVisitor=function(e){return(0,a.astMapper)(t=>{const s=new r;return s.mapper=t,s.visitor=e(s),s})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimNullish=t.NotSupported=void 0;class a extends Error{constructor(e){super("Not supported"+(e?": "+e:""))}static never(e,t){return new a(`${null!=t?t:""} ${JSON.stringify(e)}`)}}t.NotSupported=a,t.trimNullish=function e(t,s=5){if(s<0)return t;if(t instanceof Array&&t.forEach(t=>e(t,s-1)),"object"!=typeof t||t instanceof Date)return t;if(!t)return t;for(const a of Object.keys(t)){const r=t[a];null==r?delete t[a]:e(r,s-1)}return t}},function(e,t,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,s,a){void 0===a&&(a=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,a,r)}:function(e,t,s,a){void 0===a&&(a=s),e[a]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||a(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeInterval=t.intervalToString=t.toSql=t.astMapper=t.assignChanged=t.arrayNilMap=t.astVisitor=t.parseWithComments=t.parseIntervalLiteral=t.parseGeometricLiteral=t.parseArrayLiteral=t.parseFirst=t.parse=void 0;var n=s(8);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return n.parse}}),Object.defineProperty(t,"parseFirst",{enumerable:!0,get:function(){return n.parseFirst}}),Object.defineProperty(t,"parseArrayLiteral",{enumerable:!0,get:function(){return n.parseArrayLiteral}}),Object.defineProperty(t,"parseGeometricLiteral",{enumerable:!0,get:function(){return n.parseGeometricLiteral}}),Object.defineProperty(t,"parseIntervalLiteral",{enumerable:!0,get:function(){return n.parseIntervalLiteral}}),Object.defineProperty(t,"parseWithComments",{enumerable:!0,get:function(){return n.parseWithComments}});var o=s(5);Object.defineProperty(t,"astVisitor",{enumerable:!0,get:function(){return o.astVisitor}});var l=s(2);Object.defineProperty(t,"arrayNilMap",{enumerable:!0,get:function(){return l.arrayNilMap}}),Object.defineProperty(t,"assignChanged",{enumerable:!0,get:function(){return l.assignChanged}}),Object.defineProperty(t,"astMapper",{enumerable:!0,get:function(){return l.astMapper}});var i=s(19);Object.defineProperty(t,"toSql",{enumerable:!0,get:function(){return i.toSql}}),r(s(21),t);var E=s(4);Object.defineProperty(t,"intervalToString",{enumerable:!0,get:function(){return E.intervalToString}}),Object.defineProperty(t,"normalizeInterval",{enumerable:!0,get:function(){return E.normalizeInterval}})},function(e,t,s){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseGeometricLiteral=t.parseIntervalLiteral=t.parseArrayLiteral=t.parse=t.parseWithComments=t.parseFirst=void 0;const r=s(9),n=a(s(10)),o=a(s(11)),l=a(s(13)),i=a(s(15)),E=a(s(17)),c=s(4),T=s(1);let p,u,m,_,A;function R(e,t){p||(p=r.Grammar.fromCompiled(n.default));const s="string"==typeof t?t:null==t?void 0:t.entry,a="string"==typeof t?null:t,o=()=>S(e,p,s);let l=(null==a?void 0:a.locationTracking)?(0,T.tracking)(o):o();return"string"==typeof t||Array.isArray(l)||(l=[l]),l}function S(e,t,s){try{t.start=null!=s?s:"main";const a=new r.Parser(t);a.feed(e);const n=a.finish();if(!n.length)throw new Error("Unexpected end of input");if(1!==n.length)throw new Error(`💀 Ambiguous SQL syntax: Please file an issue stating the request that has failed at https://github.com/oguimbal/pgsql-ast-parser:\n\n        ${e}\n\n        `);return n[0]}catch(e){if("string"!=typeof(null==e?void 0:e.message))throw e;let t=e.message,s=null;const a=[],r=/A (.+) token based on:/g;let n;for(;n=r.exec(t);)s=null!=s?s:t.substr(0,n.index),a.push(`    - A "${n[1]}" token`);throw s&&(t=s+a.join("\n")+"\n\n"),e.message=t,e}}t.parseFirst=function(e){return R(e)[0]},t.parseWithComments=function(e,t){return(0,T.trackingComments)(()=>R(e,t))},t.parse=R,t.parseArrayLiteral=function(e){return u||(u=r.Grammar.fromCompiled(o.default)),S(e,u)},t.parseIntervalLiteral=function(e){if(e.startsWith("P"))return A||(A=r.Grammar.fromCompiled(E.default)),(0,c.buildInterval)(e,S(e,A));{_||(_=r.Grammar.fromCompiled(i.default));const t=e.toLowerCase();return(0,c.buildInterval)(e,S(t,_))}},t.parseGeometricLiteral=function(e,t){return m||(m=r.Grammar.fromCompiled(l.default)),S(e,m,t)}},function(e,t){e.exports=s(8831)},function(e,t,s){"use strict";function a(e){return e[0]}Object.defineProperty(t,"__esModule",{value:!0});const r=s(1),n=s(1);function o(e){return l(e,void 0)}function l(e,t){const s=_(e);return t&&0!==t.length?(0,n.track)(e,{name:s,columns:t.map(e=>({name:_(e)}))}):(0,n.track)(e,{name:s})}function i(e){const t=_(e);return(0,n.track)(e,{value:t})}function E(e){return Array.isArray(e)&&1===e.length&&(e=E(e[0])),Array.isArray(e)&&!e.length?null:(0,n.unbox)(e)}const c=e=>t=>(0,n.track)(t,t[e]),T=e=>Array.isArray(e)?(0,n.track)(e[e.length-1],e[e.length-1]):e;function p(e){if(Array.isArray(e)){const t=[];for(const s of e)t.push(...p(s));return t}return e?[e]:[]}function u(e){var t;return null!==(t=null==(e=(0,n.unbox)(e))?void 0:e.value)&&void 0!==t?t:e}function m(e){return p((0,n.unbox)(e)).filter(e=>!!e).map(e=>u(e)).filter(e=>"string"==typeof e).map(e=>e.trim()).filter(e=>!!e)}function _(e,t){return m(e).join(t||"")}function A(e){const t={};for(const[s,a]of e)t[s]=a;return t}const R={sensitivity:"accent"},S=e=>(t,s,a)=>{const r=u(t[0]);return o=e,0===r.localeCompare(o,void 0,R)?(0,n.box)(t,e):a;var o},d=S,O=(...e)=>{const t=new Set(e);return(e,s,a)=>{const r="string"==typeof e[0]?e[0]:e[0].value;return t.has(r)?r:a}};function I(e,t){const s=new Set,a=t.map(n.unbox);for(const[t,r]of a){if(s.has(t))throw new Error("conflicting or redundant options");s.add(t),e[t]=(0,n.unbox)(r)}}const N={Lexer:r.lexerAny,ParserRules:[{name:"lparen",symbols:[r.lexerAny.has("lparen")?{type:"lparen"}:lparen]},{name:"rparen",symbols:[r.lexerAny.has("rparen")?{type:"rparen"}:rparen]},{name:"number$subexpression$1",symbols:["float"]},{name:"number$subexpression$1",symbols:["int"]},{name:"number",symbols:["number$subexpression$1"],postprocess:E},{name:"dot",symbols:[r.lexerAny.has("dot")?{type:"dot"}:dot],postprocess:a},{name:"float",symbols:[r.lexerAny.has("float")?{type:"float"}:float],postprocess:e=>(0,n.box)(e,parseFloat(E(e)))},{name:"int",symbols:[r.lexerAny.has("int")?{type:"int"}:int],postprocess:e=>(0,n.box)(e,parseInt(E(e),10))},{name:"comma",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma],postprocess:a},{name:"star",symbols:[r.lexerAny.has("star")?{type:"star"}:star],postprocess:e=>(0,n.box)(e,e[0].value)},{name:"string$subexpression$1",symbols:[r.lexerAny.has("string")?{type:"string"}:string]},{name:"string$subexpression$1",symbols:[r.lexerAny.has("eString")?{type:"eString"}:eString]},{name:"string",symbols:["string$subexpression$1"],postprocess:e=>(0,n.box)(e,E(e[0]).value)},{name:"ident",symbols:["word"],postprocess:c(0)},{name:"word",symbols:[r.lexerAny.has("kw_primary")?{type:"kw_primary"}:kw_primary],postprocess:e=>(0,n.box)(e,"primary")},{name:"word",symbols:[r.lexerAny.has("kw_unique")?{type:"kw_unique"}:kw_unique],postprocess:e=>(0,n.box)(e,"unique")},{name:"word",symbols:[r.lexerAny.has("quoted_word")?{type:"quoted_word"}:quoted_word],postprocess:e=>(0,n.box)(e,e[0].value,!0)},{name:"word",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:e=>(0,n.box)(e,e[0].value)},{name:"collist_paren",symbols:["lparen","collist","rparen"],postprocess:c(1)},{name:"collist$ebnf$1",symbols:[]},{name:"collist$ebnf$1$subexpression$1",symbols:["comma","ident"],postprocess:T},{name:"collist$ebnf$1",symbols:["collist$ebnf$1","collist$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"collist",symbols:["ident","collist$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"kw_between",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("between")},{name:"kw_conflict",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("conflict")},{name:"kw_nothing",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("nothing")},{name:"kw_begin",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("begin")},{name:"kw_if",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("if")},{name:"kw_exists",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("exists")},{name:"kw_key",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("key")},{name:"kw_index",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("index")},{name:"kw_extension",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("extension")},{name:"kw_schema",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("schema")},{name:"kw_nulls",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("nulls")},{name:"kw_first",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("first")},{name:"kw_last",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("last")},{name:"kw_start",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("start")},{name:"kw_restart",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("restart")},{name:"kw_filter",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("filter")},{name:"kw_commit",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("commit")},{name:"kw_tablespace",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("tablespace")},{name:"kw_transaction",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("transaction")},{name:"kw_work",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("work")},{name:"kw_read",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("read")},{name:"kw_write",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("write")},{name:"kw_isolation",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("isolation")},{name:"kw_level",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("level")},{name:"kw_serializable",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("serializable")},{name:"kw_rollback",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("rollback")},{name:"kw_insert",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("insert")},{name:"kw_value",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("value")},{name:"kw_values",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("values")},{name:"kw_update",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("update")},{name:"kw_column",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("column")},{name:"kw_set",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("set")},{name:"kw_version",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("version")},{name:"kw_alter",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("alter")},{name:"kw_rename",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("rename")},{name:"kw_sequence",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("sequence")},{name:"kw_temp",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("temp")},{name:"kw_temporary",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("temporary")},{name:"kw_add",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("add")},{name:"kw_owner",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("owner")},{name:"kw_owned",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("owned")},{name:"kw_including",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("including")},{name:"kw_excluding",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("excluding")},{name:"kw_none",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("none")},{name:"kw_drop",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("drop")},{name:"kw_operator",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("operator")},{name:"kw_minvalue",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("minvalue")},{name:"kw_maxvalue",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("maxvalue")},{name:"kw_data",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("data")},{name:"kw_type",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("type")},{name:"kw_trigger",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("trigger")},{name:"kw_delete",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("delete")},{name:"kw_cache",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("cache")},{name:"kw_cascade",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("cascade")},{name:"kw_no",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("no")},{name:"kw_timestamp",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("timestamp")},{name:"kw_cycle",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("cycle")},{name:"kw_function",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("function")},{name:"kw_returns",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("returns")},{name:"kw_language",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("language")},{name:"kw_out",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("out")},{name:"kw_inout",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("inout")},{name:"kw_variadic",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("variadic")},{name:"kw_action",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("action")},{name:"kw_restrict",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("restrict")},{name:"kw_truncate",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("truncate")},{name:"kw_increment",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("increment")},{name:"kw_by",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("by")},{name:"kw_row",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("row")},{name:"kw_rows",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("rows")},{name:"kw_next",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("next")},{name:"kw_match",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("match")},{name:"kw_replace",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("replace")},{name:"kw_recursive",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("recursive")},{name:"kw_view",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("view")},{name:"kw_cascaded",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("cascaded")},{name:"kw_unlogged",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("unlogged")},{name:"kw_global",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("global")},{name:"kw_option",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("option")},{name:"kw_materialized",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("materialized")},{name:"kw_partial",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("partial")},{name:"kw_partition",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("partition")},{name:"kw_simple",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("simple")},{name:"kw_generated",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("generated")},{name:"kw_always",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("always")},{name:"kw_identity",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("identity")},{name:"kw_name",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("name")},{name:"kw_enum",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("enum")},{name:"kw_show",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("show")},{name:"kw_ordinality",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("ordinality")},{name:"kw_overriding",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("overriding")},{name:"kw_over",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("over")},{name:"kw_system",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("system")},{name:"kw_comment",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("comment")},{name:"kw_time",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("time")},{name:"kw_names",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("names")},{name:"kw_at",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("at")},{name:"kw_zone",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("zone")},{name:"kw_interval",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("interval")},{name:"kw_hour",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("hour")},{name:"kw_minute",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("minute")},{name:"kw_local",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("local")},{name:"kw_session",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("session")},{name:"kw_prepare",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("prepare")},{name:"kw_deallocate",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("deallocate")},{name:"kw_raise",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("raise")},{name:"kw_continue",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("continue")},{name:"kw_share",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("share")},{name:"kw_refresh",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("refresh")},{name:"kw_nowait",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("nowait")},{name:"kw_skip",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("skip")},{name:"kw_locked",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("locked")},{name:"kw_within",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:S("within")},{name:"kw_ifnotexists",symbols:["kw_if",r.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not,"kw_exists"]},{name:"kw_ifexists",symbols:["kw_if","kw_exists"]},{name:"kw_withordinality",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"kw_ordinality"]},{name:"kw_not_null",symbols:[r.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not,r.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null]},{name:"kw_primary_key",symbols:[r.lexerAny.has("kw_primary")?{type:"kw_primary"}:kw_primary,"kw_key"]},{name:"data_type$ebnf$1$subexpression$1$macrocall$2",symbols:["int"]},{name:"data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1",symbols:[]},{name:"data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"data_type$ebnf$1$subexpression$1$macrocall$2"],postprocess:T},{name:"data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1",symbols:["data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1","data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"data_type$ebnf$1$subexpression$1$macrocall$1",symbols:["data_type$ebnf$1$subexpression$1$macrocall$2","data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"data_type$ebnf$1$subexpression$1",symbols:["lparen","data_type$ebnf$1$subexpression$1$macrocall$1","rparen"],postprocess:c(1)},{name:"data_type$ebnf$1",symbols:["data_type$ebnf$1$subexpression$1"],postprocess:a},{name:"data_type$ebnf$1",symbols:[],postprocess:()=>null},{name:"data_type$ebnf$2$subexpression$1",symbols:[r.lexerAny.has("kw_array")?{type:"kw_array"}:kw_array]},{name:"data_type$ebnf$2$subexpression$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket,r.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket]},{name:"data_type$ebnf$2$subexpression$1$ebnf$1",symbols:["data_type$ebnf$2$subexpression$1$ebnf$1$subexpression$1"]},{name:"data_type$ebnf$2$subexpression$1$ebnf$1$subexpression$2",symbols:[r.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket,r.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket]},{name:"data_type$ebnf$2$subexpression$1$ebnf$1",symbols:["data_type$ebnf$2$subexpression$1$ebnf$1","data_type$ebnf$2$subexpression$1$ebnf$1$subexpression$2"],postprocess:e=>e[0].concat([e[1]])},{name:"data_type$ebnf$2$subexpression$1",symbols:["data_type$ebnf$2$subexpression$1$ebnf$1"]},{name:"data_type$ebnf$2",symbols:["data_type$ebnf$2$subexpression$1"],postprocess:a},{name:"data_type$ebnf$2",symbols:[],postprocess:()=>null},{name:"data_type",symbols:["data_type_simple","data_type$ebnf$1","data_type$ebnf$2"],postprocess:e=>{let t=e[2];let s;if(s={...E(e[0]),...Array.isArray(e[1])&&e[1].length?{config:e[1].map(E)}:{}},t){"kw_array"===t[0].type&&(t=[["array"]]);for(const e of t[0])s={kind:"array",arrayOf:s}}return(0,n.track)(e,s)}},{name:"data_type_list$ebnf$1",symbols:[]},{name:"data_type_list$ebnf$1$subexpression$1",symbols:["comma","data_type"],postprocess:T},{name:"data_type_list$ebnf$1",symbols:["data_type_list$ebnf$1","data_type_list$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"data_type_list",symbols:["data_type","data_type_list$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"data_type_simple",symbols:["data_type_text"],postprocess:e=>(0,n.track)(e,{name:_(e," ")})},{name:"data_type_simple",symbols:["data_type_numeric"],postprocess:e=>(0,n.track)(e,{name:_(e," ")})},{name:"data_type_simple",symbols:["data_type_date"]},{name:"data_type_simple",symbols:["qualified_name_mark_quotes"]},{name:"data_type_numeric$subexpression$1",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:d("double")},{name:"data_type_numeric",symbols:["data_type_numeric$subexpression$1",r.lexerAny.has("kw_precision")?{type:"kw_precision"}:kw_precision]},{name:"data_type_text$subexpression$1",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:O("character","bit")},{name:"data_type_text$subexpression$2",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:d("varying")},{name:"data_type_text",symbols:["data_type_text$subexpression$1","data_type_text$subexpression$2"]},{name:"data_type_date$subexpression$1",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:O("timestamp","time")},{name:"data_type_date$subexpression$2",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with]},{name:"data_type_date$subexpression$2",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:d("without")},{name:"data_type_date$subexpression$3",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:d("time")},{name:"data_type_date$subexpression$4",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:d("zone")},{name:"data_type_date",symbols:["data_type_date$subexpression$1","data_type_date$subexpression$2","data_type_date$subexpression$3","data_type_date$subexpression$4"],postprocess:e=>(0,n.track)(e,{name:_(e," ")})},{name:"data_type_date$subexpression$5",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:O("timestamp","time")},{name:"data_type_date$subexpression$6",symbols:["lparen","int","rparen"],postprocess:c(1)},{name:"data_type_date$subexpression$7",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with]},{name:"data_type_date$subexpression$7",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:d("without")},{name:"data_type_date$subexpression$8",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:d("time")},{name:"data_type_date$subexpression$9",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:d("zone")},{name:"data_type_date",symbols:["data_type_date$subexpression$5","data_type_date$subexpression$6","data_type_date$subexpression$7","data_type_date$subexpression$8","data_type_date$subexpression$9"],postprocess:e=>(0,n.track)(e,{name:`timestamp ${_(e[2])} time zone`,config:[(0,n.unbox)(e[1])]})},{name:"ident_aliased$subexpression$1",symbols:[r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"ident"],postprocess:T},{name:"ident_aliased",symbols:["ident_aliased$subexpression$1"]},{name:"ident_aliased",symbols:["ident"],postprocess:E},{name:"table_ref",symbols:["qualified_name"],postprocess:E},{name:"qcolumn$ebnf$1$subexpression$1",symbols:["dot","ident"],postprocess:T},{name:"qcolumn$ebnf$1",symbols:["qcolumn$ebnf$1$subexpression$1"],postprocess:a},{name:"qcolumn$ebnf$1",symbols:[],postprocess:()=>null},{name:"qcolumn",symbols:["ident","dot","ident","qcolumn$ebnf$1"],postprocess:e=>e[3]?(0,n.track)(e,{schema:(0,n.unbox)(e[0]),table:(0,n.unbox)(e[2]),column:(0,n.unbox)(e[3])}):(0,n.track)(e,{table:(0,n.unbox)(e[0]),column:(0,n.unbox)(e[2])})},{name:"table_ref_aliased$ebnf$1",symbols:["ident_aliased"],postprocess:a},{name:"table_ref_aliased$ebnf$1",symbols:[],postprocess:()=>null},{name:"table_ref_aliased",symbols:["table_ref","table_ref_aliased$ebnf$1"],postprocess:e=>{const t=E(e[1]);return(0,n.track)(e,{...E(e[0]),...t?{alias:t}:{}})}},{name:"qualified_name",symbols:["qname_ident"],postprocess:e=>(0,n.track)(e,{name:_(e)})},{name:"qualified_name",symbols:["ident","dot","ident_extended"],postprocess:e=>{const t=_(e[0]),s=_(e[2]);return(0,n.track)(e,{schema:t,name:s})}},{name:"qualified_name",symbols:[r.lexerAny.has("kw_current_schema")?{type:"kw_current_schema"}:kw_current_schema],postprocess:e=>(0,n.track)(e,{name:"current_schema"})},{name:"qualified_name_mark_quotes",symbols:["qname_ident"],postprocess:e=>(0,n.track)(e,{name:_(e),...(0,n.doubleQuoted)(e)})},{name:"qualified_name_mark_quotes",symbols:["ident","dot","ident_extended"],postprocess:e=>{const t=_(e[0]),s=_(e[2]);return(0,n.track)(e,{schema:t,name:s,...(0,n.doubleQuoted)(e[2])})}},{name:"qualified_name_mark_quotes",symbols:[r.lexerAny.has("kw_current_schema")?{type:"kw_current_schema"}:kw_current_schema],postprocess:e=>(0,n.track)(e,{name:"current_schema"})},{name:"qname_ident",symbols:["ident"]},{name:"qname_ident",symbols:[r.lexerAny.has("kw_precision")?{type:"kw_precision"}:kw_precision]},{name:"qname",symbols:["qualified_name"],postprocess:E},{name:"any_keyword",symbols:[r.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_analyse")?{type:"kw_analyse"}:kw_analyse]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_analyze")?{type:"kw_analyze"}:kw_analyze]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_and")?{type:"kw_and"}:kw_and]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_any")?{type:"kw_any"}:kw_any]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_array")?{type:"kw_array"}:kw_array]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_asc")?{type:"kw_asc"}:kw_asc]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_asymmetric")?{type:"kw_asymmetric"}:kw_asymmetric]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_authorization")?{type:"kw_authorization"}:kw_authorization]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_binary")?{type:"kw_binary"}:kw_binary]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_both")?{type:"kw_both"}:kw_both]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_case")?{type:"kw_case"}:kw_case]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_cast")?{type:"kw_cast"}:kw_cast]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_check")?{type:"kw_check"}:kw_check]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_collate")?{type:"kw_collate"}:kw_collate]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_collation")?{type:"kw_collation"}:kw_collation]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_concurrently")?{type:"kw_concurrently"}:kw_concurrently]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_cross")?{type:"kw_cross"}:kw_cross]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_current_catalog")?{type:"kw_current_catalog"}:kw_current_catalog]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_current_date")?{type:"kw_current_date"}:kw_current_date]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_current_role")?{type:"kw_current_role"}:kw_current_role]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_current_schema")?{type:"kw_current_schema"}:kw_current_schema]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_current_time")?{type:"kw_current_time"}:kw_current_time]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_current_timestamp")?{type:"kw_current_timestamp"}:kw_current_timestamp]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_current_user")?{type:"kw_current_user"}:kw_current_user]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_deferrable")?{type:"kw_deferrable"}:kw_deferrable]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_desc")?{type:"kw_desc"}:kw_desc]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_distinct")?{type:"kw_distinct"}:kw_distinct]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_do")?{type:"kw_do"}:kw_do]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_else")?{type:"kw_else"}:kw_else]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_end")?{type:"kw_end"}:kw_end]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_except")?{type:"kw_except"}:kw_except]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_false")?{type:"kw_false"}:kw_false]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_fetch")?{type:"kw_fetch"}:kw_fetch]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_for")?{type:"kw_for"}:kw_for]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_foreign")?{type:"kw_foreign"}:kw_foreign]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_freeze")?{type:"kw_freeze"}:kw_freeze]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_full")?{type:"kw_full"}:kw_full]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_grant")?{type:"kw_grant"}:kw_grant]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_group")?{type:"kw_group"}:kw_group]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_having")?{type:"kw_having"}:kw_having]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_ilike")?{type:"kw_ilike"}:kw_ilike]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_in")?{type:"kw_in"}:kw_in]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_initially")?{type:"kw_initially"}:kw_initially]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_inner")?{type:"kw_inner"}:kw_inner]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_intersect")?{type:"kw_intersect"}:kw_intersect]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_into")?{type:"kw_into"}:kw_into]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_is")?{type:"kw_is"}:kw_is]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_isnull")?{type:"kw_isnull"}:kw_isnull]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_join")?{type:"kw_join"}:kw_join]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_lateral")?{type:"kw_lateral"}:kw_lateral]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_leading")?{type:"kw_leading"}:kw_leading]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_left")?{type:"kw_left"}:kw_left]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_like")?{type:"kw_like"}:kw_like]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_limit")?{type:"kw_limit"}:kw_limit]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_localtime")?{type:"kw_localtime"}:kw_localtime]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_localtimestamp")?{type:"kw_localtimestamp"}:kw_localtimestamp]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_natural")?{type:"kw_natural"}:kw_natural]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_notnull")?{type:"kw_notnull"}:kw_notnull]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_offset")?{type:"kw_offset"}:kw_offset]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_only")?{type:"kw_only"}:kw_only]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_or")?{type:"kw_or"}:kw_or]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_order")?{type:"kw_order"}:kw_order]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_outer")?{type:"kw_outer"}:kw_outer]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_overlaps")?{type:"kw_overlaps"}:kw_overlaps]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_placing")?{type:"kw_placing"}:kw_placing]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_primary")?{type:"kw_primary"}:kw_primary]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_references")?{type:"kw_references"}:kw_references]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_returning")?{type:"kw_returning"}:kw_returning]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_right")?{type:"kw_right"}:kw_right]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_select")?{type:"kw_select"}:kw_select]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_session_user")?{type:"kw_session_user"}:kw_session_user]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_similar")?{type:"kw_similar"}:kw_similar]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_some")?{type:"kw_some"}:kw_some]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_symmetric")?{type:"kw_symmetric"}:kw_symmetric]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_tablesample")?{type:"kw_tablesample"}:kw_tablesample]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_then")?{type:"kw_then"}:kw_then]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_trailing")?{type:"kw_trailing"}:kw_trailing]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_true")?{type:"kw_true"}:kw_true]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_union")?{type:"kw_union"}:kw_union]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_unique")?{type:"kw_unique"}:kw_unique]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_user")?{type:"kw_user"}:kw_user]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_using")?{type:"kw_using"}:kw_using]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_variadic")?{type:"kw_variadic"}:kw_variadic]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_verbose")?{type:"kw_verbose"}:kw_verbose]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_when")?{type:"kw_when"}:kw_when]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_where")?{type:"kw_where"}:kw_where]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_window")?{type:"kw_window"}:kw_window]},{name:"any_keyword",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with]},{name:"ident_extended",symbols:["ident"]},{name:"ident_extended",symbols:["any_keyword"]},{name:"select_statement$ebnf$1",symbols:["select_from"],postprocess:a},{name:"select_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$2",symbols:["select_where"],postprocess:a},{name:"select_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$3$subexpression$1$ebnf$1",symbols:["select_having"],postprocess:a},{name:"select_statement$ebnf$3$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$3$subexpression$1",symbols:["select_groupby","select_statement$ebnf$3$subexpression$1$ebnf$1"]},{name:"select_statement$ebnf$3",symbols:["select_statement$ebnf$3$subexpression$1"],postprocess:a},{name:"select_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$4",symbols:["select_order_by"],postprocess:a},{name:"select_statement$ebnf$4",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$5",symbols:["select_limit_offset"],postprocess:a},{name:"select_statement$ebnf$5",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$6$subexpression$1$ebnf$1",symbols:["select_skip"],postprocess:a},{name:"select_statement$ebnf$6$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$6$subexpression$1",symbols:["select_for","select_statement$ebnf$6$subexpression$1$ebnf$1"]},{name:"select_statement$ebnf$6",symbols:["select_statement$ebnf$6$subexpression$1"],postprocess:a},{name:"select_statement$ebnf$6",symbols:[],postprocess:()=>null},{name:"select_statement",symbols:["select_what","select_statement$ebnf$1","select_statement$ebnf$2","select_statement$ebnf$3","select_statement$ebnf$4","select_statement$ebnf$5","select_statement$ebnf$6"],postprocess:e=>{let[t,s,a,r,o,l,i]=e;s=E(s);let c=r&&r[0],T=r&&r[1];c=c&&(1===c.length&&"list"===c[0].type?c[0].expressions:c),T=T&&E(T);let p=i&&i[0],u=i&&i[1];return u=E(u),(0,n.track)(e,{...t,...s?{from:Array.isArray(s)?s:[s]}:{},...c?{groupBy:c}:{},...T?{having:T}:{},...l?{limit:E(l)}:{},...o?{orderBy:o}:{},...a?{where:a}:{},...p?{for:p[1]}:{},...u?{skip:u}:{},type:"select"})}},{name:"select_from",symbols:[r.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"select_from_items"],postprocess:T},{name:"select_from_items$ebnf$1",symbols:[]},{name:"select_from_items$ebnf$1$subexpression$1",symbols:["comma","select_from_item"],postprocess:T},{name:"select_from_items$ebnf$1",symbols:["select_from_items$ebnf$1","select_from_items$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"select_from_items",symbols:["select_from_item","select_from_items$ebnf$1"],postprocess:([e,t])=>[...e,...p(t)||[]]},{name:"select_from_item",symbols:["select_from_subject"]},{name:"select_from_item",symbols:["select_from_item_joins"],postprocess:c(0)},{name:"select_from_item_joins$subexpression$1",symbols:["select_from_item"],postprocess:c(0)},{name:"select_from_item_joins",symbols:["select_from_item_joins$subexpression$1","select_table_join"],postprocess:p},{name:"select_from_item_joins",symbols:["lparen","select_from_item_joins","rparen"],postprocess:c(1)},{name:"select_from_subject",symbols:["stb_table"],postprocess:E},{name:"select_from_subject",symbols:["stb_statement"],postprocess:E},{name:"select_from_subject",symbols:["stb_call"],postprocess:E},{name:"stb_opts$ebnf$1",symbols:["collist_paren"],postprocess:a},{name:"stb_opts$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_opts",symbols:["ident_aliased","stb_opts$ebnf$1"],postprocess:e=>(0,n.track)(e,{alias:_(e[0]),...e[1]&&{columnNames:(0,n.unbox)(e[1]).map(o)}})},{name:"stb_table$ebnf$1",symbols:["stb_opts"],postprocess:a},{name:"stb_table$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_table",symbols:["table_ref","stb_table$ebnf$1"],postprocess:e=>(0,n.track)(e,{type:"table",name:(0,n.track)(e,{...e[0],...e[1]})})},{name:"stb_statement$ebnf$1",symbols:[r.lexerAny.has("kw_lateral")?{type:"kw_lateral"}:kw_lateral],postprocess:a},{name:"stb_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_statement",symbols:["stb_statement$ebnf$1","selection_paren","stb_opts"],postprocess:e=>(0,n.track)(e,{type:"statement",statement:E(e[1]),...e[0]&&{lateral:!0},...e[2]})},{name:"select_values",symbols:["kw_values","insert_values"],postprocess:e=>(0,n.track)(e,{type:"values",values:e[1]})},{name:"stb_call$ebnf$1",symbols:[r.lexerAny.has("kw_lateral")?{type:"kw_lateral"}:kw_lateral],postprocess:a},{name:"stb_call$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_call$ebnf$2",symbols:["kw_withordinality"],postprocess:a},{name:"stb_call$ebnf$2",symbols:[],postprocess:()=>null},{name:"stb_call$ebnf$3",symbols:["stb_call_alias"],postprocess:a},{name:"stb_call$ebnf$3",symbols:[],postprocess:()=>null},{name:"stb_call",symbols:["stb_call$ebnf$1","expr_function_call","stb_call$ebnf$2","stb_call$ebnf$3"],postprocess:e=>{const t=e[0],s=e[2],a=e[3];return s||a?(0,n.track)(e,{...e[1],...t&&{lateral:!0},...s&&{withOrdinality:!0},alias:a?l(a[0],a[1]):void 0}):e[1]}},{name:"stb_call_alias$subexpression$1$ebnf$1",symbols:[r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as],postprocess:a},{name:"stb_call_alias$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_call_alias$subexpression$1",symbols:["stb_call_alias$subexpression$1$ebnf$1","ident"],postprocess:T},{name:"stb_call_alias$ebnf$1",symbols:["stb_call_alias_list"],postprocess:a},{name:"stb_call_alias$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_call_alias",symbols:["stb_call_alias$subexpression$1","stb_call_alias$ebnf$1"]},{name:"stb_call_alias_list",symbols:["lparen","stb_call_alias_list_raw","rparen"],postprocess:c(1)},{name:"stb_call_alias_list_raw$ebnf$1",symbols:[]},{name:"stb_call_alias_list_raw$ebnf$1$subexpression$1",symbols:["comma","ident"],postprocess:T},{name:"stb_call_alias_list_raw$ebnf$1",symbols:["stb_call_alias_list_raw$ebnf$1","stb_call_alias_list_raw$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"stb_call_alias_list_raw",symbols:["ident","stb_call_alias_list_raw$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"select_table_join$ebnf$1",symbols:["select_table_join_clause"],postprocess:a},{name:"select_table_join$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_table_join",symbols:["select_join_op",r.lexerAny.has("kw_join")?{type:"kw_join"}:kw_join,"select_from_subject","select_table_join$ebnf$1"],postprocess:e=>(0,n.track)(e,{...E(e[2]),join:{type:_(e[0]," "),...e[3]&&E(e[3])}})},{name:"select_table_join_clause",symbols:[r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"expr"],postprocess:e=>(0,n.track)(e,{on:T(e)})},{name:"select_table_join_clause$macrocall$2",symbols:["ident"]},{name:"select_table_join_clause$macrocall$1$ebnf$1",symbols:[]},{name:"select_table_join_clause$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"select_table_join_clause$macrocall$2"],postprocess:T},{name:"select_table_join_clause$macrocall$1$ebnf$1",symbols:["select_table_join_clause$macrocall$1$ebnf$1","select_table_join_clause$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"select_table_join_clause$macrocall$1",symbols:["select_table_join_clause$macrocall$2","select_table_join_clause$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"select_table_join_clause",symbols:[r.lexerAny.has("kw_using")?{type:"kw_using"}:kw_using,"lparen","select_table_join_clause$macrocall$1","rparen"],postprocess:e=>(0,n.track)(e,{using:e[2].map(o)})},{name:"select_join_op$subexpression$1$ebnf$1",symbols:[r.lexerAny.has("kw_inner")?{type:"kw_inner"}:kw_inner],postprocess:a},{name:"select_join_op$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_join_op$subexpression$1",symbols:["select_join_op$subexpression$1$ebnf$1"],postprocess:e=>(0,n.box)(e,"INNER JOIN")},{name:"select_join_op",symbols:["select_join_op$subexpression$1"]},{name:"select_join_op$subexpression$2",symbols:[r.lexerAny.has("kw_cross")?{type:"kw_cross"}:kw_cross],postprocess:e=>(0,n.box)(e,"CROSS JOIN")},{name:"select_join_op",symbols:["select_join_op$subexpression$2"]},{name:"select_join_op$subexpression$3$ebnf$1",symbols:[r.lexerAny.has("kw_outer")?{type:"kw_outer"}:kw_outer],postprocess:a},{name:"select_join_op$subexpression$3$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_join_op$subexpression$3",symbols:[r.lexerAny.has("kw_left")?{type:"kw_left"}:kw_left,"select_join_op$subexpression$3$ebnf$1"],postprocess:e=>(0,n.box)(e,"LEFT JOIN")},{name:"select_join_op",symbols:["select_join_op$subexpression$3"]},{name:"select_join_op$subexpression$4$ebnf$1",symbols:[r.lexerAny.has("kw_outer")?{type:"kw_outer"}:kw_outer],postprocess:a},{name:"select_join_op$subexpression$4$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_join_op$subexpression$4",symbols:[r.lexerAny.has("kw_right")?{type:"kw_right"}:kw_right,"select_join_op$subexpression$4$ebnf$1"],postprocess:e=>(0,n.box)(e,"RIGHT JOIN")},{name:"select_join_op",symbols:["select_join_op$subexpression$4"]},{name:"select_join_op$subexpression$5$ebnf$1",symbols:[r.lexerAny.has("kw_outer")?{type:"kw_outer"}:kw_outer],postprocess:a},{name:"select_join_op$subexpression$5$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_join_op$subexpression$5",symbols:[r.lexerAny.has("kw_full")?{type:"kw_full"}:kw_full,"select_join_op$subexpression$5$ebnf$1"],postprocess:e=>(0,n.box)(e,"FULL JOIN")},{name:"select_join_op",symbols:["select_join_op$subexpression$5"]},{name:"select_what$ebnf$1",symbols:["select_distinct"],postprocess:a},{name:"select_what$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_what$ebnf$2",symbols:["select_expr_list_aliased"],postprocess:a},{name:"select_what$ebnf$2",symbols:[],postprocess:()=>null},{name:"select_what",symbols:[r.lexerAny.has("kw_select")?{type:"kw_select"}:kw_select,"select_what$ebnf$1","select_what$ebnf$2"],postprocess:e=>(0,n.track)(e,{columns:e[2],...e[1]&&{distinct:(0,n.unbox)(e[1])}})},{name:"select_expr_list_aliased$ebnf$1",symbols:[]},{name:"select_expr_list_aliased$ebnf$1$subexpression$1",symbols:["comma","select_expr_list_item"],postprocess:T},{name:"select_expr_list_aliased$ebnf$1",symbols:["select_expr_list_aliased$ebnf$1","select_expr_list_aliased$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"select_expr_list_aliased",symbols:["select_expr_list_item","select_expr_list_aliased$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"select_expr_list_item$ebnf$1",symbols:["ident_aliased"],postprocess:a},{name:"select_expr_list_item$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_expr_list_item",symbols:["expr","select_expr_list_item$ebnf$1"],postprocess:e=>(0,n.track)(e,{expr:e[0],...e[1]?{alias:o(e[1])}:{}})},{name:"select_distinct",symbols:[r.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all],postprocess:e=>(0,n.box)(e,"all")},{name:"select_distinct$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"lparen","expr_list_raw","rparen"],postprocess:c(2)},{name:"select_distinct$ebnf$1",symbols:["select_distinct$ebnf$1$subexpression$1"],postprocess:a},{name:"select_distinct$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_distinct",symbols:[r.lexerAny.has("kw_distinct")?{type:"kw_distinct"}:kw_distinct,"select_distinct$ebnf$1"],postprocess:e=>(0,n.box)(e,e[1]||"distinct")},{name:"select_where",symbols:[r.lexerAny.has("kw_where")?{type:"kw_where"}:kw_where,"expr"],postprocess:T},{name:"select_groupby",symbols:[r.lexerAny.has("kw_group")?{type:"kw_group"}:kw_group,"kw_by","expr_list_raw"],postprocess:T},{name:"select_having",symbols:[r.lexerAny.has("kw_having")?{type:"kw_having"}:kw_having,"expr"],postprocess:T},{name:"select_limit_offset$ebnf$1$subexpression$1",symbols:["select_offset"]},{name:"select_limit_offset$ebnf$1$subexpression$1",symbols:["select_limit"]},{name:"select_limit_offset$ebnf$1",symbols:["select_limit_offset$ebnf$1$subexpression$1"]},{name:"select_limit_offset$ebnf$1$subexpression$2",symbols:["select_offset"]},{name:"select_limit_offset$ebnf$1$subexpression$2",symbols:["select_limit"]},{name:"select_limit_offset$ebnf$1",symbols:["select_limit_offset$ebnf$1","select_limit_offset$ebnf$1$subexpression$2"],postprocess:e=>e[0].concat([e[1]])},{name:"select_limit_offset",symbols:["select_limit_offset$ebnf$1"],postprocess:(e,t)=>{const s=E(e);if(!Array.isArray(s))return(0,n.track)(e,s);if(2!=s.length)return t;const a=E(s[0]),r=E(s[1]);return a.offset&&r.offset||a.limit&&r.limit?t:(0,n.track)(e,{...a,...r})}},{name:"select_offset$ebnf$1$subexpression$1",symbols:["kw_row"]},{name:"select_offset$ebnf$1$subexpression$1",symbols:["kw_rows"]},{name:"select_offset$ebnf$1",symbols:["select_offset$ebnf$1$subexpression$1"],postprocess:a},{name:"select_offset$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_offset",symbols:[r.lexerAny.has("kw_offset")?{type:"kw_offset"}:kw_offset,"expr_nostar","select_offset$ebnf$1"],postprocess:e=>(0,n.track)(e,{offset:E(e[1])})},{name:"select_limit$subexpression$1",symbols:["select_limit_1"]},{name:"select_limit$subexpression$1",symbols:["select_limit_2"]},{name:"select_limit",symbols:["select_limit$subexpression$1"],postprocess:e=>(0,n.track)(e,{limit:E(e)})},{name:"select_limit_1",symbols:[r.lexerAny.has("kw_limit")?{type:"kw_limit"}:kw_limit,"expr_nostar"],postprocess:T},{name:"select_limit_2$ebnf$1$subexpression$1",symbols:["kw_first"]},{name:"select_limit_2$ebnf$1$subexpression$1",symbols:["kw_next"]},{name:"select_limit_2$ebnf$1",symbols:["select_limit_2$ebnf$1$subexpression$1"],postprocess:a},{name:"select_limit_2$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_limit_2$subexpression$1",symbols:["kw_row"]},{name:"select_limit_2$subexpression$1",symbols:["kw_rows"]},{name:"select_limit_2",symbols:[r.lexerAny.has("kw_fetch")?{type:"kw_fetch"}:kw_fetch,"select_limit_2$ebnf$1","expr_nostar","select_limit_2$subexpression$1",r.lexerAny.has("kw_only")?{type:"kw_only"}:kw_only],postprocess:c(2)},{name:"select_for$subexpression$1",symbols:["kw_update"],postprocess:e=>(0,n.track)(e,{type:"update"})},{name:"select_for$subexpression$1",symbols:["kw_no","kw_key","kw_update"],postprocess:e=>(0,n.track)(e,{type:"no key update"})},{name:"select_for$subexpression$1",symbols:["kw_share"],postprocess:e=>(0,n.track)(e,{type:"share"})},{name:"select_for$subexpression$1",symbols:["kw_key","kw_share"],postprocess:e=>(0,n.track)(e,{type:"key share"})},{name:"select_for",symbols:[r.lexerAny.has("kw_for")?{type:"kw_for"}:kw_for,"select_for$subexpression$1"]},{name:"select_skip$subexpression$1",symbols:["kw_nowait"],postprocess:e=>(0,n.track)(e,{type:"nowait"})},{name:"select_skip$subexpression$1",symbols:["kw_skip","kw_locked"],postprocess:e=>(0,n.track)(e,{type:"skip locked"})},{name:"select_skip",symbols:["select_skip$subexpression$1"]},{name:"select_order_by$subexpression$1",symbols:[r.lexerAny.has("kw_order")?{type:"kw_order"}:kw_order,"kw_by"]},{name:"select_order_by$ebnf$1",symbols:[]},{name:"select_order_by$ebnf$1$subexpression$1",symbols:["comma","select_order_by_expr"],postprocess:T},{name:"select_order_by$ebnf$1",symbols:["select_order_by$ebnf$1","select_order_by$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"select_order_by",symbols:["select_order_by$subexpression$1","select_order_by_expr","select_order_by$ebnf$1"],postprocess:([e,t,s])=>[t,...s||[]]},{name:"select_order_by_expr$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_asc")?{type:"kw_asc"}:kw_asc]},{name:"select_order_by_expr$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_desc")?{type:"kw_desc"}:kw_desc]},{name:"select_order_by_expr$ebnf$1",symbols:["select_order_by_expr$ebnf$1$subexpression$1"],postprocess:a},{name:"select_order_by_expr$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_order_by_expr$ebnf$2$subexpression$1$subexpression$1",symbols:["kw_first"]},{name:"select_order_by_expr$ebnf$2$subexpression$1$subexpression$1",symbols:["kw_last"]},{name:"select_order_by_expr$ebnf$2$subexpression$1",symbols:["kw_nulls","select_order_by_expr$ebnf$2$subexpression$1$subexpression$1"],postprocess:T},{name:"select_order_by_expr$ebnf$2",symbols:["select_order_by_expr$ebnf$2$subexpression$1"],postprocess:a},{name:"select_order_by_expr$ebnf$2",symbols:[],postprocess:()=>null},{name:"select_order_by_expr",symbols:["expr","select_order_by_expr$ebnf$1","select_order_by_expr$ebnf$2"],postprocess:e=>(0,n.track)(e,{by:e[0],...e[1]&&{order:_(e[1]).toUpperCase()},...e[2]&&{nulls:_(e[2]).toUpperCase()}})},{name:"expr",symbols:["expr_nostar"],postprocess:E},{name:"expr",symbols:["expr_star"],postprocess:E},{name:"expr_nostar",symbols:["expr_paren"],postprocess:E},{name:"expr_nostar",symbols:["expr_or"],postprocess:E},{name:"expr_paren$subexpression$1",symbols:["expr_or_select"]},{name:"expr_paren$subexpression$1",symbols:["expr_list_many"]},{name:"expr_paren",symbols:["lparen","expr_paren$subexpression$1","rparen"],postprocess:c(1)},{name:"expr_or$macrocall$2$macrocall$2",symbols:[r.lexerAny.has("kw_or")?{type:"kw_or"}:kw_or]},{name:"expr_or$macrocall$2$macrocall$1",symbols:["expr_or$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_or$macrocall$2",symbols:["expr_or$macrocall$2$macrocall$1"]},{name:"expr_or$macrocall$3",symbols:["expr_or"]},{name:"expr_or$macrocall$4",symbols:["expr_and"]},{name:"expr_or$macrocall$1$subexpression$1",symbols:["expr_or$macrocall$3"]},{name:"expr_or$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_or$macrocall$1$subexpression$2",symbols:["expr_or$macrocall$4"]},{name:"expr_or$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_or$macrocall$1",symbols:["expr_or$macrocall$1$subexpression$1","expr_or$macrocall$2","expr_or$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_or$macrocall$1",symbols:["expr_or$macrocall$4"],postprocess:E},{name:"expr_or",symbols:["expr_or$macrocall$1"]},{name:"expr_and$macrocall$2$macrocall$2",symbols:[r.lexerAny.has("kw_and")?{type:"kw_and"}:kw_and]},{name:"expr_and$macrocall$2$macrocall$1",symbols:["expr_and$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_and$macrocall$2",symbols:["expr_and$macrocall$2$macrocall$1"]},{name:"expr_and$macrocall$3",symbols:["expr_and"]},{name:"expr_and$macrocall$4",symbols:["expr_not"]},{name:"expr_and$macrocall$1$subexpression$1",symbols:["expr_and$macrocall$3"]},{name:"expr_and$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_and$macrocall$1$subexpression$2",symbols:["expr_and$macrocall$4"]},{name:"expr_and$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_and$macrocall$1",symbols:["expr_and$macrocall$1$subexpression$1","expr_and$macrocall$2","expr_and$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_and$macrocall$1",symbols:["expr_and$macrocall$4"],postprocess:E},{name:"expr_and",symbols:["expr_and$macrocall$1"]},{name:"expr_not$macrocall$2$macrocall$2",symbols:[r.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not]},{name:"expr_not$macrocall$2$macrocall$1",symbols:["expr_not$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_not$macrocall$2",symbols:["expr_not$macrocall$2$macrocall$1"]},{name:"expr_not$macrocall$3",symbols:["expr_not"]},{name:"expr_not$macrocall$4",symbols:["expr_eq"]},{name:"expr_not$macrocall$1$subexpression$1",symbols:["expr_not$macrocall$3"]},{name:"expr_not$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_not$macrocall$1",symbols:["expr_not$macrocall$2","expr_not$macrocall$1$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"unary",...E(e[0]),operand:E(e[1])})},{name:"expr_not$macrocall$1",symbols:["expr_not$macrocall$4"],postprocess:E},{name:"expr_not",symbols:["expr_not$macrocall$1"]},{name:"expr_eq$macrocall$2$macrocall$2$subexpression$1",symbols:[r.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq]},{name:"expr_eq$macrocall$2$macrocall$2$subexpression$1",symbols:[r.lexerAny.has("op_neq")?{type:"op_neq"}:op_neq]},{name:"expr_eq$macrocall$2$macrocall$2",symbols:["expr_eq$macrocall$2$macrocall$2$subexpression$1"]},{name:"expr_eq$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_eq$macrocall$2$macrocall$2"]},{name:"expr_eq$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_eq$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_eq$macrocall$2$macrocall$1",symbols:["expr_eq$macrocall$2$macrocall$1$macrocall$1"],postprocess:E},{name:"expr_eq$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_eq$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(_(e[4]," ")||"<error>").toUpperCase(),opSchema:_(e[2])})},{name:"expr_eq$macrocall$2",symbols:["expr_eq$macrocall$2$macrocall$1"]},{name:"expr_eq$macrocall$3",symbols:["expr_eq"]},{name:"expr_eq$macrocall$4",symbols:["expr_is"]},{name:"expr_eq$macrocall$1$subexpression$1",symbols:["expr_eq$macrocall$3"]},{name:"expr_eq$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_eq$macrocall$1$subexpression$2",symbols:["expr_eq$macrocall$4"]},{name:"expr_eq$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_eq$macrocall$1",symbols:["expr_eq$macrocall$1$subexpression$1","expr_eq$macrocall$2","expr_eq$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_eq$macrocall$1",symbols:["expr_eq$macrocall$4"],postprocess:E},{name:"expr_eq",symbols:["expr_eq$macrocall$1"]},{name:"expr_star",symbols:["star"],postprocess:e=>(0,n.track)(e,{type:"ref",name:"*"})},{name:"expr_is$subexpression$1",symbols:["expr_is"]},{name:"expr_is$subexpression$1",symbols:["expr_paren"]},{name:"expr_is$subexpression$2",symbols:[r.lexerAny.has("kw_isnull")?{type:"kw_isnull"}:kw_isnull]},{name:"expr_is$subexpression$2",symbols:[r.lexerAny.has("kw_is")?{type:"kw_is"}:kw_is,r.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null]},{name:"expr_is",symbols:["expr_is$subexpression$1","expr_is$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"unary",op:"IS NULL",operand:E(e[0])})},{name:"expr_is$subexpression$3",symbols:["expr_is"]},{name:"expr_is$subexpression$3",symbols:["expr_paren"]},{name:"expr_is$subexpression$4",symbols:[r.lexerAny.has("kw_notnull")?{type:"kw_notnull"}:kw_notnull]},{name:"expr_is$subexpression$4",symbols:[r.lexerAny.has("kw_is")?{type:"kw_is"}:kw_is,"kw_not_null"]},{name:"expr_is",symbols:["expr_is$subexpression$3","expr_is$subexpression$4"],postprocess:e=>(0,n.track)(e,{type:"unary",op:"IS NOT NULL",operand:E(e[0])})},{name:"expr_is$subexpression$5",symbols:["expr_is"]},{name:"expr_is$subexpression$5",symbols:["expr_paren"]},{name:"expr_is$ebnf$1",symbols:[r.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:a},{name:"expr_is$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_is$subexpression$6",symbols:[r.lexerAny.has("kw_true")?{type:"kw_true"}:kw_true]},{name:"expr_is$subexpression$6",symbols:[r.lexerAny.has("kw_false")?{type:"kw_false"}:kw_false]},{name:"expr_is",symbols:["expr_is$subexpression$5",r.lexerAny.has("kw_is")?{type:"kw_is"}:kw_is,"expr_is$ebnf$1","expr_is$subexpression$6"],postprocess:e=>(0,n.track)(e,{type:"unary",op:"IS "+m([e[2],e[3]]).join(" ").toUpperCase(),operand:E(e[0])})},{name:"expr_is",symbols:["expr_compare"],postprocess:E},{name:"expr_compare$macrocall$2$macrocall$2",symbols:[r.lexerAny.has("op_compare")?{type:"op_compare"}:op_compare]},{name:"expr_compare$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_compare$macrocall$2$macrocall$2"]},{name:"expr_compare$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_compare$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_compare$macrocall$2$macrocall$1",symbols:["expr_compare$macrocall$2$macrocall$1$macrocall$1"],postprocess:E},{name:"expr_compare$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_compare$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(_(e[4]," ")||"<error>").toUpperCase(),opSchema:_(e[2])})},{name:"expr_compare$macrocall$2",symbols:["expr_compare$macrocall$2$macrocall$1"]},{name:"expr_compare$macrocall$3",symbols:["expr_compare"]},{name:"expr_compare$macrocall$4",symbols:["expr_range"]},{name:"expr_compare$macrocall$1$subexpression$1",symbols:["expr_compare$macrocall$3"]},{name:"expr_compare$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_compare$macrocall$1$subexpression$2",symbols:["expr_compare$macrocall$4"]},{name:"expr_compare$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_compare$macrocall$1",symbols:["expr_compare$macrocall$1$subexpression$1","expr_compare$macrocall$2","expr_compare$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_compare$macrocall$1",symbols:["expr_compare$macrocall$4"],postprocess:E},{name:"expr_compare",symbols:["expr_compare$macrocall$1"]},{name:"expr_range$macrocall$2",symbols:["ops_between"]},{name:"expr_range$macrocall$3",symbols:[r.lexerAny.has("kw_and")?{type:"kw_and"}:kw_and]},{name:"expr_range$macrocall$4",symbols:["expr_range"]},{name:"expr_range$macrocall$5",symbols:["expr_others"]},{name:"expr_range$macrocall$1$subexpression$1",symbols:["expr_range$macrocall$4"]},{name:"expr_range$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_range$macrocall$1$subexpression$2",symbols:["expr_range$macrocall$4"]},{name:"expr_range$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_range$macrocall$1$subexpression$3",symbols:["expr_range$macrocall$5"]},{name:"expr_range$macrocall$1$subexpression$3",symbols:["expr_paren"]},{name:"expr_range$macrocall$1",symbols:["expr_range$macrocall$1$subexpression$1","expr_range$macrocall$2","expr_range$macrocall$1$subexpression$2","expr_range$macrocall$3","expr_range$macrocall$1$subexpression$3"],postprocess:e=>(0,n.track)(e,{type:"ternary",value:E(e[0]),lo:E(e[2]),hi:E(e[4]),op:(m(e[1]).join(" ")||"<error>").toUpperCase()})},{name:"expr_range$macrocall$1",symbols:["expr_range$macrocall$5"],postprocess:E},{name:"expr_range",symbols:["expr_range$macrocall$1"]},{name:"expr_others$macrocall$2$macrocall$2",symbols:[r.lexerAny.has("ops_others")?{type:"ops_others"}:ops_others]},{name:"expr_others$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_others$macrocall$2$macrocall$2"]},{name:"expr_others$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_others$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_others$macrocall$2$macrocall$1",symbols:["expr_others$macrocall$2$macrocall$1$macrocall$1"],postprocess:E},{name:"expr_others$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_others$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(_(e[4]," ")||"<error>").toUpperCase(),opSchema:_(e[2])})},{name:"expr_others$macrocall$2",symbols:["expr_others$macrocall$2$macrocall$1"]},{name:"expr_others$macrocall$3",symbols:["expr_others"]},{name:"expr_others$macrocall$4",symbols:["expr_like"]},{name:"expr_others$macrocall$1$subexpression$1",symbols:["expr_others$macrocall$3"]},{name:"expr_others$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_others$macrocall$1$subexpression$2",symbols:["expr_others$macrocall$4"]},{name:"expr_others$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_others$macrocall$1",symbols:["expr_others$macrocall$1$subexpression$1","expr_others$macrocall$2","expr_others$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_others$macrocall$1",symbols:["expr_others$macrocall$4"],postprocess:E},{name:"expr_others",symbols:["expr_others$macrocall$1"]},{name:"expr_like$macrocall$2$macrocall$2",symbols:["ops_like"]},{name:"expr_like$macrocall$2$macrocall$1",symbols:["expr_like$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_like$macrocall$2",symbols:["expr_like$macrocall$2$macrocall$1"]},{name:"expr_like$macrocall$3",symbols:["expr_like"]},{name:"expr_like$macrocall$4",symbols:["expr_in"]},{name:"expr_like$macrocall$1$subexpression$1",symbols:["expr_like$macrocall$3"]},{name:"expr_like$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_like$macrocall$1$subexpression$2",symbols:["expr_like$macrocall$4"]},{name:"expr_like$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_like$macrocall$1",symbols:["expr_like$macrocall$1$subexpression$1","expr_like$macrocall$2","expr_like$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_like$macrocall$1",symbols:["expr_like$macrocall$4"],postprocess:E},{name:"expr_like",symbols:["expr_like$macrocall$1"]},{name:"expr_in$macrocall$2$macrocall$2",symbols:["ops_in"]},{name:"expr_in$macrocall$2$macrocall$1",symbols:["expr_in$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_in$macrocall$2",symbols:["expr_in$macrocall$2$macrocall$1"]},{name:"expr_in$macrocall$3",symbols:["expr_in"]},{name:"expr_in$macrocall$4",symbols:["expr_add"]},{name:"expr_in$macrocall$1$subexpression$1",symbols:["expr_in$macrocall$3"]},{name:"expr_in$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_in$macrocall$1$subexpression$2",symbols:["expr_in$macrocall$4"]},{name:"expr_in$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_in$macrocall$1",symbols:["expr_in$macrocall$1$subexpression$1","expr_in$macrocall$2","expr_in$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_in$macrocall$1",symbols:["expr_in$macrocall$4"],postprocess:E},{name:"expr_in",symbols:["expr_in$macrocall$1"]},{name:"expr_add$macrocall$2$macrocall$2$subexpression$1",symbols:[r.lexerAny.has("op_plus")?{type:"op_plus"}:op_plus]},{name:"expr_add$macrocall$2$macrocall$2$subexpression$1",symbols:[r.lexerAny.has("op_minus")?{type:"op_minus"}:op_minus]},{name:"expr_add$macrocall$2$macrocall$2$subexpression$1",symbols:[r.lexerAny.has("op_additive")?{type:"op_additive"}:op_additive]},{name:"expr_add$macrocall$2$macrocall$2",symbols:["expr_add$macrocall$2$macrocall$2$subexpression$1"]},{name:"expr_add$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_add$macrocall$2$macrocall$2"]},{name:"expr_add$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_add$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_add$macrocall$2$macrocall$1",symbols:["expr_add$macrocall$2$macrocall$1$macrocall$1"],postprocess:E},{name:"expr_add$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_add$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(_(e[4]," ")||"<error>").toUpperCase(),opSchema:_(e[2])})},{name:"expr_add$macrocall$2",symbols:["expr_add$macrocall$2$macrocall$1"]},{name:"expr_add$macrocall$3",symbols:["expr_add"]},{name:"expr_add$macrocall$4",symbols:["expr_mult"]},{name:"expr_add$macrocall$1$subexpression$1",symbols:["expr_add$macrocall$3"]},{name:"expr_add$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_add$macrocall$1$subexpression$2",symbols:["expr_add$macrocall$4"]},{name:"expr_add$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_add$macrocall$1",symbols:["expr_add$macrocall$1$subexpression$1","expr_add$macrocall$2","expr_add$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_add$macrocall$1",symbols:["expr_add$macrocall$4"],postprocess:E},{name:"expr_add",symbols:["expr_add$macrocall$1"]},{name:"expr_mult$macrocall$2$macrocall$2$subexpression$1",symbols:[r.lexerAny.has("star")?{type:"star"}:star]},{name:"expr_mult$macrocall$2$macrocall$2$subexpression$1",symbols:[r.lexerAny.has("op_div")?{type:"op_div"}:op_div]},{name:"expr_mult$macrocall$2$macrocall$2$subexpression$1",symbols:[r.lexerAny.has("op_mod")?{type:"op_mod"}:op_mod]},{name:"expr_mult$macrocall$2$macrocall$2",symbols:["expr_mult$macrocall$2$macrocall$2$subexpression$1"]},{name:"expr_mult$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_mult$macrocall$2$macrocall$2"]},{name:"expr_mult$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_mult$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_mult$macrocall$2$macrocall$1",symbols:["expr_mult$macrocall$2$macrocall$1$macrocall$1"],postprocess:E},{name:"expr_mult$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_mult$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(_(e[4]," ")||"<error>").toUpperCase(),opSchema:_(e[2])})},{name:"expr_mult$macrocall$2",symbols:["expr_mult$macrocall$2$macrocall$1"]},{name:"expr_mult$macrocall$3",symbols:["expr_mult"]},{name:"expr_mult$macrocall$4",symbols:["expr_exp"]},{name:"expr_mult$macrocall$1$subexpression$1",symbols:["expr_mult$macrocall$3"]},{name:"expr_mult$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_mult$macrocall$1$subexpression$2",symbols:["expr_mult$macrocall$4"]},{name:"expr_mult$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_mult$macrocall$1",symbols:["expr_mult$macrocall$1$subexpression$1","expr_mult$macrocall$2","expr_mult$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_mult$macrocall$1",symbols:["expr_mult$macrocall$4"],postprocess:E},{name:"expr_mult",symbols:["expr_mult$macrocall$1"]},{name:"expr_exp$macrocall$2$macrocall$2",symbols:[r.lexerAny.has("op_exp")?{type:"op_exp"}:op_exp]},{name:"expr_exp$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_exp$macrocall$2$macrocall$2"]},{name:"expr_exp$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_exp$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_exp$macrocall$2$macrocall$1",symbols:["expr_exp$macrocall$2$macrocall$1$macrocall$1"],postprocess:E},{name:"expr_exp$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_exp$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(_(e[4]," ")||"<error>").toUpperCase(),opSchema:_(e[2])})},{name:"expr_exp$macrocall$2",symbols:["expr_exp$macrocall$2$macrocall$1"]},{name:"expr_exp$macrocall$3",symbols:["expr_exp"]},{name:"expr_exp$macrocall$4",symbols:["expr_unary_add"]},{name:"expr_exp$macrocall$1$subexpression$1",symbols:["expr_exp$macrocall$3"]},{name:"expr_exp$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_exp$macrocall$1$subexpression$2",symbols:["expr_exp$macrocall$4"]},{name:"expr_exp$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_exp$macrocall$1",symbols:["expr_exp$macrocall$1$subexpression$1","expr_exp$macrocall$2","expr_exp$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_exp$macrocall$1",symbols:["expr_exp$macrocall$4"],postprocess:E},{name:"expr_exp",symbols:["expr_exp$macrocall$1"]},{name:"expr_unary_add$macrocall$2$macrocall$2$subexpression$1",symbols:[r.lexerAny.has("op_plus")?{type:"op_plus"}:op_plus]},{name:"expr_unary_add$macrocall$2$macrocall$2$subexpression$1",symbols:[r.lexerAny.has("op_minus")?{type:"op_minus"}:op_minus]},{name:"expr_unary_add$macrocall$2$macrocall$2",symbols:["expr_unary_add$macrocall$2$macrocall$2$subexpression$1"]},{name:"expr_unary_add$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_unary_add$macrocall$2$macrocall$2"]},{name:"expr_unary_add$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_unary_add$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_unary_add$macrocall$2$macrocall$1",symbols:["expr_unary_add$macrocall$2$macrocall$1$macrocall$1"],postprocess:E},{name:"expr_unary_add$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_unary_add$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(_(e[4]," ")||"<error>").toUpperCase(),opSchema:_(e[2])})},{name:"expr_unary_add$macrocall$2",symbols:["expr_unary_add$macrocall$2$macrocall$1"]},{name:"expr_unary_add$macrocall$3",symbols:["expr_unary_add"]},{name:"expr_unary_add$macrocall$4",symbols:["expr_various_constructs"]},{name:"expr_unary_add$macrocall$1$subexpression$1",symbols:["expr_unary_add$macrocall$3"]},{name:"expr_unary_add$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_unary_add$macrocall$1",symbols:["expr_unary_add$macrocall$2","expr_unary_add$macrocall$1$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"unary",...E(e[0]),operand:E(e[1])})},{name:"expr_unary_add$macrocall$1",symbols:["expr_unary_add$macrocall$4"],postprocess:E},{name:"expr_unary_add",symbols:["expr_unary_add$macrocall$1"]},{name:"expr_various_constructs$macrocall$2$macrocall$2",symbols:["various_binaries"]},{name:"expr_various_constructs$macrocall$2$macrocall$1",symbols:["expr_various_constructs$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(_(e," ")||"<error>").toUpperCase()})},{name:"expr_various_constructs$macrocall$2",symbols:["expr_various_constructs$macrocall$2$macrocall$1"]},{name:"expr_various_constructs$macrocall$3",symbols:["expr_various_constructs"]},{name:"expr_various_constructs$macrocall$4",symbols:["expr_array_index"]},{name:"expr_various_constructs$macrocall$1$subexpression$1",symbols:["expr_various_constructs$macrocall$3"]},{name:"expr_various_constructs$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_various_constructs$macrocall$1$subexpression$2",symbols:["expr_various_constructs$macrocall$4"]},{name:"expr_various_constructs$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_various_constructs$macrocall$1",symbols:["expr_various_constructs$macrocall$1$subexpression$1","expr_various_constructs$macrocall$2","expr_various_constructs$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:E(e[0]),right:E(e[2]),...E(e[1])})},{name:"expr_various_constructs$macrocall$1",symbols:["expr_various_constructs$macrocall$4"],postprocess:E},{name:"expr_various_constructs",symbols:["expr_various_constructs$macrocall$1"]},{name:"expr_array_index$subexpression$1",symbols:["expr_array_index"]},{name:"expr_array_index$subexpression$1",symbols:["expr_paren"]},{name:"expr_array_index",symbols:["expr_array_index$subexpression$1",r.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket,"expr_nostar",r.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket],postprocess:e=>(0,n.track)(e,{type:"arrayIndex",array:E(e[0]),index:E(e[2])})},{name:"expr_array_index",symbols:["expr_member"],postprocess:E},{name:"expr_member$subexpression$1",symbols:["expr_member"]},{name:"expr_member$subexpression$1",symbols:["expr_paren"]},{name:"expr_member$subexpression$2",symbols:["string"]},{name:"expr_member$subexpression$2",symbols:["int"]},{name:"expr_member",symbols:["expr_member$subexpression$1","ops_member","expr_member$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"member",operand:E(e[0]),op:e[1],member:E(e[2])})},{name:"expr_member$subexpression$3",symbols:["expr_member"]},{name:"expr_member$subexpression$3",symbols:["expr_paren"]},{name:"expr_member",symbols:["expr_member$subexpression$3",r.lexerAny.has("op_cast")?{type:"op_cast"}:op_cast,"data_type"],postprocess:e=>(0,n.track)(e,{type:"cast",operand:E(e[0]),to:e[2]})},{name:"expr_member",symbols:[r.lexerAny.has("kw_cast")?{type:"kw_cast"}:kw_cast,"lparen","expr_nostar",r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"data_type","rparen"],postprocess:e=>(0,n.track)(e,{type:"cast",operand:E(e[2]),to:e[4]})},{name:"expr_member",symbols:["data_type","string"],postprocess:e=>(0,n.track)(e,{type:"cast",operand:(0,n.track)(e[1],{type:"string",value:(0,n.unbox)(e[1])}),to:(0,n.unbox)(e[0])})},{name:"expr_member",symbols:["expr_dot"],postprocess:E},{name:"expr_dot$subexpression$1",symbols:["word"]},{name:"expr_dot$subexpression$1",symbols:["star"]},{name:"expr_dot",symbols:["qname",r.lexerAny.has("dot")?{type:"dot"}:dot,"expr_dot$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"ref",table:E(e[0]),name:_(e[2])})},{name:"expr_dot",symbols:["expr_final"],postprocess:E},{name:"expr_final",symbols:["expr_basic"]},{name:"expr_final",symbols:["expr_primary"]},{name:"expr_basic",symbols:["expr_special_calls"]},{name:"expr_basic",symbols:["expr_call"]},{name:"expr_basic",symbols:["expr_array"]},{name:"expr_basic",symbols:["expr_case"]},{name:"expr_basic",symbols:["expr_extract"]},{name:"expr_basic",symbols:["word"],postprocess:e=>(0,n.track)(e,{type:"ref",name:E(e[0])})},{name:"expr_array$ebnf$1",symbols:["expr_subarray_items"],postprocess:a},{name:"expr_array$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_array",symbols:[r.lexerAny.has("kw_array")?{type:"kw_array"}:kw_array,r.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket,"expr_array$ebnf$1",r.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket],postprocess:e=>(0,n.track)(e,{type:"array",expressions:e[2]||[]})},{name:"expr_array",symbols:[r.lexerAny.has("kw_array")?{type:"kw_array"}:kw_array,"lparen","selection","rparen"],postprocess:e=>(0,n.track)(e,{type:"array select",select:E(e[2])})},{name:"expr_subarray$ebnf$1",symbols:["expr_subarray_items"],postprocess:a},{name:"expr_subarray$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_subarray",symbols:[r.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket,"expr_subarray$ebnf$1",r.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket],postprocess:c(1)},{name:"expr_subarray_items$macrocall$2",symbols:["expr_list_item"]},{name:"expr_subarray_items$macrocall$1$ebnf$1",symbols:[]},{name:"expr_subarray_items$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"expr_subarray_items$macrocall$2"],postprocess:T},{name:"expr_subarray_items$macrocall$1$ebnf$1",symbols:["expr_subarray_items$macrocall$1$ebnf$1","expr_subarray_items$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"expr_subarray_items$macrocall$1",symbols:["expr_subarray_items$macrocall$2","expr_subarray_items$macrocall$1$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"expr_subarray_items",symbols:["expr_subarray_items$macrocall$1"],postprocess:e=>e[0].map(E)},{name:"expr_subarray_items$macrocall$4",symbols:["expr_subarray"]},{name:"expr_subarray_items$macrocall$3$ebnf$1",symbols:[]},{name:"expr_subarray_items$macrocall$3$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"expr_subarray_items$macrocall$4"],postprocess:T},{name:"expr_subarray_items$macrocall$3$ebnf$1",symbols:["expr_subarray_items$macrocall$3$ebnf$1","expr_subarray_items$macrocall$3$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"expr_subarray_items$macrocall$3",symbols:["expr_subarray_items$macrocall$4","expr_subarray_items$macrocall$3$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"expr_subarray_items",symbols:["expr_subarray_items$macrocall$3"],postprocess:e=>e[0].map(e=>(0,n.track)(e,{type:"array",expressions:e[0].map(E)}))},{name:"expr_function_call$ebnf$1",symbols:["expr_list_raw"],postprocess:a},{name:"expr_function_call$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_function_call",symbols:["expr_fn_name","lparen","expr_function_call$ebnf$1","rparen"],postprocess:e=>(0,n.track)(e,{type:"call",function:E(e[0]),args:e[2]||[]})},{name:"expr_call$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all]},{name:"expr_call$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_distinct")?{type:"kw_distinct"}:kw_distinct]},{name:"expr_call$ebnf$1",symbols:["expr_call$ebnf$1$subexpression$1"],postprocess:a},{name:"expr_call$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_call$ebnf$2",symbols:["expr_list_raw"],postprocess:a},{name:"expr_call$ebnf$2",symbols:[],postprocess:()=>null},{name:"expr_call$ebnf$3",symbols:["select_order_by"],postprocess:a},{name:"expr_call$ebnf$3",symbols:[],postprocess:()=>null},{name:"expr_call$ebnf$4$subexpression$1",symbols:["kw_filter","lparen",r.lexerAny.has("kw_where")?{type:"kw_where"}:kw_where,"expr","rparen"],postprocess:c(3)},{name:"expr_call$ebnf$4",symbols:["expr_call$ebnf$4$subexpression$1"],postprocess:a},{name:"expr_call$ebnf$4",symbols:[],postprocess:()=>null},{name:"expr_call$ebnf$5",symbols:["expr_call_within_group"],postprocess:a},{name:"expr_call$ebnf$5",symbols:[],postprocess:()=>null},{name:"expr_call$ebnf$6",symbols:["expr_call_over"],postprocess:a},{name:"expr_call$ebnf$6",symbols:[],postprocess:()=>null},{name:"expr_call",symbols:["expr_fn_name","lparen","expr_call$ebnf$1","expr_call$ebnf$2","expr_call$ebnf$3","rparen","expr_call$ebnf$4","expr_call$ebnf$5","expr_call$ebnf$6"],postprocess:e=>(0,n.track)(e,{type:"call",function:E(e[0]),...e[2]&&{distinct:_(e[2])},args:e[3]||[],...e[4]&&{orderBy:e[4]},...e[6]&&{filter:E(e[6])},...e[7]&&{withinGroup:e[7]},...e[8]&&{over:E(e[8])}})},{name:"expr_call_over$ebnf$1$subexpression$1",symbols:["kw_partition","kw_by","expr_list_raw"],postprocess:T},{name:"expr_call_over$ebnf$1",symbols:["expr_call_over$ebnf$1$subexpression$1"],postprocess:a},{name:"expr_call_over$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_call_over$ebnf$2",symbols:["select_order_by"],postprocess:a},{name:"expr_call_over$ebnf$2",symbols:[],postprocess:()=>null},{name:"expr_call_over",symbols:["kw_over","lparen","expr_call_over$ebnf$1","expr_call_over$ebnf$2","rparen"],postprocess:e=>(0,n.track)(e,{...e[2]&&{partitionBy:e[2]},...e[3]&&{orderBy:e[3]}})},{name:"expr_call_within_group$subexpression$1",symbols:["kw_within",r.lexerAny.has("kw_group")?{type:"kw_group"}:kw_group]},{name:"expr_call_within_group$subexpression$2",symbols:[r.lexerAny.has("kw_order")?{type:"kw_order"}:kw_order,"kw_by"]},{name:"expr_call_within_group",symbols:["expr_call_within_group$subexpression$1","lparen","expr_call_within_group$subexpression$2","select_order_by_expr","rparen"],postprocess:e=>(0,n.track)(e,e[3])},{name:"expr_extract$subexpression$1",symbols:["word"],postprocess:d("extract")},{name:"expr_extract",symbols:["expr_extract$subexpression$1","lparen","word",r.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"expr","rparen"],postprocess:e=>(0,n.track)(e,{type:"extract",field:o(e[2]),from:e[4]})},{name:"expr_primary",symbols:["float"],postprocess:e=>(0,n.track)(e,{type:"numeric",value:(0,n.unbox)(e[0])})},{name:"expr_primary",symbols:["int"],postprocess:e=>(0,n.track)(e,{type:"integer",value:(0,n.unbox)(e[0])})},{name:"expr_primary",symbols:["string"],postprocess:e=>(0,n.track)(e,{type:"string",value:(0,n.unbox)(e[0])})},{name:"expr_primary",symbols:[r.lexerAny.has("kw_true")?{type:"kw_true"}:kw_true],postprocess:e=>(0,n.track)(e,{type:"boolean",value:!0})},{name:"expr_primary",symbols:[r.lexerAny.has("kw_false")?{type:"kw_false"}:kw_false],postprocess:e=>(0,n.track)(e,{type:"boolean",value:!1})},{name:"expr_primary",symbols:[r.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null],postprocess:e=>(0,n.track)(e,{type:"null"})},{name:"expr_primary",symbols:["value_keyword"],postprocess:e=>(0,n.track)(e,{type:"keyword",keyword:_(e)})},{name:"expr_primary",symbols:[r.lexerAny.has("qparam")?{type:"qparam"}:qparam],postprocess:e=>(0,n.track)(e,{type:"parameter",name:_(e[0])})},{name:"expr_primary",symbols:[r.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default],postprocess:e=>(0,n.track)(e,{type:"default"})},{name:"ops_like",symbols:["ops_like_keywors"]},{name:"ops_like",symbols:["ops_like_operators"]},{name:"ops_like_keywors$ebnf$1",symbols:[r.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:a},{name:"ops_like_keywors$ebnf$1",symbols:[],postprocess:()=>null},{name:"ops_like_keywors$subexpression$1",symbols:[r.lexerAny.has("kw_like")?{type:"kw_like"}:kw_like]},{name:"ops_like_keywors$subexpression$1",symbols:[r.lexerAny.has("kw_ilike")?{type:"kw_ilike"}:kw_ilike]},{name:"ops_like_keywors",symbols:["ops_like_keywors$ebnf$1","ops_like_keywors$subexpression$1"]},{name:"ops_like_operators$subexpression$1",symbols:[r.lexerAny.has("op_like")?{type:"op_like"}:op_like],postprocess:()=>"LIKE"},{name:"ops_like_operators",symbols:["ops_like_operators$subexpression$1"]},{name:"ops_like_operators$subexpression$2",symbols:[r.lexerAny.has("op_ilike")?{type:"op_ilike"}:op_ilike],postprocess:()=>"ILIKE"},{name:"ops_like_operators",symbols:["ops_like_operators$subexpression$2"]},{name:"ops_like_operators$subexpression$3",symbols:[r.lexerAny.has("op_not_like")?{type:"op_not_like"}:op_not_like],postprocess:()=>"NOT LIKE"},{name:"ops_like_operators",symbols:["ops_like_operators$subexpression$3"]},{name:"ops_like_operators$subexpression$4",symbols:[r.lexerAny.has("op_not_ilike")?{type:"op_not_ilike"}:op_not_ilike],postprocess:()=>"NOT ILIKE"},{name:"ops_like_operators",symbols:["ops_like_operators$subexpression$4"]},{name:"ops_in$ebnf$1",symbols:[r.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:a},{name:"ops_in$ebnf$1",symbols:[],postprocess:()=>null},{name:"ops_in",symbols:["ops_in$ebnf$1",r.lexerAny.has("kw_in")?{type:"kw_in"}:kw_in]},{name:"ops_between$ebnf$1",symbols:[r.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:a},{name:"ops_between$ebnf$1",symbols:[],postprocess:()=>null},{name:"ops_between",symbols:["ops_between$ebnf$1","kw_between"]},{name:"ops_member$subexpression$1",symbols:[r.lexerAny.has("op_member")?{type:"op_member"}:op_member]},{name:"ops_member$subexpression$1",symbols:[r.lexerAny.has("op_membertext")?{type:"op_membertext"}:op_membertext]},{name:"ops_member",symbols:["ops_member$subexpression$1"],postprocess:e=>{var t;return null===(t=E(e))||void 0===t?void 0:t.value}},{name:"expr_list_item",symbols:["expr_or_select"],postprocess:E},{name:"expr_list_item",symbols:["expr_star"],postprocess:E},{name:"expr_list_raw$macrocall$2",symbols:["expr_list_item"]},{name:"expr_list_raw$macrocall$1$ebnf$1",symbols:[]},{name:"expr_list_raw$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"expr_list_raw$macrocall$2"],postprocess:T},{name:"expr_list_raw$macrocall$1$ebnf$1",symbols:["expr_list_raw$macrocall$1$ebnf$1","expr_list_raw$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"expr_list_raw$macrocall$1",symbols:["expr_list_raw$macrocall$2","expr_list_raw$macrocall$1$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"expr_list_raw",symbols:["expr_list_raw$macrocall$1"],postprocess:([e])=>e.map(E)},{name:"expr_list_raw_many$macrocall$2",symbols:["expr_list_item"]},{name:"expr_list_raw_many$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"expr_list_raw_many$macrocall$2"],postprocess:T},{name:"expr_list_raw_many$macrocall$1$ebnf$1",symbols:["expr_list_raw_many$macrocall$1$ebnf$1$subexpression$1"]},{name:"expr_list_raw_many$macrocall$1$ebnf$1$subexpression$2",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"expr_list_raw_many$macrocall$2"],postprocess:T},{name:"expr_list_raw_many$macrocall$1$ebnf$1",symbols:["expr_list_raw_many$macrocall$1$ebnf$1","expr_list_raw_many$macrocall$1$ebnf$1$subexpression$2"],postprocess:e=>e[0].concat([e[1]])},{name:"expr_list_raw_many$macrocall$1",symbols:["expr_list_raw_many$macrocall$2","expr_list_raw_many$macrocall$1$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"expr_list_raw_many",symbols:["expr_list_raw_many$macrocall$1"],postprocess:([e])=>e.map(E)},{name:"expr_or_select",symbols:["expr_nostar"],postprocess:E},{name:"expr_or_select",symbols:["selection"],postprocess:E},{name:"expr_list_many",symbols:["expr_list_raw_many"],postprocess:e=>(0,n.track)(e,{type:"list",expressions:e[0]})},{name:"expr_case$ebnf$1",symbols:["expr_nostar"],postprocess:a},{name:"expr_case$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_case$ebnf$2",symbols:[]},{name:"expr_case$ebnf$2",symbols:["expr_case$ebnf$2","expr_case_whens"],postprocess:e=>e[0].concat([e[1]])},{name:"expr_case$ebnf$3",symbols:["expr_case_else"],postprocess:a},{name:"expr_case$ebnf$3",symbols:[],postprocess:()=>null},{name:"expr_case",symbols:[r.lexerAny.has("kw_case")?{type:"kw_case"}:kw_case,"expr_case$ebnf$1","expr_case$ebnf$2","expr_case$ebnf$3",r.lexerAny.has("kw_end")?{type:"kw_end"}:kw_end],postprocess:e=>(0,n.track)(e,{type:"case",value:e[1],whens:e[2],else:e[3]})},{name:"expr_case_whens",symbols:[r.lexerAny.has("kw_when")?{type:"kw_when"}:kw_when,"expr_nostar",r.lexerAny.has("kw_then")?{type:"kw_then"}:kw_then,"expr_nostar"],postprocess:e=>(0,n.track)(e,{when:e[1],value:e[3]})},{name:"expr_case_else",symbols:[r.lexerAny.has("kw_else")?{type:"kw_else"}:kw_else,"expr_nostar"],postprocess:T},{name:"expr_fn_name$subexpression$1$ebnf$1$subexpression$1",symbols:["word",r.lexerAny.has("dot")?{type:"dot"}:dot]},{name:"expr_fn_name$subexpression$1$ebnf$1",symbols:["expr_fn_name$subexpression$1$ebnf$1$subexpression$1"],postprocess:a},{name:"expr_fn_name$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_fn_name$subexpression$1",symbols:["expr_fn_name$subexpression$1$ebnf$1","word_or_keyword"],postprocess:e=>(0,n.track)(e,{name:(0,n.unbox)(E(e[1])),...e[0]&&{schema:_(e[0][0])}})},{name:"expr_fn_name",symbols:["expr_fn_name$subexpression$1"]},{name:"expr_fn_name$subexpression$2$subexpression$1",symbols:[r.lexerAny.has("kw_any")?{type:"kw_any"}:kw_any]},{name:"expr_fn_name$subexpression$2$subexpression$1",symbols:[r.lexerAny.has("kw_some")?{type:"kw_some"}:kw_some]},{name:"expr_fn_name$subexpression$2$subexpression$1",symbols:[r.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all]},{name:"expr_fn_name$subexpression$2$subexpression$1",symbols:[r.lexerAny.has("kw_left")?{type:"kw_left"}:kw_left]},{name:"expr_fn_name$subexpression$2$subexpression$1",symbols:[r.lexerAny.has("kw_right")?{type:"kw_right"}:kw_right]},{name:"expr_fn_name$subexpression$2",symbols:["expr_fn_name$subexpression$2$subexpression$1"],postprocess:e=>(0,n.track)(e,{name:_(E(e))})},{name:"expr_fn_name",symbols:["expr_fn_name$subexpression$2"]},{name:"word_or_keyword",symbols:["word"]},{name:"word_or_keyword",symbols:["value_keyword"],postprocess:e=>(0,n.box)(e,_(e))},{name:"value_keyword",symbols:[r.lexerAny.has("kw_current_catalog")?{type:"kw_current_catalog"}:kw_current_catalog]},{name:"value_keyword",symbols:[r.lexerAny.has("kw_current_date")?{type:"kw_current_date"}:kw_current_date]},{name:"value_keyword",symbols:[r.lexerAny.has("kw_current_role")?{type:"kw_current_role"}:kw_current_role]},{name:"value_keyword",symbols:[r.lexerAny.has("kw_current_schema")?{type:"kw_current_schema"}:kw_current_schema]},{name:"value_keyword",symbols:[r.lexerAny.has("kw_current_timestamp")?{type:"kw_current_timestamp"}:kw_current_timestamp]},{name:"value_keyword",symbols:[r.lexerAny.has("kw_current_time")?{type:"kw_current_time"}:kw_current_time]},{name:"value_keyword",symbols:[r.lexerAny.has("kw_localtimestamp")?{type:"kw_localtimestamp"}:kw_localtimestamp]},{name:"value_keyword",symbols:[r.lexerAny.has("kw_localtime")?{type:"kw_localtime"}:kw_localtime]},{name:"value_keyword",symbols:[r.lexerAny.has("kw_session_user")?{type:"kw_session_user"}:kw_session_user]},{name:"value_keyword",symbols:[r.lexerAny.has("kw_user")?{type:"kw_user"}:kw_user]},{name:"value_keyword",symbols:[r.lexerAny.has("kw_current_user")?{type:"kw_current_user"}:kw_current_user]},{name:"expr_special_calls",symbols:["spe_overlay"]},{name:"expr_special_calls",symbols:["spe_substring"]},{name:"spe_overlay$subexpression$1",symbols:["word"],postprocess:d("overlay")},{name:"spe_overlay$subexpression$2",symbols:[r.lexerAny.has("lparen")?{type:"lparen"}:lparen,"expr_nostar"]},{name:"spe_overlay$subexpression$3",symbols:[r.lexerAny.has("kw_placing")?{type:"kw_placing"}:kw_placing,"expr_nostar"]},{name:"spe_overlay$subexpression$4",symbols:[r.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"expr_nostar"]},{name:"spe_overlay$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_for")?{type:"kw_for"}:kw_for,"expr_nostar"]},{name:"spe_overlay$ebnf$1",symbols:["spe_overlay$ebnf$1$subexpression$1"],postprocess:a},{name:"spe_overlay$ebnf$1",symbols:[],postprocess:()=>null},{name:"spe_overlay",symbols:["spe_overlay$subexpression$1","spe_overlay$subexpression$2","spe_overlay$subexpression$3","spe_overlay$subexpression$4","spe_overlay$ebnf$1",r.lexerAny.has("rparen")?{type:"rparen"}:rparen],postprocess:e=>(0,n.track)(e,{type:"overlay",value:e[1][1],placing:e[2][1],from:e[3][1],...e[4]&&{for:e[4][1]}})},{name:"spe_substring$subexpression$1",symbols:["word"],postprocess:d("substring")},{name:"spe_substring$subexpression$2",symbols:[r.lexerAny.has("lparen")?{type:"lparen"}:lparen,"expr_nostar"]},{name:"spe_substring$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"expr_nostar"]},{name:"spe_substring$ebnf$1",symbols:["spe_substring$ebnf$1$subexpression$1"],postprocess:a},{name:"spe_substring$ebnf$1",symbols:[],postprocess:()=>null},{name:"spe_substring$ebnf$2$subexpression$1",symbols:[r.lexerAny.has("kw_for")?{type:"kw_for"}:kw_for,"expr_nostar"]},{name:"spe_substring$ebnf$2",symbols:["spe_substring$ebnf$2$subexpression$1"],postprocess:a},{name:"spe_substring$ebnf$2",symbols:[],postprocess:()=>null},{name:"spe_substring",symbols:["spe_substring$subexpression$1","spe_substring$subexpression$2","spe_substring$ebnf$1","spe_substring$ebnf$2",r.lexerAny.has("rparen")?{type:"rparen"}:rparen],postprocess:e=>(0,n.track)(e,{type:"substring",value:e[1][1],...e[2]&&{from:e[2][1]},...e[3]&&{for:e[3][1]}})},{name:"various_binaries",symbols:["kw_at","kw_time","kw_zone"],postprocess:()=>"AT TIME ZONE"},{name:"createtable_statement$ebnf$1",symbols:["createtable_modifiers"],postprocess:a},{name:"createtable_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"createtable_statement$ebnf$2",symbols:["kw_ifnotexists"],postprocess:a},{name:"createtable_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"createtable_statement$ebnf$3",symbols:["createtable_opts"],postprocess:a},{name:"createtable_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"createtable_statement",symbols:[r.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"createtable_statement$ebnf$1",r.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table,"createtable_statement$ebnf$2","qname","lparen","createtable_declarationlist","rparen","createtable_statement$ebnf$3"],postprocess:e=>{const t=e[6].filter(e=>"kind"in e),s=e[6].filter(e=>!("kind"in e));return(0,n.track)(e,{type:"create table",...e[3]?{ifNotExists:!0}:{},name:e[4],columns:t,...E(e[1]),...s.length?{constraints:s}:{},...T(e)})}},{name:"createtable_modifiers",symbols:["kw_unlogged"],postprocess:e=>e[0]?{unlogged:!0}:{}},{name:"createtable_modifiers",symbols:["m_locglob"]},{name:"createtable_modifiers",symbols:["m_tmp"]},{name:"createtable_modifiers",symbols:["m_locglob","m_tmp"],postprocess:([e,t])=>({...e,...t})},{name:"m_locglob$subexpression$1",symbols:["kw_local"]},{name:"m_locglob$subexpression$1",symbols:["kw_global"]},{name:"m_locglob",symbols:["m_locglob$subexpression$1"],postprocess:e=>({locality:_(e)})},{name:"m_tmp$subexpression$1",symbols:["kw_temp"]},{name:"m_tmp$subexpression$1",symbols:["kw_temporary"]},{name:"m_tmp",symbols:["m_tmp$subexpression$1"],postprocess:e=>({temporary:!0})},{name:"createtable_declarationlist$ebnf$1",symbols:[]},{name:"createtable_declarationlist$ebnf$1$subexpression$1",symbols:["comma","createtable_declaration"],postprocess:T},{name:"createtable_declarationlist$ebnf$1",symbols:["createtable_declarationlist$ebnf$1","createtable_declarationlist$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_declarationlist",symbols:["createtable_declaration","createtable_declarationlist$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"createtable_declaration$subexpression$1",symbols:["createtable_constraint"]},{name:"createtable_declaration$subexpression$1",symbols:["createtable_column"]},{name:"createtable_declaration$subexpression$1",symbols:["createtable_like"]},{name:"createtable_declaration",symbols:["createtable_declaration$subexpression$1"],postprocess:E},{name:"createtable_constraint$macrocall$2",symbols:["createtable_constraint_def"]},{name:"createtable_constraint$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint,"word"]},{name:"createtable_constraint$macrocall$1$ebnf$1",symbols:["createtable_constraint$macrocall$1$ebnf$1$subexpression$1"],postprocess:a},{name:"createtable_constraint$macrocall$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"createtable_constraint$macrocall$1",symbols:["createtable_constraint$macrocall$1$ebnf$1","createtable_constraint$macrocall$2"],postprocess:e=>{const t=e[0]&&o(e[0][1]);return t?(0,n.track)(e,{constraintName:t,...E(e[1])}):(0,n.track)(e,E(e[1]))}},{name:"createtable_constraint",symbols:["createtable_constraint$macrocall$1"],postprocess:E},{name:"createtable_constraint_def",symbols:["createtable_constraint_def_unique"]},{name:"createtable_constraint_def",symbols:["createtable_constraint_def_check"]},{name:"createtable_constraint_def",symbols:["createtable_constraint_foreignkey"]},{name:"createtable_constraint_def_unique$subexpression$1",symbols:[r.lexerAny.has("kw_unique")?{type:"kw_unique"}:kw_unique]},{name:"createtable_constraint_def_unique$subexpression$1",symbols:["kw_primary_key"]},{name:"createtable_constraint_def_unique",symbols:["createtable_constraint_def_unique$subexpression$1","lparen","createtable_collist","rparen"],postprocess:e=>(0,n.track)(e,{type:_(e[0]," "),columns:e[2].map(o)})},{name:"createtable_constraint_def_check",symbols:[r.lexerAny.has("kw_check")?{type:"kw_check"}:kw_check,"expr_paren"],postprocess:e=>(0,n.track)(e,{type:"check",expr:E(e[1])})},{name:"createtable_constraint_foreignkey",symbols:[r.lexerAny.has("kw_foreign")?{type:"kw_foreign"}:kw_foreign,"kw_key","collist_paren","createtable_references"],postprocess:e=>(0,n.track)(e,{type:"foreign key",localColumns:e[2].map(o),...e[3]})},{name:"createtable_references$ebnf$1",symbols:[]},{name:"createtable_references$ebnf$1",symbols:["createtable_references$ebnf$1","createtable_constraint_foreignkey_onsometing"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_references",symbols:[r.lexerAny.has("kw_references")?{type:"kw_references"}:kw_references,"table_ref","collist_paren","createtable_references$ebnf$1"],postprocess:e=>(0,n.track)(e,{foreignTable:E(e[1]),foreignColumns:e[2].map(o),...e[3].reduce((e,t)=>({...e,...t}),{})})},{name:"createtable_constraint_foreignkey_onsometing",symbols:[r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"kw_delete","createtable_constraint_on_action"],postprocess:e=>(0,n.track)(e,{onDelete:T(e)})},{name:"createtable_constraint_foreignkey_onsometing",symbols:[r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"kw_update","createtable_constraint_on_action"],postprocess:e=>(0,n.track)(e,{onUpdate:T(e)})},{name:"createtable_constraint_foreignkey_onsometing$subexpression$1",symbols:[r.lexerAny.has("kw_full")?{type:"kw_full"}:kw_full]},{name:"createtable_constraint_foreignkey_onsometing$subexpression$1",symbols:["kw_partial"]},{name:"createtable_constraint_foreignkey_onsometing$subexpression$1",symbols:["kw_simple"]},{name:"createtable_constraint_foreignkey_onsometing",symbols:["kw_match","createtable_constraint_foreignkey_onsometing$subexpression$1"],postprocess:e=>(0,n.track)(e,{match:_(T(e))})},{name:"createtable_constraint_on_action$subexpression$1",symbols:["kw_cascade"]},{name:"createtable_constraint_on_action$subexpression$1$subexpression$1",symbols:["kw_no","kw_action"]},{name:"createtable_constraint_on_action$subexpression$1",symbols:["createtable_constraint_on_action$subexpression$1$subexpression$1"]},{name:"createtable_constraint_on_action$subexpression$1",symbols:["kw_restrict"]},{name:"createtable_constraint_on_action$subexpression$1$subexpression$2",symbols:[r.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null]},{name:"createtable_constraint_on_action$subexpression$1$subexpression$2",symbols:[r.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default]},{name:"createtable_constraint_on_action$subexpression$1",symbols:["kw_set","createtable_constraint_on_action$subexpression$1$subexpression$2"]},{name:"createtable_constraint_on_action",symbols:["createtable_constraint_on_action$subexpression$1"],postprocess:e=>_(e," ")},{name:"createtable_collist$ebnf$1",symbols:[]},{name:"createtable_collist$ebnf$1$subexpression$1",symbols:["comma","ident"],postprocess:T},{name:"createtable_collist$ebnf$1",symbols:["createtable_collist$ebnf$1","createtable_collist$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_collist",symbols:["ident","createtable_collist$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"createtable_column$ebnf$1",symbols:["createtable_collate"],postprocess:a},{name:"createtable_column$ebnf$1",symbols:[],postprocess:()=>null},{name:"createtable_column$ebnf$2",symbols:[]},{name:"createtable_column$ebnf$2",symbols:["createtable_column$ebnf$2","createtable_column_constraint"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_column",symbols:["word","data_type","createtable_column$ebnf$1","createtable_column$ebnf$2"],postprocess:e=>(0,n.track)(e,{kind:"column",name:o(e[0]),dataType:e[1],...e[2]?{collate:e[2][1]}:{},...e[3]&&e[3].length?{constraints:e[3]}:{}})},{name:"createtable_like$ebnf$1",symbols:[]},{name:"createtable_like$ebnf$1",symbols:["createtable_like$ebnf$1","createtable_like_opt"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_like",symbols:[r.lexerAny.has("kw_like")?{type:"kw_like"}:kw_like,"qname","createtable_like$ebnf$1"],postprocess:e=>(0,n.track)(e,{kind:"like table",like:e[1],options:e[2]})},{name:"createtable_like_opt$subexpression$1",symbols:["kw_including"]},{name:"createtable_like_opt$subexpression$1",symbols:["kw_excluding"]},{name:"createtable_like_opt",symbols:["createtable_like_opt$subexpression$1","createtable_like_opt_val"],postprocess:e=>(0,n.track)(e,{verb:_(e[0]),option:_(e[1])})},{name:"createtable_like_opt_val",symbols:["word"],postprocess:O("defaults","constraints","indexes","storage","comments")},{name:"createtable_like_opt_val",symbols:[r.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all]},{name:"createtable_column_constraint$macrocall$2",symbols:["createtable_column_constraint_def"]},{name:"createtable_column_constraint$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint,"word"]},{name:"createtable_column_constraint$macrocall$1$ebnf$1",symbols:["createtable_column_constraint$macrocall$1$ebnf$1$subexpression$1"],postprocess:a},{name:"createtable_column_constraint$macrocall$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"createtable_column_constraint$macrocall$1",symbols:["createtable_column_constraint$macrocall$1$ebnf$1","createtable_column_constraint$macrocall$2"],postprocess:e=>{const t=e[0]&&o(e[0][1]);return t?(0,n.track)(e,{constraintName:t,...E(e[1])}):(0,n.track)(e,E(e[1]))}},{name:"createtable_column_constraint",symbols:["createtable_column_constraint$macrocall$1"],postprocess:E},{name:"createtable_column_constraint_def",symbols:[r.lexerAny.has("kw_unique")?{type:"kw_unique"}:kw_unique],postprocess:e=>(0,n.track)(e,{type:"unique"})},{name:"createtable_column_constraint_def",symbols:["kw_primary_key"],postprocess:e=>(0,n.track)(e,{type:"primary key"})},{name:"createtable_column_constraint_def",symbols:["kw_not_null"],postprocess:e=>(0,n.track)(e,{type:"not null"})},{name:"createtable_column_constraint_def",symbols:[r.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null],postprocess:e=>(0,n.track)(e,{type:"null"})},{name:"createtable_column_constraint_def",symbols:[r.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default,"expr"],postprocess:e=>(0,n.track)(e,{type:"default",default:E(e[1])})},{name:"createtable_column_constraint_def",symbols:[r.lexerAny.has("kw_check")?{type:"kw_check"}:kw_check,"expr_paren"],postprocess:e=>(0,n.track)(e,{type:"check",expr:E(e[1])})},{name:"createtable_column_constraint_def",symbols:["createtable_references"],postprocess:e=>(0,n.track)(e,{type:"reference",...E(e)})},{name:"createtable_column_constraint_def",symbols:["altercol_generated"]},{name:"createtable_collate",symbols:[r.lexerAny.has("kw_collate")?{type:"kw_collate"}:kw_collate,"qualified_name"]},{name:"createtable_opts$subexpression$1",symbols:["word"],postprocess:d("inherits")},{name:"createtable_opts$macrocall$2",symbols:["qname"]},{name:"createtable_opts$macrocall$1$ebnf$1",symbols:[]},{name:"createtable_opts$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"createtable_opts$macrocall$2"],postprocess:T},{name:"createtable_opts$macrocall$1$ebnf$1",symbols:["createtable_opts$macrocall$1$ebnf$1","createtable_opts$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_opts$macrocall$1",symbols:["createtable_opts$macrocall$2","createtable_opts$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"createtable_opts",symbols:["createtable_opts$subexpression$1","lparen","createtable_opts$macrocall$1","rparen"],postprocess:e=>(0,n.track)(e,{inherits:e[2]})},{name:"createindex_statement$ebnf$1",symbols:[r.lexerAny.has("kw_unique")?{type:"kw_unique"}:kw_unique],postprocess:a},{name:"createindex_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$2",symbols:[r.lexerAny.has("kw_concurrently")?{type:"kw_concurrently"}:kw_concurrently],postprocess:a},{name:"createindex_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$3",symbols:["kw_ifnotexists"],postprocess:a},{name:"createindex_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$4",symbols:["word"],postprocess:a},{name:"createindex_statement$ebnf$4",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$5$subexpression$1",symbols:[r.lexerAny.has("kw_using")?{type:"kw_using"}:kw_using,"ident"],postprocess:T},{name:"createindex_statement$ebnf$5",symbols:["createindex_statement$ebnf$5$subexpression$1"],postprocess:a},{name:"createindex_statement$ebnf$5",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$6",symbols:["createindex_with"],postprocess:a},{name:"createindex_statement$ebnf$6",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$7",symbols:["createindex_tblspace"],postprocess:a},{name:"createindex_statement$ebnf$7",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$8",symbols:["createindex_predicate"],postprocess:a},{name:"createindex_statement$ebnf$8",symbols:[],postprocess:()=>null},{name:"createindex_statement",symbols:[r.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"createindex_statement$ebnf$1","kw_index","createindex_statement$ebnf$2","createindex_statement$ebnf$3","createindex_statement$ebnf$4",r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"table_ref","createindex_statement$ebnf$5","lparen","createindex_expressions","rparen","createindex_statement$ebnf$6","createindex_statement$ebnf$7","createindex_statement$ebnf$8"],postprocess:e=>(0,n.track)(e,{type:"create index",...e[1]&&{unique:!0},...e[3]&&{concurrently:!0},...e[4]&&{ifNotExists:!0},...e[5]&&{indexName:o(e[5])},table:e[7],...e[8]&&{using:o(e[8])},expressions:e[10],...e[12]&&{with:e[12]},...e[13]&&{tablespace:E(e[13])},...e[14]&&{where:E(e[14])}})},{name:"createindex_expressions$ebnf$1",symbols:[]},{name:"createindex_expressions$ebnf$1$subexpression$1",symbols:["comma","createindex_expression"],postprocess:T},{name:"createindex_expressions$ebnf$1",symbols:["createindex_expressions$ebnf$1","createindex_expressions$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createindex_expressions",symbols:["createindex_expression","createindex_expressions$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"createindex_expression$subexpression$1",symbols:["expr_basic"]},{name:"createindex_expression$subexpression$1",symbols:["expr_paren"]},{name:"createindex_expression$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_collate")?{type:"kw_collate"}:kw_collate,"qualified_name"],postprocess:T},{name:"createindex_expression$ebnf$1",symbols:["createindex_expression$ebnf$1$subexpression$1"],postprocess:a},{name:"createindex_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"createindex_expression$ebnf$2",symbols:["qualified_name"],postprocess:a},{name:"createindex_expression$ebnf$2",symbols:[],postprocess:()=>null},{name:"createindex_expression$ebnf$3$subexpression$1",symbols:[r.lexerAny.has("kw_asc")?{type:"kw_asc"}:kw_asc]},{name:"createindex_expression$ebnf$3$subexpression$1",symbols:[r.lexerAny.has("kw_desc")?{type:"kw_desc"}:kw_desc]},{name:"createindex_expression$ebnf$3",symbols:["createindex_expression$ebnf$3$subexpression$1"],postprocess:a},{name:"createindex_expression$ebnf$3",symbols:[],postprocess:()=>null},{name:"createindex_expression$ebnf$4$subexpression$1$subexpression$1",symbols:["kw_first"]},{name:"createindex_expression$ebnf$4$subexpression$1$subexpression$1",symbols:["kw_last"]},{name:"createindex_expression$ebnf$4$subexpression$1",symbols:["kw_nulls","createindex_expression$ebnf$4$subexpression$1$subexpression$1"],postprocess:T},{name:"createindex_expression$ebnf$4",symbols:["createindex_expression$ebnf$4$subexpression$1"],postprocess:a},{name:"createindex_expression$ebnf$4",symbols:[],postprocess:()=>null},{name:"createindex_expression",symbols:["createindex_expression$subexpression$1","createindex_expression$ebnf$1","createindex_expression$ebnf$2","createindex_expression$ebnf$3","createindex_expression$ebnf$4"],postprocess:e=>(0,n.track)(e,{expression:E(e[0]),...e[1]&&{collate:E(e[1])},...e[2]&&{opclass:E(e[2])},...e[3]&&{order:E(e[3]).value},...e[4]&&{nulls:E(e[4])}})},{name:"createindex_predicate",symbols:[r.lexerAny.has("kw_where")?{type:"kw_where"}:kw_where,"expr"],postprocess:T},{name:"createindex_with$macrocall$2",symbols:["createindex_with_item"]},{name:"createindex_with$macrocall$1$ebnf$1",symbols:[]},{name:"createindex_with$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"createindex_with$macrocall$2"],postprocess:T},{name:"createindex_with$macrocall$1$ebnf$1",symbols:["createindex_with$macrocall$1$ebnf$1","createindex_with$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createindex_with$macrocall$1",symbols:["createindex_with$macrocall$2","createindex_with$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"createindex_with",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"lparen","createindex_with$macrocall$1","rparen"],postprocess:c(2)},{name:"createindex_with_item$subexpression$1",symbols:["string"]},{name:"createindex_with_item$subexpression$1",symbols:["int"]},{name:"createindex_with_item",symbols:["ident",r.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"createindex_with_item$subexpression$1"],postprocess:e=>(0,n.track)(e,{parameter:_(e[0]),value:E(e[2]).toString()})},{name:"createindex_tblspace",symbols:["kw_tablespace","ident"],postprocess:T},{name:"createextension_statement$ebnf$1",symbols:["kw_ifnotexists"],postprocess:a},{name:"createextension_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"createextension_statement$ebnf$2",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with],postprocess:a},{name:"createextension_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"createextension_statement$ebnf$3$subexpression$1",symbols:["kw_schema","word"],postprocess:T},{name:"createextension_statement$ebnf$3",symbols:["createextension_statement$ebnf$3$subexpression$1"],postprocess:a},{name:"createextension_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"createextension_statement$ebnf$4$subexpression$1",symbols:["kw_version","string"],postprocess:T},{name:"createextension_statement$ebnf$4",symbols:["createextension_statement$ebnf$4$subexpression$1"],postprocess:a},{name:"createextension_statement$ebnf$4",symbols:[],postprocess:()=>null},{name:"createextension_statement$ebnf$5$subexpression$1",symbols:[r.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"string"],postprocess:T},{name:"createextension_statement$ebnf$5",symbols:["createextension_statement$ebnf$5$subexpression$1"],postprocess:a},{name:"createextension_statement$ebnf$5",symbols:[],postprocess:()=>null},{name:"createextension_statement",symbols:[r.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"kw_extension","createextension_statement$ebnf$1","word","createextension_statement$ebnf$2","createextension_statement$ebnf$3","createextension_statement$ebnf$4","createextension_statement$ebnf$5"],postprocess:e=>(0,n.track)(e,{type:"create extension",...e[2]?{ifNotExists:!0}:{},extension:o(e[3]),...e[5]?{schema:o(e[5])}:{},...e[6]?{version:i(e[6])}:{},...e[7]?{from:i(e[7])}:{}})},{name:"simplestatements_all",symbols:["simplestatements_start_transaction"]},{name:"simplestatements_all",symbols:["simplestatements_commit"]},{name:"simplestatements_all",symbols:["simplestatements_rollback"]},{name:"simplestatements_all",symbols:["simplestatements_tablespace"]},{name:"simplestatements_all",symbols:["simplestatements_set"]},{name:"simplestatements_all",symbols:["simplestatements_show"]},{name:"simplestatements_all",symbols:["simplestatements_begin"]},{name:"simplestatements_start_transaction$subexpression$1",symbols:["kw_start","kw_transaction"]},{name:"simplestatements_start_transaction",symbols:["simplestatements_start_transaction$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"start transaction"})},{name:"simplestatements_commit",symbols:["kw_commit"],postprocess:e=>(0,n.track)(e,{type:"commit"})},{name:"simplestatements_rollback",symbols:["kw_rollback"],postprocess:e=>(0,n.track)(e,{type:"rollback"})},{name:"simplestatements_tablespace",symbols:["kw_tablespace","word"],postprocess:e=>(0,n.track)(e,{type:"tablespace",tablespace:o(e[1])})},{name:"simplestatements_set$subexpression$1",symbols:["simplestatements_set_simple"]},{name:"simplestatements_set$subexpression$1",symbols:["simplestatements_set_timezone"]},{name:"simplestatements_set$subexpression$1",symbols:["simplestatements_set_names"]},{name:"simplestatements_set",symbols:["kw_set","simplestatements_set$subexpression$1"],postprocess:T},{name:"simplestatements_set_timezone",symbols:["kw_time","kw_zone","simplestatements_set_timezone_val"],postprocess:e=>(0,n.track)(e,{type:"set timezone",to:e[2]})},{name:"simplestatements_set_timezone_val$subexpression$1",symbols:["string"]},{name:"simplestatements_set_timezone_val$subexpression$1",symbols:["int"]},{name:"simplestatements_set_timezone_val",symbols:["simplestatements_set_timezone_val$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"value",value:E(e[0])})},{name:"simplestatements_set_timezone_val",symbols:["kw_local"],postprocess:e=>(0,n.track)(e,{type:"local"})},{name:"simplestatements_set_timezone_val",symbols:[r.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default],postprocess:e=>(0,n.track)(e,{type:"default"})},{name:"simplestatements_set_timezone_val",symbols:["kw_interval","string","kw_hour",r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"kw_minute"],postprocess:e=>(0,n.track)(e,{type:"interval",value:(0,n.unbox)(e[1])})},{name:"simplestatements_set_names",symbols:["kw_names","simplestatements_set_names_val"],postprocess:e=>(0,n.track)(e,{type:"set names",to:e[1]})},{name:"simplestatements_set_names_val$subexpression$1",symbols:["string"]},{name:"simplestatements_set_names_val",symbols:["simplestatements_set_names_val$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"value",value:E(e[0])})},{name:"simplestatements_set_simple$ebnf$1$subexpression$1",symbols:["kw_local"]},{name:"simplestatements_set_simple$ebnf$1$subexpression$1",symbols:["kw_session"]},{name:"simplestatements_set_simple$ebnf$1",symbols:["simplestatements_set_simple$ebnf$1$subexpression$1"],postprocess:a},{name:"simplestatements_set_simple$ebnf$1",symbols:[],postprocess:()=>null},{name:"simplestatements_set_simple$subexpression$1",symbols:[r.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq]},{name:"simplestatements_set_simple$subexpression$1",symbols:[r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to]},{name:"simplestatements_set_simple",symbols:["simplestatements_set_simple$ebnf$1","ident","simplestatements_set_simple$subexpression$1","simplestatements_set_val"],postprocess:e=>{var t;return(0,n.track)(e,{type:"set",variable:o(e[1]),scope:null===(t=E(e[0]))||void 0===t?void 0:t.toLowerCase(),set:(0,n.unbox)(e[3])})}},{name:"simplestatements_set_val",symbols:["simplestatements_set_val_raw"],postprocess:E},{name:"simplestatements_set_val",symbols:[r.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default],postprocess:e=>(0,n.track)(e,{type:"default"})},{name:"simplestatements_set_val$ebnf$1$subexpression$1",symbols:["comma","simplestatements_set_val_raw"]},{name:"simplestatements_set_val$ebnf$1",symbols:["simplestatements_set_val$ebnf$1$subexpression$1"]},{name:"simplestatements_set_val$ebnf$1$subexpression$2",symbols:["comma","simplestatements_set_val_raw"]},{name:"simplestatements_set_val$ebnf$1",symbols:["simplestatements_set_val$ebnf$1","simplestatements_set_val$ebnf$1$subexpression$2"],postprocess:e=>e[0].concat([e[1]])},{name:"simplestatements_set_val",symbols:["simplestatements_set_val_raw","simplestatements_set_val$ebnf$1"],postprocess:e=>(0,n.track)(e,{type:"list",values:[e[0],...e[1]||[]]})},{name:"simplestatements_set_val_raw$subexpression$1",symbols:["string"]},{name:"simplestatements_set_val_raw$subexpression$1",symbols:["int"]},{name:"simplestatements_set_val_raw",symbols:["simplestatements_set_val_raw$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"value",value:E(e)})},{name:"simplestatements_set_val_raw$subexpression$2",symbols:[r.lexerAny.has("word")?{type:"word"}:word]},{name:"simplestatements_set_val_raw$subexpression$2",symbols:[r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on]},{name:"simplestatements_set_val_raw$subexpression$2",symbols:[r.lexerAny.has("kw_true")?{type:"kw_true"}:kw_true]},{name:"simplestatements_set_val_raw$subexpression$2",symbols:[r.lexerAny.has("kw_false")?{type:"kw_false"}:kw_false]},{name:"simplestatements_set_val_raw",symbols:["simplestatements_set_val_raw$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"identifier",name:E(e).value})},{name:"simplestatements_set_val_raw",symbols:[r.lexerAny.has("quoted_word")?{type:"quoted_word"}:quoted_word],postprocess:e=>(0,n.track)(e,{type:"identifier",doubleQuoted:!0,name:E(e).value})},{name:"simplestatements_show",symbols:["kw_show","ident"],postprocess:e=>(0,n.track)(e,{type:"show",variable:o(e[1])})},{name:"create_schema$subexpression$1",symbols:[r.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"kw_schema"]},{name:"create_schema$ebnf$1",symbols:["kw_ifnotexists"],postprocess:a},{name:"create_schema$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_schema",symbols:["create_schema$subexpression$1","create_schema$ebnf$1","ident"],postprocess:e=>(0,n.track)(e,{type:"create schema",name:o(e[2]),...e[1]?{ifNotExists:!0}:{}})},{name:"raise_statement$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:O("debug","log","info","notice","warning","exception")},{name:"raise_statement$ebnf$1",symbols:["raise_statement$ebnf$1$subexpression$1"],postprocess:a},{name:"raise_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"raise_statement$ebnf$2$subexpression$1",symbols:["comma","expr_list_raw"],postprocess:T},{name:"raise_statement$ebnf$2",symbols:["raise_statement$ebnf$2$subexpression$1"],postprocess:a},{name:"raise_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"raise_statement$ebnf$3",symbols:["raise_using"],postprocess:a},{name:"raise_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"raise_statement",symbols:["kw_raise","raise_statement$ebnf$1","string","raise_statement$ebnf$2","raise_statement$ebnf$3"],postprocess:e=>(0,n.track)(e,{type:"raise",format:_(e[2]),...e[1]&&{level:_(e[1])},...e[3]&&e[3].length&&{formatExprs:e[3]},...e[4]&&e[4].length&&{using:e[4]}})},{name:"raise_using$macrocall$2",symbols:["raise_using_one"]},{name:"raise_using$macrocall$1$ebnf$1",symbols:[]},{name:"raise_using$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"raise_using$macrocall$2"],postprocess:T},{name:"raise_using$macrocall$1$ebnf$1",symbols:["raise_using$macrocall$1$ebnf$1","raise_using$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"raise_using$macrocall$1",symbols:["raise_using$macrocall$2","raise_using$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"raise_using",symbols:[r.lexerAny.has("kw_using")?{type:"kw_using"}:kw_using,"raise_using$macrocall$1"],postprocess:T},{name:"raise_using_one",symbols:["raise_using_what",r.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"expr"],postprocess:e=>(0,n.track)(e,{type:_(e[0]),value:e[2]})},{name:"raise_using_what",symbols:[r.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table]},{name:"raise_using_what",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:O("message","detail","hint","errcode","column","constraint","datatype","schema")},{name:"comment_statement",symbols:["kw_comment",r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"comment_what",r.lexerAny.has("kw_is")?{type:"kw_is"}:kw_is,"string"],postprocess:e=>(0,n.track)(e,{type:"comment",comment:(0,n.unbox)(T(e)),on:E(e[2])})},{name:"comment_what",symbols:["comment_what_col"]},{name:"comment_what",symbols:["comment_what_nm"]},{name:"comment_what_nm$subexpression$1",symbols:[r.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table]},{name:"comment_what_nm$subexpression$1",symbols:["kw_materialized","kw_view"]},{name:"comment_what_nm$subexpression$1",symbols:[r.lexerAny.has("word")?{type:"word"}:word],postprocess:O("database","index","trigger","type","view")},{name:"comment_what_nm",symbols:["comment_what_nm$subexpression$1","qualified_name"],postprocess:e=>(0,n.track)(e,{type:_(e[0]),name:e[1]})},{name:"comment_what_col",symbols:["kw_column","qcolumn"],postprocess:e=>(0,n.track)(e,{type:"column",column:T(e)})},{name:"simplestatements_begin$ebnf$1$subexpression$1",symbols:["kw_transaction"]},{name:"simplestatements_begin$ebnf$1$subexpression$1",symbols:["kw_work"]},{name:"simplestatements_begin$ebnf$1",symbols:["simplestatements_begin$ebnf$1$subexpression$1"],postprocess:a},{name:"simplestatements_begin$ebnf$1",symbols:[],postprocess:()=>null},{name:"simplestatements_begin$ebnf$2",symbols:[]},{name:"simplestatements_begin$ebnf$2$subexpression$1",symbols:["simplestatements_begin_isol"]},{name:"simplestatements_begin$ebnf$2$subexpression$1",symbols:["simplestatements_begin_writ"]},{name:"simplestatements_begin$ebnf$2$subexpression$1",symbols:["simplestatements_begin_def"]},{name:"simplestatements_begin$ebnf$2",symbols:["simplestatements_begin$ebnf$2","simplestatements_begin$ebnf$2$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"simplestatements_begin",symbols:["kw_begin","simplestatements_begin$ebnf$1","simplestatements_begin$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"begin",...e[2].reduce((e,t)=>({...E(e),...E(t)}),{})})},{name:"simplestatements_begin_isol$subexpression$1",symbols:["kw_isolation","kw_level"]},{name:"simplestatements_begin_isol$subexpression$2",symbols:["kw_serializable"]},{name:"simplestatements_begin_isol$subexpression$2$subexpression$1",symbols:["word"],postprocess:d("repeatable")},{name:"simplestatements_begin_isol$subexpression$2",symbols:["simplestatements_begin_isol$subexpression$2$subexpression$1","kw_read"]},{name:"simplestatements_begin_isol$subexpression$2$subexpression$2",symbols:["word"],postprocess:d("committed")},{name:"simplestatements_begin_isol$subexpression$2",symbols:["kw_read","simplestatements_begin_isol$subexpression$2$subexpression$2"]},{name:"simplestatements_begin_isol$subexpression$2$subexpression$3",symbols:["word"],postprocess:d("uncommitted")},{name:"simplestatements_begin_isol$subexpression$2",symbols:["kw_read","simplestatements_begin_isol$subexpression$2$subexpression$3"]},{name:"simplestatements_begin_isol",symbols:["simplestatements_begin_isol$subexpression$1","simplestatements_begin_isol$subexpression$2"],postprocess:e=>(0,n.track)(e,{isolationLevel:_(e[1]," ")})},{name:"simplestatements_begin_writ$subexpression$1",symbols:["kw_read","kw_write"]},{name:"simplestatements_begin_writ$subexpression$1",symbols:["kw_read",r.lexerAny.has("kw_only")?{type:"kw_only"}:kw_only]},{name:"simplestatements_begin_writ",symbols:["simplestatements_begin_writ$subexpression$1"],postprocess:e=>(0,n.track)(e,{writeable:_(e," ")})},{name:"simplestatements_begin_def$ebnf$1",symbols:[r.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:a},{name:"simplestatements_begin_def$ebnf$1",symbols:[],postprocess:()=>null},{name:"simplestatements_begin_def",symbols:["simplestatements_begin_def$ebnf$1",r.lexerAny.has("kw_deferrable")?{type:"kw_deferrable"}:kw_deferrable],postprocess:e=>(0,n.track)(e,{deferrable:!e[0]})},{name:"insert_statement$subexpression$1",symbols:["kw_insert",r.lexerAny.has("kw_into")?{type:"kw_into"}:kw_into]},{name:"insert_statement$ebnf$1",symbols:["collist_paren"],postprocess:a},{name:"insert_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"insert_statement$ebnf$2$subexpression$1$subexpression$1",symbols:["kw_system"]},{name:"insert_statement$ebnf$2$subexpression$1$subexpression$1",symbols:[r.lexerAny.has("kw_user")?{type:"kw_user"}:kw_user]},{name:"insert_statement$ebnf$2$subexpression$1",symbols:["kw_overriding","insert_statement$ebnf$2$subexpression$1$subexpression$1","kw_value"],postprocess:c(1)},{name:"insert_statement$ebnf$2",symbols:["insert_statement$ebnf$2$subexpression$1"],postprocess:a},{name:"insert_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"insert_statement$ebnf$3$subexpression$1",symbols:["selection"]},{name:"insert_statement$ebnf$3$subexpression$1",symbols:["selection_paren"]},{name:"insert_statement$ebnf$3",symbols:["insert_statement$ebnf$3$subexpression$1"],postprocess:a},{name:"insert_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"insert_statement$ebnf$4$subexpression$1",symbols:[r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"kw_conflict","insert_on_conflict"],postprocess:T},{name:"insert_statement$ebnf$4",symbols:["insert_statement$ebnf$4$subexpression$1"],postprocess:a},{name:"insert_statement$ebnf$4",symbols:[],postprocess:()=>null},{name:"insert_statement$ebnf$5$subexpression$1",symbols:[r.lexerAny.has("kw_returning")?{type:"kw_returning"}:kw_returning,"select_expr_list_aliased"],postprocess:T},{name:"insert_statement$ebnf$5",symbols:["insert_statement$ebnf$5$subexpression$1"],postprocess:a},{name:"insert_statement$ebnf$5",symbols:[],postprocess:()=>null},{name:"insert_statement",symbols:["insert_statement$subexpression$1","table_ref_aliased","insert_statement$ebnf$1","insert_statement$ebnf$2","insert_statement$ebnf$3","insert_statement$ebnf$4","insert_statement$ebnf$5"],postprocess:e=>{const t=e[2]&&e[2].map(o),s=_(e[3]),a=E(e[4]),r=e[5],l=e[6];return(0,n.track)(e,{type:"insert",into:E(e[1]),insert:a,...s&&{overriding:s},...t&&{columns:t},...l&&{returning:l},...r&&{onConflict:r}})}},{name:"insert_values$ebnf$1",symbols:[]},{name:"insert_values$ebnf$1$subexpression$1",symbols:["comma","insert_value"],postprocess:T},{name:"insert_values$ebnf$1",symbols:["insert_values$ebnf$1","insert_values$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"insert_values",symbols:["insert_value","insert_values$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"insert_value",symbols:["lparen","insert_expr_list_raw","rparen"],postprocess:c(1)},{name:"insert_expr_list_raw$ebnf$1",symbols:[]},{name:"insert_expr_list_raw$ebnf$1$subexpression$1",symbols:["comma","expr_or_select"],postprocess:T},{name:"insert_expr_list_raw$ebnf$1",symbols:["insert_expr_list_raw$ebnf$1","insert_expr_list_raw$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"insert_expr_list_raw",symbols:["expr_or_select","insert_expr_list_raw$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"insert_on_conflict$ebnf$1",symbols:["insert_on_conflict_what"],postprocess:a},{name:"insert_on_conflict$ebnf$1",symbols:[],postprocess:()=>null},{name:"insert_on_conflict",symbols:["insert_on_conflict$ebnf$1","insert_on_conflict_do"],postprocess:e=>(0,n.track)(e,{...e[0]?{on:E(e[0])}:{},...e[1]})},{name:"insert_on_conflict_what",symbols:["lparen","expr_list_raw","rparen"],postprocess:e=>(0,n.track)(e,{type:"on expr",exprs:e[1]})},{name:"insert_on_conflict_what",symbols:[r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,r.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint,"qname"],postprocess:e=>(0,n.track)(e,{type:"on constraint",constraint:T(e)})},{name:"insert_on_conflict_do",symbols:[r.lexerAny.has("kw_do")?{type:"kw_do"}:kw_do,"kw_nothing"],postprocess:e=>({do:"do nothing"})},{name:"insert_on_conflict_do$subexpression$1",symbols:[r.lexerAny.has("kw_do")?{type:"kw_do"}:kw_do,"kw_update","kw_set"]},{name:"insert_on_conflict_do$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_where")?{type:"kw_where"}:kw_where,"expr"],postprocess:T},{name:"insert_on_conflict_do$ebnf$1",symbols:["insert_on_conflict_do$ebnf$1$subexpression$1"],postprocess:a},{name:"insert_on_conflict_do$ebnf$1",symbols:[],postprocess:()=>null},{name:"insert_on_conflict_do",symbols:["insert_on_conflict_do$subexpression$1","update_set_list","insert_on_conflict_do$ebnf$1"],postprocess:e=>({do:{sets:e[1]},...e[2]&&{where:e[2]}})},{name:"update_statement$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"select_from_subject"],postprocess:T},{name:"update_statement$ebnf$1",symbols:["update_statement$ebnf$1$subexpression$1"],postprocess:a},{name:"update_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"update_statement$ebnf$2",symbols:["select_where"],postprocess:a},{name:"update_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"update_statement$ebnf$3$subexpression$1",symbols:[r.lexerAny.has("kw_returning")?{type:"kw_returning"}:kw_returning,"select_expr_list_aliased"],postprocess:T},{name:"update_statement$ebnf$3",symbols:["update_statement$ebnf$3$subexpression$1"],postprocess:a},{name:"update_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"update_statement",symbols:["kw_update","table_ref_aliased","kw_set","update_set_list","update_statement$ebnf$1","update_statement$ebnf$2","update_statement$ebnf$3"],postprocess:e=>{const t=E(e[4]),s=E(e[5]),a=e[6];return(0,n.track)(e,{type:"update",table:E(e[1]),sets:e[3],...s?{where:s}:{},...t?{from:t}:{},...a?{returning:a}:{}})}},{name:"update_set_list$ebnf$1",symbols:[]},{name:"update_set_list$ebnf$1$subexpression$1",symbols:["comma","update_set"],postprocess:T},{name:"update_set_list$ebnf$1",symbols:["update_set_list$ebnf$1","update_set_list$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"update_set_list",symbols:["update_set","update_set_list$ebnf$1"],postprocess:([e,t])=>{const s=[];for(const a of[e,...t||[]]){const e=E(a);Array.isArray(e)?s.push(...e):s.push(e)}return s}},{name:"update_set",symbols:["update_set_one"]},{name:"update_set",symbols:["update_set_multiple"]},{name:"update_set_one",symbols:["ident",r.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"expr"],postprocess:e=>(0,n.box)(e,{column:o(e[0]),value:E(e[2])})},{name:"update_set_multiple$subexpression$1",symbols:["lparen","expr_list_raw","rparen"],postprocess:c(1)},{name:"update_set_multiple",symbols:["collist_paren",r.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"update_set_multiple$subexpression$1"],postprocess:e=>{const t=e[0],s=e[2];if(t.length!==s.length)throw new Error("number of columns does not match number of values");return(0,n.box)(e,t.map((e,t)=>({column:o(e),value:E(s[t])})))}},{name:"altertable_statement$ebnf$1",symbols:["kw_ifexists"],postprocess:a},{name:"altertable_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_statement$ebnf$2",symbols:[r.lexerAny.has("kw_only")?{type:"kw_only"}:kw_only],postprocess:a},{name:"altertable_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"altertable_statement",symbols:["kw_alter",r.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table,"altertable_statement$ebnf$1","altertable_statement$ebnf$2","table_ref","altertable_actions"],postprocess:e=>(0,n.track)(e,{type:"alter table",...e[2]?{ifExists:!0}:{},...e[3]?{only:!0}:{},table:E(e[4]),changes:(0,n.unbox)(e[5]).map(E)})},{name:"altertable_actions$ebnf$1",symbols:[]},{name:"altertable_actions$ebnf$1$subexpression$1",symbols:["comma","altertable_action"],postprocess:T},{name:"altertable_actions$ebnf$1",symbols:["altertable_actions$ebnf$1","altertable_actions$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"altertable_actions",symbols:["altertable_action","altertable_actions$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"altertable_action",symbols:["altertable_rename_table"]},{name:"altertable_action",symbols:["altertable_rename_column"]},{name:"altertable_action",symbols:["altertable_rename_constraint"]},{name:"altertable_action",symbols:["altertable_add_column"]},{name:"altertable_action",symbols:["altertable_drop_column"]},{name:"altertable_action",symbols:["altertable_alter_column"]},{name:"altertable_action",symbols:["altertable_add_constraint"]},{name:"altertable_action",symbols:["altertable_drop_constraint"]},{name:"altertable_action",symbols:["altertable_owner"]},{name:"altertable_rename_table",symbols:["kw_rename",r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"word"],postprocess:e=>(0,n.track)(e,{type:"rename",to:o(T(e))})},{name:"altertable_rename_column$ebnf$1",symbols:["kw_column"],postprocess:a},{name:"altertable_rename_column$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_rename_column",symbols:["kw_rename","altertable_rename_column$ebnf$1","ident",r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"ident"],postprocess:e=>(0,n.track)(e,{type:"rename column",column:o(e[2]),to:o(T(e))})},{name:"altertable_rename_constraint",symbols:["kw_rename",r.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint,"ident",r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"ident"],postprocess:e=>(0,n.track)(e,{type:"rename constraint",constraint:o(e[2]),to:o(T(e))})},{name:"altertable_add_column$ebnf$1",symbols:["kw_column"],postprocess:a},{name:"altertable_add_column$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_add_column$ebnf$2",symbols:["kw_ifnotexists"],postprocess:a},{name:"altertable_add_column$ebnf$2",symbols:[],postprocess:()=>null},{name:"altertable_add_column",symbols:["kw_add","altertable_add_column$ebnf$1","altertable_add_column$ebnf$2","createtable_column"],postprocess:e=>(0,n.track)(e,{type:"add column",...e[2]?{ifNotExists:!0}:{},column:E(e[3])})},{name:"altertable_drop_column$ebnf$1",symbols:["kw_column"],postprocess:a},{name:"altertable_drop_column$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_drop_column$ebnf$2",symbols:["kw_ifexists"],postprocess:a},{name:"altertable_drop_column$ebnf$2",symbols:[],postprocess:()=>null},{name:"altertable_drop_column$ebnf$3$subexpression$1",symbols:["kw_restrict"]},{name:"altertable_drop_column$ebnf$3$subexpression$1",symbols:["kw_cascade"]},{name:"altertable_drop_column$ebnf$3",symbols:["altertable_drop_column$ebnf$3$subexpression$1"],postprocess:a},{name:"altertable_drop_column$ebnf$3",symbols:[],postprocess:()=>null},{name:"altertable_drop_column",symbols:["kw_drop","altertable_drop_column$ebnf$1","altertable_drop_column$ebnf$2","ident","altertable_drop_column$ebnf$3"],postprocess:e=>(0,n.track)(e,{type:"drop column",...e[2]?{ifExists:!0}:{},column:o(e[3]),...e[4]?{behaviour:_(e[4]," ")}:{}})},{name:"altertable_alter_column$ebnf$1",symbols:["kw_column"],postprocess:a},{name:"altertable_alter_column$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_alter_column",symbols:["kw_alter","altertable_alter_column$ebnf$1","ident","altercol"],postprocess:e=>(0,n.track)(e,{type:"alter column",column:o(e[2]),alter:E(e[3])})},{name:"altercol$ebnf$1$subexpression$1",symbols:["kw_set","kw_data"]},{name:"altercol$ebnf$1",symbols:["altercol$ebnf$1$subexpression$1"],postprocess:a},{name:"altercol$ebnf$1",symbols:[],postprocess:()=>null},{name:"altercol",symbols:["altercol$ebnf$1","kw_type","data_type"],postprocess:e=>(0,n.track)(e,{type:"set type",dataType:E(T(e))})},{name:"altercol",symbols:["kw_set",r.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default,"expr"],postprocess:e=>(0,n.track)(e,{type:"set default",default:E(T(e))})},{name:"altercol",symbols:["kw_drop",r.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default],postprocess:e=>(0,n.track)(e,{type:"drop default"})},{name:"altercol$subexpression$1",symbols:["kw_set"]},{name:"altercol$subexpression$1",symbols:["kw_drop"]},{name:"altercol",symbols:["altercol$subexpression$1","kw_not_null"],postprocess:e=>(0,n.track)(e,{type:_(e," ")})},{name:"altercol",symbols:["altercol_generated_add"],postprocess:E},{name:"altertable_add_constraint",symbols:["kw_add","createtable_constraint"],postprocess:e=>(0,n.track)(e,{type:"add constraint",constraint:E(T(e))})},{name:"altertable_drop_constraint$ebnf$1",symbols:["kw_ifexists"],postprocess:a},{name:"altertable_drop_constraint$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_drop_constraint$ebnf$2$subexpression$1",symbols:["kw_restrict"]},{name:"altertable_drop_constraint$ebnf$2$subexpression$1",symbols:["kw_cascade"]},{name:"altertable_drop_constraint$ebnf$2",symbols:["altertable_drop_constraint$ebnf$2$subexpression$1"],postprocess:a},{name:"altertable_drop_constraint$ebnf$2",symbols:[],postprocess:()=>null},{name:"altertable_drop_constraint",symbols:["kw_drop",r.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint,"altertable_drop_constraint$ebnf$1","ident","altertable_drop_constraint$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"drop constraint",...e[2]?{ifExists:!0}:{},constraint:o(e[3]),...e[4]?{behaviour:_(e[4]," ")}:{}})},{name:"altertable_owner",symbols:["kw_owner",r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"ident"],postprocess:e=>(0,n.track)(e,{type:"owner",to:o(T(e))})},{name:"altercol_generated_add",symbols:["kw_add","altercol_generated"],postprocess:T},{name:"altercol_generated$ebnf$1$subexpression$1",symbols:["kw_always"]},{name:"altercol_generated$ebnf$1$subexpression$1",symbols:["kw_by",r.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default]},{name:"altercol_generated$ebnf$1",symbols:["altercol_generated$ebnf$1$subexpression$1"],postprocess:a},{name:"altercol_generated$ebnf$1",symbols:[],postprocess:()=>null},{name:"altercol_generated$subexpression$1",symbols:[r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"kw_identity"]},{name:"altercol_generated$ebnf$2$subexpression$1",symbols:["lparen","altercol_generated_seq","rparen"],postprocess:c(1)},{name:"altercol_generated$ebnf$2",symbols:["altercol_generated$ebnf$2$subexpression$1"],postprocess:a},{name:"altercol_generated$ebnf$2",symbols:[],postprocess:()=>null},{name:"altercol_generated",symbols:["kw_generated","altercol_generated$ebnf$1","altercol_generated$subexpression$1","altercol_generated$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"add generated",...e[1]&&{always:_(e[1]," ")},...e[3]&&{sequence:E(e[3])}})},{name:"altercol_generated_seq$ebnf$1$subexpression$1",symbols:["kw_sequence","kw_name","qualified_name"]},{name:"altercol_generated_seq$ebnf$1",symbols:["altercol_generated_seq$ebnf$1$subexpression$1"],postprocess:a},{name:"altercol_generated_seq$ebnf$1",symbols:[],postprocess:()=>null},{name:"altercol_generated_seq$ebnf$2",symbols:[]},{name:"altercol_generated_seq$ebnf$2",symbols:["altercol_generated_seq$ebnf$2","create_sequence_option"],postprocess:e=>e[0].concat([e[1]])},{name:"altercol_generated_seq",symbols:["altercol_generated_seq$ebnf$1","altercol_generated_seq$ebnf$2"],postprocess:e=>{const t={...e[0]&&{name:E(T(e[0]))}};return I(t,e[1]),(0,n.track)(e,t)}},{name:"alterindex_statement$ebnf$1",symbols:["kw_ifexists"],postprocess:a},{name:"alterindex_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"alterindex_statement",symbols:["kw_alter","kw_index","alterindex_statement$ebnf$1","table_ref","alterindex_action"],postprocess:e=>(0,n.track)(e,{type:"alter index",...e[2]?{ifExists:!0}:{},index:E(e[3]),change:E(e[4])})},{name:"alterindex_action",symbols:["alterindex_rename"]},{name:"alterindex_action",symbols:["alterindex_set_tablespace"]},{name:"alterindex_rename",symbols:["kw_rename",r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"word"],postprocess:e=>(0,n.track)(e,{type:"rename",to:o(T(e))})},{name:"alterindex_set_tablespace",symbols:["kw_set","kw_tablespace","word"],postprocess:e=>(0,n.track)(e,{type:"set tablespace",tablespace:o(T(e))})},{name:"delete_statement",symbols:["delete_delete"]},{name:"delete_statement",symbols:["delete_truncate"]},{name:"delete_delete$subexpression$1",symbols:["kw_delete",r.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from]},{name:"delete_delete$ebnf$1",symbols:["select_where"],postprocess:a},{name:"delete_delete$ebnf$1",symbols:[],postprocess:()=>null},{name:"delete_delete$ebnf$2$subexpression$1",symbols:[r.lexerAny.has("kw_returning")?{type:"kw_returning"}:kw_returning,"select_expr_list_aliased"],postprocess:T},{name:"delete_delete$ebnf$2",symbols:["delete_delete$ebnf$2$subexpression$1"],postprocess:a},{name:"delete_delete$ebnf$2",symbols:[],postprocess:()=>null},{name:"delete_delete",symbols:["delete_delete$subexpression$1","table_ref_aliased","delete_delete$ebnf$1","delete_delete$ebnf$2"],postprocess:e=>{const t=e[2],s=e[3];return(0,n.track)(e,{type:"delete",from:E(e[1]),...t?{where:t}:{},...s?{returning:s}:{}})}},{name:"delete_truncate$subexpression$1$ebnf$1",symbols:[r.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table],postprocess:a},{name:"delete_truncate$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"delete_truncate$subexpression$1",symbols:["kw_truncate","delete_truncate$subexpression$1$ebnf$1"]},{name:"delete_truncate$macrocall$2",symbols:["table_ref"]},{name:"delete_truncate$macrocall$1$ebnf$1",symbols:[]},{name:"delete_truncate$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"delete_truncate$macrocall$2"],postprocess:T},{name:"delete_truncate$macrocall$1$ebnf$1",symbols:["delete_truncate$macrocall$1$ebnf$1","delete_truncate$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"delete_truncate$macrocall$1",symbols:["delete_truncate$macrocall$2","delete_truncate$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"delete_truncate$ebnf$1$subexpression$1$subexpression$1",symbols:["kw_restart"]},{name:"delete_truncate$ebnf$1$subexpression$1$subexpression$1",symbols:["kw_continue"]},{name:"delete_truncate$ebnf$1$subexpression$1",symbols:["delete_truncate$ebnf$1$subexpression$1$subexpression$1","kw_identity"]},{name:"delete_truncate$ebnf$1",symbols:["delete_truncate$ebnf$1$subexpression$1"],postprocess:a},{name:"delete_truncate$ebnf$1",symbols:[],postprocess:()=>null},{name:"delete_truncate$ebnf$2$subexpression$1",symbols:["kw_restrict"]},{name:"delete_truncate$ebnf$2$subexpression$1",symbols:["kw_cascade"]},{name:"delete_truncate$ebnf$2",symbols:["delete_truncate$ebnf$2$subexpression$1"],postprocess:a},{name:"delete_truncate$ebnf$2",symbols:[],postprocess:()=>null},{name:"delete_truncate",symbols:["delete_truncate$subexpression$1","delete_truncate$macrocall$1","delete_truncate$ebnf$1","delete_truncate$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"truncate table",tables:e[1],...e[2]&&{identity:_(e[2][0])},...e[3]&&{cascade:_(e[3])}})},{name:"create_sequence_statement$ebnf$1$subexpression$1",symbols:["kw_temp"]},{name:"create_sequence_statement$ebnf$1$subexpression$1",symbols:["kw_temporary"]},{name:"create_sequence_statement$ebnf$1",symbols:["create_sequence_statement$ebnf$1$subexpression$1"],postprocess:a},{name:"create_sequence_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_sequence_statement$ebnf$2",symbols:["kw_ifnotexists"],postprocess:a},{name:"create_sequence_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"create_sequence_statement$ebnf$3",symbols:[]},{name:"create_sequence_statement$ebnf$3",symbols:["create_sequence_statement$ebnf$3","create_sequence_option"],postprocess:e=>e[0].concat([e[1]])},{name:"create_sequence_statement",symbols:[r.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"create_sequence_statement$ebnf$1","kw_sequence","create_sequence_statement$ebnf$2","qualified_name","create_sequence_statement$ebnf$3"],postprocess:e=>{const t={type:"create sequence",...e[1]&&{temp:!0},...e[3]&&{ifNotExists:!0},name:E(e[4]),options:{}};return I(t.options,e[5]),(0,n.track)(e,t)}},{name:"create_sequence_option",symbols:[r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"data_type"],postprocess:e=>(0,n.box)(e,["as",e[1]])},{name:"create_sequence_option$ebnf$1",symbols:["kw_by"],postprocess:a},{name:"create_sequence_option$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_sequence_option",symbols:["kw_increment","create_sequence_option$ebnf$1","int"],postprocess:e=>(0,n.box)(e,["incrementBy",e[2]])},{name:"create_sequence_option",symbols:["create_sequence_minvalue"],postprocess:e=>(0,n.box)(e,["minValue",e[0]])},{name:"create_sequence_option",symbols:["create_sequence_maxvalue"],postprocess:e=>(0,n.box)(e,["maxValue",e[0]])},{name:"create_sequence_option$ebnf$2",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with],postprocess:a},{name:"create_sequence_option$ebnf$2",symbols:[],postprocess:()=>null},{name:"create_sequence_option",symbols:["kw_start","create_sequence_option$ebnf$2","int"],postprocess:e=>(0,n.box)(e,["startWith",e[2]])},{name:"create_sequence_option",symbols:["kw_cache","int"],postprocess:e=>(0,n.box)(e,["cache",e[1]])},{name:"create_sequence_option$ebnf$3",symbols:["kw_no"],postprocess:a},{name:"create_sequence_option$ebnf$3",symbols:[],postprocess:()=>null},{name:"create_sequence_option",symbols:["create_sequence_option$ebnf$3","kw_cycle"],postprocess:e=>(0,n.box)(e,["cycle",_(e," ")])},{name:"create_sequence_option",symbols:["create_sequence_owned_by"],postprocess:e=>(0,n.box)(e,["ownedBy",E(e)])},{name:"create_sequence_minvalue",symbols:["kw_minvalue","int"],postprocess:T},{name:"create_sequence_minvalue",symbols:["kw_no","kw_minvalue"],postprocess:e=>(0,n.box)(e,"no minvalue")},{name:"create_sequence_maxvalue",symbols:["kw_maxvalue","int"],postprocess:T},{name:"create_sequence_maxvalue",symbols:["kw_no","kw_maxvalue"],postprocess:e=>(0,n.box)(e,"no maxvalue")},{name:"create_sequence_owned_by$subexpression$1",symbols:["kw_none"]},{name:"create_sequence_owned_by$subexpression$1",symbols:["qcolumn"]},{name:"create_sequence_owned_by",symbols:["kw_owned","kw_by","create_sequence_owned_by$subexpression$1"],postprocess:e=>(0,n.box)(e,E(T(e)))},{name:"alter_sequence_statement$ebnf$1",symbols:["kw_ifexists"],postprocess:a},{name:"alter_sequence_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"alter_sequence_statement",symbols:["kw_alter","kw_sequence","alter_sequence_statement$ebnf$1","qualified_name","alter_sequence_statement_body"],postprocess:e=>{const t={type:"alter sequence",...e[2]&&{ifExists:!0},name:E(e[3]),change:e[4]};return(0,n.track)(e,t)}},{name:"alter_sequence_statement_body$ebnf$1",symbols:["alter_sequence_option"]},{name:"alter_sequence_statement_body$ebnf$1",symbols:["alter_sequence_statement_body$ebnf$1","alter_sequence_option"],postprocess:e=>e[0].concat([e[1]])},{name:"alter_sequence_statement_body",symbols:["alter_sequence_statement_body$ebnf$1"],postprocess:e=>{const t={type:"set options"};return I(t,e[0]),(0,n.track)(e,t)}},{name:"alter_sequence_statement_body$subexpression$1",symbols:["ident"]},{name:"alter_sequence_statement_body$subexpression$1",symbols:[r.lexerAny.has("kw_session_user")?{type:"kw_session_user"}:kw_session_user]},{name:"alter_sequence_statement_body$subexpression$1",symbols:[r.lexerAny.has("kw_current_user")?{type:"kw_current_user"}:kw_current_user]},{name:"alter_sequence_statement_body",symbols:["kw_owner",r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"alter_sequence_statement_body$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"owner to",owner:o(T(e))})},{name:"alter_sequence_statement_body",symbols:["kw_rename",r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"ident"],postprocess:e=>(0,n.track)(e,{type:"rename",newName:o(T(e))})},{name:"alter_sequence_statement_body",symbols:["kw_set","kw_schema","ident"],postprocess:e=>(0,n.track)(e,{type:"set schema",newSchema:o(T(e))})},{name:"alter_sequence_option",symbols:["create_sequence_option"],postprocess:E},{name:"alter_sequence_option$ebnf$1$subexpression$1$ebnf$1",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with],postprocess:a},{name:"alter_sequence_option$ebnf$1$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"alter_sequence_option$ebnf$1$subexpression$1",symbols:["alter_sequence_option$ebnf$1$subexpression$1$ebnf$1","int"],postprocess:T},{name:"alter_sequence_option$ebnf$1",symbols:["alter_sequence_option$ebnf$1$subexpression$1"],postprocess:a},{name:"alter_sequence_option$ebnf$1",symbols:[],postprocess:()=>null},{name:"alter_sequence_option",symbols:["kw_restart","alter_sequence_option$ebnf$1"],postprocess:e=>(0,n.box)(e,["restart","number"!=typeof(0,n.unbox)(e[1])||(0,n.unbox)(e[1])])},{name:"drop_statement$ebnf$1",symbols:["kw_ifexists"],postprocess:a},{name:"drop_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"drop_statement$macrocall$2",symbols:["qualified_name"]},{name:"drop_statement$macrocall$1$ebnf$1",symbols:[]},{name:"drop_statement$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"drop_statement$macrocall$2"],postprocess:T},{name:"drop_statement$macrocall$1$ebnf$1",symbols:["drop_statement$macrocall$1$ebnf$1","drop_statement$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"drop_statement$macrocall$1",symbols:["drop_statement$macrocall$2","drop_statement$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"drop_statement$ebnf$2$subexpression$1",symbols:["kw_cascade"]},{name:"drop_statement$ebnf$2$subexpression$1",symbols:["kw_restrict"]},{name:"drop_statement$ebnf$2",symbols:["drop_statement$ebnf$2$subexpression$1"],postprocess:a},{name:"drop_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"drop_statement",symbols:["kw_drop","drop_what","drop_statement$ebnf$1","drop_statement$macrocall$1","drop_statement$ebnf$2"],postprocess:(e,t)=>{const s=E(e[1]);return(0,n.track)(e,{...s,...e[2]&&{ifExists:!0},names:e[3],...e[4]&&{cascade:_(e[4])}})}},{name:"drop_what",symbols:[r.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table],postprocess:e=>(0,n.track)(e,{type:"drop table"})},{name:"drop_what",symbols:["kw_sequence"],postprocess:e=>(0,n.track)(e,{type:"drop sequence"})},{name:"drop_what",symbols:["kw_type"],postprocess:e=>(0,n.track)(e,{type:"drop type"})},{name:"drop_what",symbols:["kw_trigger"],postprocess:e=>(0,n.track)(e,{type:"drop trigger"})},{name:"drop_what$ebnf$1",symbols:[r.lexerAny.has("kw_concurrently")?{type:"kw_concurrently"}:kw_concurrently],postprocess:a},{name:"drop_what$ebnf$1",symbols:[],postprocess:()=>null},{name:"drop_what",symbols:["kw_index","drop_what$ebnf$1"],postprocess:e=>(0,n.track)(e,{type:"drop index",...e[1]&&{concurrently:!0}})},{name:"with_statement",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"with_statement_bindings","with_statement_statement"],postprocess:e=>(0,n.track)(e,{type:"with",bind:e[1],in:E(e[2])})},{name:"with_recursive_statement$subexpression$1",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"kw_recursive"]},{name:"with_recursive_statement",symbols:["with_recursive_statement$subexpression$1","ident","collist_paren",r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"lparen","union_statement","rparen","with_statement_statement"],postprocess:e=>(0,n.track)(e,{type:"with recursive",alias:o(e[1]),columnNames:e[2].map(o),bind:e[5],in:E(e[7])})},{name:"with_statement_bindings$ebnf$1",symbols:[]},{name:"with_statement_bindings$ebnf$1$subexpression$1",symbols:["comma","with_statement_binding"],postprocess:T},{name:"with_statement_bindings$ebnf$1",symbols:["with_statement_bindings$ebnf$1","with_statement_bindings$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"with_statement_bindings",symbols:["with_statement_binding","with_statement_bindings$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"with_statement_binding",symbols:["word",r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"lparen","with_statement_statement","rparen"],postprocess:e=>(0,n.track)(e,{alias:o(e[0]),statement:E(e[3])})},{name:"with_statement_statement",symbols:["selection"]},{name:"with_statement_statement",symbols:["insert_statement"]},{name:"with_statement_statement",symbols:["update_statement"]},{name:"with_statement_statement",symbols:["delete_statement"]},{name:"createtype_statement$subexpression$1",symbols:["createtype_enum"]},{name:"createtype_statement$subexpression$1",symbols:["createtype_composite"]},{name:"createtype_statement",symbols:[r.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"kw_type","qualified_name","createtype_statement$subexpression$1"],postprocess:e=>(0,n.track)(e,{name:e[2],...E(e[3])})},{name:"createtype_enum$macrocall$2",symbols:["enum_value"]},{name:"createtype_enum$macrocall$1$ebnf$1",symbols:[]},{name:"createtype_enum$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"createtype_enum$macrocall$2"],postprocess:T},{name:"createtype_enum$macrocall$1$ebnf$1",symbols:["createtype_enum$macrocall$1$ebnf$1","createtype_enum$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createtype_enum$macrocall$1",symbols:["createtype_enum$macrocall$2","createtype_enum$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"createtype_enum",symbols:[r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"kw_enum","lparen","createtype_enum$macrocall$1","rparen"],postprocess:e=>(0,n.track)(e,{type:"create enum",values:e[3]})},{name:"enum_value",symbols:["string"],postprocess:e=>(0,n.track)(e,{value:_(e)})},{name:"createtype_composite$macrocall$2",symbols:["createtype_composite_attr"]},{name:"createtype_composite$macrocall$1$ebnf$1",symbols:[]},{name:"createtype_composite$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"createtype_composite$macrocall$2"],postprocess:T},{name:"createtype_composite$macrocall$1$ebnf$1",symbols:["createtype_composite$macrocall$1$ebnf$1","createtype_composite$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createtype_composite$macrocall$1",symbols:["createtype_composite$macrocall$2","createtype_composite$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"createtype_composite",symbols:[r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"lparen","createtype_composite$macrocall$1","rparen"],postprocess:e=>(0,n.track)(e,{type:"create composite type",attributes:e[2]})},{name:"createtype_composite_attr$ebnf$1",symbols:["createtable_collate"],postprocess:a},{name:"createtype_composite_attr$ebnf$1",symbols:[],postprocess:()=>null},{name:"createtype_composite_attr",symbols:["word","data_type","createtype_composite_attr$ebnf$1"],postprocess:e=>(0,n.track)(e,{name:o(e[0]),dataType:e[1],...e[2]?{collate:e[2][1]}:{}})},{name:"altertype_statement$subexpression$1",symbols:["altertype_enum_add_value"]},{name:"altertype_statement$subexpression$1",symbols:["altertype_enum_rename"]},{name:"altertype_statement",symbols:["kw_alter","kw_type","qualified_name","altertype_statement$subexpression$1"],postprocess:e=>(0,n.track)(e,{name:e[2],...E(e[3])})},{name:"altertype_enum_add_value",symbols:["kw_add","kw_value","enum_additional_value"],postprocess:e=>(0,n.track)(e,{type:"alter enum",change:{type:"add value",add:e[2]}})},{name:"enum_additional_value",symbols:["string"],postprocess:e=>(0,n.track)(e,{value:_(e)})},{name:"altertype_enum_rename",symbols:["kw_rename",r.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"word"],postprocess:e=>(0,n.track)(e,{type:"alter enum",change:{type:"rename",to:o(T(e))}})},{name:"union_left",symbols:["select_statement"]},{name:"union_left",symbols:["select_values"]},{name:"union_left",symbols:["selection_paren"]},{name:"union_right",symbols:["selection"]},{name:"union_right",symbols:["selection_paren"]},{name:"union_statement$subexpression$1$ebnf$1",symbols:[r.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all],postprocess:a},{name:"union_statement$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"union_statement$subexpression$1",symbols:[r.lexerAny.has("kw_union")?{type:"kw_union"}:kw_union,"union_statement$subexpression$1$ebnf$1"]},{name:"union_statement",symbols:["union_left","union_statement$subexpression$1","union_right"],postprocess:e=>(0,n.track)(e,{type:_(e[1]," "),left:E(e[0]),right:E(e[2])})},{name:"prepare$ebnf$1$subexpression$1",symbols:["lparen","data_type_list","rparen"],postprocess:c(1)},{name:"prepare$ebnf$1",symbols:["prepare$ebnf$1$subexpression$1"],postprocess:a},{name:"prepare$ebnf$1",symbols:[],postprocess:()=>null},{name:"prepare",symbols:["kw_prepare","ident","prepare$ebnf$1",r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"statement_noprep"],postprocess:e=>(0,n.track)(e,{type:"prepare",name:o(e[1]),...e[2]&&{args:e[2]},statement:E(T(e))})},{name:"deallocate$ebnf$1",symbols:["kw_prepare"],postprocess:a},{name:"deallocate$ebnf$1",symbols:[],postprocess:()=>null},{name:"deallocate",symbols:["kw_deallocate","deallocate$ebnf$1","deallocate_target"],postprocess:e=>(0,n.track)(e,{type:"deallocate",target:e[2]})},{name:"deallocate_target",symbols:["deallocate_all"],postprocess:E},{name:"deallocate_target",symbols:["deallocate_name"],postprocess:E},{name:"deallocate_name",symbols:["ident"],postprocess:e=>(0,n.track)(e,o(e[0]))},{name:"deallocate_all",symbols:[r.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all],postprocess:e=>(0,n.track)(e,{option:"all"})},{name:"create_view_statements",symbols:["create_view"]},{name:"create_view_statements",symbols:["create_materialized_view"]},{name:"create_view$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_or")?{type:"kw_or"}:kw_or,"kw_replace"]},{name:"create_view$ebnf$1",symbols:["create_view$ebnf$1$subexpression$1"],postprocess:a},{name:"create_view$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_view$ebnf$2$subexpression$1",symbols:["kw_temp"]},{name:"create_view$ebnf$2$subexpression$1",symbols:["kw_temporary"]},{name:"create_view$ebnf$2",symbols:["create_view$ebnf$2$subexpression$1"],postprocess:a},{name:"create_view$ebnf$2",symbols:[],postprocess:()=>null},{name:"create_view$ebnf$3",symbols:["kw_recursive"],postprocess:a},{name:"create_view$ebnf$3",symbols:[],postprocess:()=>null},{name:"create_view$ebnf$4$subexpression$1$macrocall$2",symbols:["ident"]},{name:"create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1",symbols:[]},{name:"create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"create_view$ebnf$4$subexpression$1$macrocall$2"],postprocess:T},{name:"create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1",symbols:["create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1","create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"create_view$ebnf$4$subexpression$1$macrocall$1",symbols:["create_view$ebnf$4$subexpression$1$macrocall$2","create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"create_view$ebnf$4$subexpression$1",symbols:["lparen","create_view$ebnf$4$subexpression$1$macrocall$1","rparen"],postprocess:c(1)},{name:"create_view$ebnf$4",symbols:["create_view$ebnf$4$subexpression$1"],postprocess:a},{name:"create_view$ebnf$4",symbols:[],postprocess:()=>null},{name:"create_view$ebnf$5",symbols:["create_view_opts"],postprocess:a},{name:"create_view$ebnf$5",symbols:[],postprocess:()=>null},{name:"create_view$ebnf$6$subexpression$1$subexpression$1",symbols:["kw_local"]},{name:"create_view$ebnf$6$subexpression$1$subexpression$1",symbols:["kw_cascaded"]},{name:"create_view$ebnf$6$subexpression$1",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"create_view$ebnf$6$subexpression$1$subexpression$1",r.lexerAny.has("kw_check")?{type:"kw_check"}:kw_check,"kw_option"],postprocess:c(1)},{name:"create_view$ebnf$6",symbols:["create_view$ebnf$6$subexpression$1"],postprocess:a},{name:"create_view$ebnf$6",symbols:[],postprocess:()=>null},{name:"create_view",symbols:[r.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"create_view$ebnf$1","create_view$ebnf$2","create_view$ebnf$3","kw_view","qualified_name","create_view$ebnf$4","create_view$ebnf$5",r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"selection","create_view$ebnf$6"],postprocess:e=>(0,n.track)(e,{type:"create view",...e[1]&&{orReplace:!0},...e[2]&&{temp:!0},...e[3]&&{recursive:!0},name:e[5],...e[6]&&{columnNames:e[6].map(o)},...e[7]&&{parameters:A(e[7])},query:e[9],...e[10]&&{checkOption:_(e[10])}})},{name:"create_view_opt",symbols:["ident",r.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"ident"],postprocess:([e,t,s])=>[_(e),_(s)]},{name:"create_view_opts$macrocall$2",symbols:["create_view_opt"]},{name:"create_view_opts$macrocall$1$ebnf$1",symbols:[]},{name:"create_view_opts$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"create_view_opts$macrocall$2"],postprocess:T},{name:"create_view_opts$macrocall$1$ebnf$1",symbols:["create_view_opts$macrocall$1$ebnf$1","create_view_opts$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"create_view_opts$macrocall$1",symbols:["create_view_opts$macrocall$2","create_view_opts$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"create_view_opts",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"create_view_opts$macrocall$1"],postprocess:T},{name:"create_materialized_view$ebnf$1",symbols:["kw_ifnotexists"],postprocess:a},{name:"create_materialized_view$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_materialized_view$ebnf$2$subexpression$1$macrocall$2",symbols:["ident"]},{name:"create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1",symbols:[]},{name:"create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"create_materialized_view$ebnf$2$subexpression$1$macrocall$2"],postprocess:T},{name:"create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1",symbols:["create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1","create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"create_materialized_view$ebnf$2$subexpression$1$macrocall$1",symbols:["create_materialized_view$ebnf$2$subexpression$1$macrocall$2","create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"create_materialized_view$ebnf$2$subexpression$1",symbols:["lparen","create_materialized_view$ebnf$2$subexpression$1$macrocall$1","rparen"],postprocess:c(1)},{name:"create_materialized_view$ebnf$2",symbols:["create_materialized_view$ebnf$2$subexpression$1"],postprocess:a},{name:"create_materialized_view$ebnf$2",symbols:[],postprocess:()=>null},{name:"create_materialized_view$ebnf$3",symbols:["create_view_opts"],postprocess:a},{name:"create_materialized_view$ebnf$3",symbols:[],postprocess:()=>null},{name:"create_materialized_view$ebnf$4$subexpression$1",symbols:["kw_tablespace","ident"],postprocess:T},{name:"create_materialized_view$ebnf$4",symbols:["create_materialized_view$ebnf$4$subexpression$1"],postprocess:a},{name:"create_materialized_view$ebnf$4",symbols:[],postprocess:()=>null},{name:"create_materialized_view$ebnf$5$subexpression$1$ebnf$1",symbols:["kw_no"],postprocess:a},{name:"create_materialized_view$ebnf$5$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_materialized_view$ebnf$5$subexpression$1",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"create_materialized_view$ebnf$5$subexpression$1$ebnf$1","kw_data"]},{name:"create_materialized_view$ebnf$5",symbols:["create_materialized_view$ebnf$5$subexpression$1"],postprocess:a},{name:"create_materialized_view$ebnf$5",symbols:[],postprocess:()=>null},{name:"create_materialized_view",symbols:[r.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"kw_materialized","kw_view","create_materialized_view$ebnf$1","qualified_name","create_materialized_view$ebnf$2","create_materialized_view$ebnf$3","create_materialized_view$ebnf$4",r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"selection","create_materialized_view$ebnf$5"],postprocess:e=>(0,n.track)(e,{type:"create materialized view",...e[3]&&{ifNotExists:!0},name:e[4],...e[5]&&{columnNames:e[6].map(o)},...e[6]&&{parameters:A(e[6])},...e[7]&&{tablespace:o(e[7])},query:e[9],...e[10]&&{withData:"no"!==_(e[10][1])}})},{name:"refresh_view_statements$ebnf$1",symbols:[r.lexerAny.has("kw_concurrently")?{type:"kw_concurrently"}:kw_concurrently],postprocess:a},{name:"refresh_view_statements$ebnf$1",symbols:[],postprocess:()=>null},{name:"refresh_view_statements$ebnf$2$subexpression$1$ebnf$1",symbols:["kw_no"],postprocess:a},{name:"refresh_view_statements$ebnf$2$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"refresh_view_statements$ebnf$2$subexpression$1",symbols:[r.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"refresh_view_statements$ebnf$2$subexpression$1$ebnf$1","kw_data"]},{name:"refresh_view_statements$ebnf$2",symbols:["refresh_view_statements$ebnf$2$subexpression$1"],postprocess:a},{name:"refresh_view_statements$ebnf$2",symbols:[],postprocess:()=>null},{name:"refresh_view_statements",symbols:["kw_refresh","kw_materialized","kw_view","refresh_view_statements$ebnf$1","qname","refresh_view_statements$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"refresh materialized view",...e[3]?{concurrently:!0}:{},name:e[4],...e[5]?{withData:"no"!==_(e[5][1])}:{}})},{name:"functions_statements",symbols:["create_func"]},{name:"functions_statements",symbols:["do_stm"]},{name:"functions_statements",symbols:["drop_func"]},{name:"create_func$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("kw_or")?{type:"kw_or"}:kw_or,"kw_replace"]},{name:"create_func$ebnf$1",symbols:["create_func$ebnf$1$subexpression$1"],postprocess:a},{name:"create_func$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_func$subexpression$1$ebnf$1$macrocall$2",symbols:["func_argdef"]},{name:"create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1",symbols:[]},{name:"create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"create_func$subexpression$1$ebnf$1$macrocall$2"],postprocess:T},{name:"create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1",symbols:["create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1","create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"create_func$subexpression$1$ebnf$1$macrocall$1",symbols:["create_func$subexpression$1$ebnf$1$macrocall$2","create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"create_func$subexpression$1$ebnf$1",symbols:["create_func$subexpression$1$ebnf$1$macrocall$1"],postprocess:a},{name:"create_func$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_func$subexpression$1",symbols:["lparen","create_func$subexpression$1$ebnf$1","rparen"],postprocess:c(1)},{name:"create_func$ebnf$2",symbols:["func_spec"]},{name:"create_func$ebnf$2",symbols:["create_func$ebnf$2","func_spec"],postprocess:e=>e[0].concat([e[1]])},{name:"create_func",symbols:[r.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"create_func$ebnf$1","kw_function","qname","create_func$subexpression$1","create_func$ebnf$2"],postprocess:(e,t)=>{var s;const a={};for(const t of e[5]){for(const e in t)if("_"!==e[0]&&e in a)throw new Error("conflicting or redundant options "+e);Object.assign(a,t)}return(0,n.track)(e,{type:"create function",...e[1]&&{orReplace:!0},name:e[3],arguments:null!==(s=e[4])&&void 0!==s?s:[],...a})}},{name:"func_argdef$ebnf$1",symbols:["func_argopts"],postprocess:a},{name:"func_argdef$ebnf$1",symbols:[],postprocess:()=>null},{name:"func_argdef$ebnf$2",symbols:["func_argdefault"],postprocess:a},{name:"func_argdef$ebnf$2",symbols:[],postprocess:()=>null},{name:"func_argdef",symbols:["func_argdef$ebnf$1","data_type","func_argdef$ebnf$2"],postprocess:e=>(0,n.track)(e,{default:e[2],type:e[1],...e[0]})},{name:"func_argdefault",symbols:[r.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default,"expr"],postprocess:e=>e[1]},{name:"func_argdefault",symbols:[r.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"expr"],postprocess:e=>e[1]},{name:"func_argopts$ebnf$1",symbols:["word"],postprocess:a},{name:"func_argopts$ebnf$1",symbols:[],postprocess:()=>null},{name:"func_argopts",symbols:["func_argmod","func_argopts$ebnf$1"],postprocess:e=>(0,n.track)(e,{mode:_(e[0]),...e[1]&&{name:o(e[1])}})},{name:"func_argopts",symbols:["word"],postprocess:(e,t)=>{const s=o(e);return"out"===s||"inout"===s||"variadic"===s?t:(0,n.track)(e,{name:s})}},{name:"func_argmod",symbols:[r.lexerAny.has("kw_in")?{type:"kw_in"}:kw_in]},{name:"func_argmod",symbols:["kw_out"]},{name:"func_argmod",symbols:["kw_inout"]},{name:"func_argmod",symbols:["kw_variadic"]},{name:"func_spec",symbols:["kw_language","word"],postprocess:e=>(0,n.track)(e,{language:o(T(e))})},{name:"func_spec",symbols:["func_purity"],postprocess:e=>(0,n.track)(e,{purity:_(e)})},{name:"func_spec$subexpression$1",symbols:[r.lexerAny.has("codeblock")?{type:"codeblock"}:codeblock]},{name:"func_spec$subexpression$1",symbols:["string"]},{name:"func_spec",symbols:[r.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"func_spec$subexpression$1"],postprocess:e=>({code:_(T(e))})},{name:"func_spec$ebnf$1",symbols:[r.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:a},{name:"func_spec$ebnf$1",symbols:[],postprocess:()=>null},{name:"func_spec$subexpression$2",symbols:["word"],postprocess:d("leakproof")},{name:"func_spec",symbols:["func_spec$ebnf$1","func_spec$subexpression$2"],postprocess:e=>(0,n.track)(e,{leakproof:!e[0]})},{name:"func_spec",symbols:["func_returns"],postprocess:e=>(0,n.track)(e,{returns:E(e)})},{name:"func_spec$subexpression$3",symbols:["word"],postprocess:d("called")},{name:"func_spec",symbols:["func_spec$subexpression$3","oninp"],postprocess:()=>({onNullInput:"call"})},{name:"func_spec$subexpression$4",symbols:["word"],postprocess:d("returns")},{name:"func_spec",symbols:["func_spec$subexpression$4",r.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null,"oninp"],postprocess:()=>({onNullInput:"null"})},{name:"func_spec$subexpression$5",symbols:["word"],postprocess:d("strict")},{name:"func_spec",symbols:["func_spec$subexpression$5"],postprocess:()=>({onNullInput:"strict"})},{name:"func_purity",symbols:["word"],postprocess:d("immutable")},{name:"func_purity",symbols:["word"],postprocess:d("stable")},{name:"func_purity",symbols:["word"],postprocess:d("volatile")},{name:"oninp$subexpression$1",symbols:["word"],postprocess:d("input")},{name:"oninp",symbols:[r.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,r.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null,"oninp$subexpression$1"]},{name:"func_returns",symbols:["kw_returns","data_type"],postprocess:T},{name:"func_returns$macrocall$2",symbols:["func_ret_table_col"]},{name:"func_returns$macrocall$1$ebnf$1",symbols:[]},{name:"func_returns$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"func_returns$macrocall$2"],postprocess:T},{name:"func_returns$macrocall$1$ebnf$1",symbols:["func_returns$macrocall$1$ebnf$1","func_returns$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"func_returns$macrocall$1",symbols:["func_returns$macrocall$2","func_returns$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"func_returns",symbols:["kw_returns",r.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table,"lparen","func_returns$macrocall$1","rparen"],postprocess:e=>(0,n.track)(e,{kind:"table",columns:e[3]})},{name:"func_ret_table_col",symbols:["word","data_type"],postprocess:e=>(0,n.track)(e,{name:o(e[0]),type:e[1]})},{name:"do_stm$ebnf$1$subexpression$1",symbols:["kw_language","word"],postprocess:T},{name:"do_stm$ebnf$1",symbols:["do_stm$ebnf$1$subexpression$1"],postprocess:a},{name:"do_stm$ebnf$1",symbols:[],postprocess:()=>null},{name:"do_stm",symbols:[r.lexerAny.has("kw_do")?{type:"kw_do"}:kw_do,"do_stm$ebnf$1",r.lexerAny.has("codeblock")?{type:"codeblock"}:codeblock],postprocess:e=>(0,n.track)(e,{type:"do",...e[1]&&{language:o(e[1])},code:e[2].value})},{name:"drop_func$ebnf$1$subexpression$1",symbols:["kw_if","kw_exists"]},{name:"drop_func$ebnf$1",symbols:["drop_func$ebnf$1$subexpression$1"],postprocess:a},{name:"drop_func$ebnf$1",symbols:[],postprocess:()=>null},{name:"drop_func$ebnf$2",symbols:["drop_func_overload"],postprocess:a},{name:"drop_func$ebnf$2",symbols:[],postprocess:()=>null},{name:"drop_func",symbols:["kw_drop","kw_function","drop_func$ebnf$1","qname","drop_func$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"drop function",...e[2]&&{ifExists:!0},name:e[3],...e[4]&&{arguments:e[4]}})},{name:"drop_func_overload$macrocall$2",symbols:["drop_func_overload_col"]},{name:"drop_func_overload$macrocall$1$ebnf$1",symbols:[]},{name:"drop_func_overload$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"drop_func_overload$macrocall$2"],postprocess:T},{name:"drop_func_overload$macrocall$1$ebnf$1",symbols:["drop_func_overload$macrocall$1$ebnf$1","drop_func_overload$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"drop_func_overload$macrocall$1",symbols:["drop_func_overload$macrocall$2","drop_func_overload$macrocall$1$ebnf$1"],postprocess:([e,t])=>[E(e),...t.map(E)||[]]},{name:"drop_func_overload",symbols:["lparen","drop_func_overload$macrocall$1","rparen"],postprocess:c(1)},{name:"drop_func_overload_col$ebnf$1",symbols:["word"],postprocess:a},{name:"drop_func_overload_col$ebnf$1",symbols:[],postprocess:()=>null},{name:"drop_func_overload_col",symbols:["drop_func_overload_col$ebnf$1","qname"],postprocess:e=>(0,n.track)(e,{type:e[1],...e[0]&&{name:o(e[0])}})},{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement_separator"],postprocess:e=>e[0].concat([e[1]])},{name:"main$ebnf$2",symbols:[]},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:["statement_separator"]},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:["main$ebnf$2$subexpression$1$ebnf$1","statement_separator"],postprocess:e=>e[0].concat([e[1]])},{name:"main$ebnf$2$subexpression$1",symbols:["main$ebnf$2$subexpression$1$ebnf$1","statement"]},{name:"main$ebnf$2",symbols:["main$ebnf$2","main$ebnf$2$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"main$ebnf$3",symbols:[]},{name:"main$ebnf$3",symbols:["main$ebnf$3","statement_separator"],postprocess:e=>e[0].concat([e[1]])},{name:"main",symbols:["main$ebnf$1","statement","main$ebnf$2","main$ebnf$3"],postprocess:([e,t,s])=>{const a=s,r=[E(t),...a.map(e=>E(e[1]))];return 1===r.length?r[0]:r}},{name:"statement_separator",symbols:[r.lexerAny.has("semicolon")?{type:"semicolon"}:semicolon]},{name:"statement",symbols:["statement_noprep"]},{name:"statement",symbols:["prepare"]},{name:"statement",symbols:["deallocate"]},{name:"statement_noprep",symbols:["selection"]},{name:"statement_noprep",symbols:["createtable_statement"]},{name:"statement_noprep",symbols:["createextension_statement"]},{name:"statement_noprep",symbols:["createindex_statement"]},{name:"statement_noprep",symbols:["simplestatements_all"]},{name:"statement_noprep",symbols:["insert_statement"]},{name:"statement_noprep",symbols:["update_statement"]},{name:"statement_noprep",symbols:["altertable_statement"]},{name:"statement_noprep",symbols:["alterindex_statement"]},{name:"statement_noprep",symbols:["delete_statement"]},{name:"statement_noprep",symbols:["create_sequence_statement"]},{name:"statement_noprep",symbols:["alter_sequence_statement"]},{name:"statement_noprep",symbols:["drop_statement"]},{name:"statement_noprep",symbols:["createtype_statement"]},{name:"statement_noprep",symbols:["altertype_statement"]},{name:"statement_noprep",symbols:["create_view_statements"]},{name:"statement_noprep",symbols:["refresh_view_statements"]},{name:"statement_noprep",symbols:["create_schema"]},{name:"statement_noprep",symbols:["raise_statement"]},{name:"statement_noprep",symbols:["comment_statement"]},{name:"statement_noprep",symbols:["functions_statements"]},{name:"selection",symbols:["select_statement"],postprocess:E},{name:"selection",symbols:["select_values"],postprocess:E},{name:"selection",symbols:["with_statement"],postprocess:E},{name:"selection",symbols:["with_recursive_statement"],postprocess:E},{name:"selection",symbols:["union_statement"],postprocess:E},{name:"selection_paren",symbols:["lparen","selection","rparen"],postprocess:c(1)}],ParserStart:"main"};t.default=N},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(12),r={Lexer:a.lexerAny,ParserRules:[{name:"main$ebnf$1",symbols:["elements"],postprocess:function(e){return e[0]}},{name:"main$ebnf$1",symbols:[],postprocess:()=>null},{name:"main",symbols:[a.lexerAny.has("start_list")?{type:"start_list"}:start_list,"main$ebnf$1",a.lexerAny.has("end_list")?{type:"end_list"}:end_list],postprocess:e=>e[1]||[]},{name:"elements$ebnf$1",symbols:[]},{name:"elements$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"elt"],postprocess:e=>e&&e[e.length-1]},{name:"elements$ebnf$1",symbols:["elements$ebnf$1","elements$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"elements",symbols:["elt","elements$ebnf$1"],postprocess:([e,t])=>[e,...t||[]]},{name:"elt",symbols:[a.lexerAny.has("value")?{type:"value"}:value],postprocess:e=>e[0].value},{name:"elt",symbols:["main"],postprocess:e=>e[0]}],ParserStart:"main"};t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lexerAny=t.lexer=void 0;const a=s(0);var r;t.lexer=(0,a.compile)({valueString:{match:/"(?:\\["\\]|[^\n"\\])*"/,value:e=>JSON.parse(e),type:e=>"value"},valueRaw:{match:/[^\s,\{\}"](?:[^,\{\}"]*[^\s,\{\}"])?/,type:()=>"value"},comma:",",space:{match:/[\s\t\n\v\f\r]+/,lineBreaks:!0},start_list:"{",end_list:"}"}),t.lexer.next=(r=t.lexer.next,()=>{let e;for(;(e=r.call(t.lexer))&&"space"===e.type;);return e}),t.lexerAny=t.lexer},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(14),r=e=>t=>t[e],n=e=>e&&e[e.length-1];function o(e){return Array.isArray(e)&&1===e.length&&(e=o(e[0])),Array.isArray(e)&&!e.length?null:e}const l={Lexer:a.lexerAny,ParserRules:[{name:"number$subexpression$1",symbols:["float"]},{name:"number$subexpression$1",symbols:["int"]},{name:"number",symbols:["number$subexpression$1"],postprocess:o},{name:"float",symbols:[a.lexerAny.has("float")?{type:"float"}:float],postprocess:e=>parseFloat(o(e))},{name:"int",symbols:[a.lexerAny.has("int")?{type:"int"}:int],postprocess:e=>parseInt(o(e),10)},{name:"comma",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma],postprocess:function(e){return e[0]}},{name:"point$macrocall$2",symbols:["point_content"]},{name:"point$macrocall$1$subexpression$1",symbols:["point$macrocall$2"]},{name:"point$macrocall$1$subexpression$1",symbols:[a.lexerAny.has("lparen")?{type:"lparen"}:lparen,"point$macrocall$2",a.lexerAny.has("rparen")?{type:"rparen"}:rparen],postprocess:r(1)},{name:"point$macrocall$1",symbols:["point$macrocall$1$subexpression$1"],postprocess:o},{name:"point",symbols:["point$macrocall$1"],postprocess:o},{name:"point_content",symbols:["number","comma","number"],postprocess:e=>({x:e[0],y:e[2]})},{name:"line",symbols:[a.lexerAny.has("lcurl")?{type:"lcurl"}:lcurl,"number","comma","number","comma","number",a.lexerAny.has("rcurl")?{type:"rcurl"}:rcurl],postprocess:e=>({a:e[1],b:e[3],c:e[5]})},{name:"box",symbols:["closed_path"],postprocess:([e],t)=>2!==e.length?t:e},{name:"lseg",symbols:["path"],postprocess:([e],t)=>2!==e.path.length?t:e.path},{name:"path",symbols:["open_path"],postprocess:([e])=>({closed:!1,path:e})},{name:"path",symbols:["closed_path"],postprocess:([e])=>({closed:!0,path:e})},{name:"open_path$macrocall$2",symbols:[a.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket]},{name:"open_path$macrocall$3",symbols:[a.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket]},{name:"open_path$macrocall$1$macrocall$2",symbols:["point"]},{name:"open_path$macrocall$1$macrocall$1$ebnf$1",symbols:[]},{name:"open_path$macrocall$1$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"open_path$macrocall$1$macrocall$2"],postprocess:n},{name:"open_path$macrocall$1$macrocall$1$ebnf$1",symbols:["open_path$macrocall$1$macrocall$1$ebnf$1","open_path$macrocall$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"open_path$macrocall$1$macrocall$1",symbols:["open_path$macrocall$1$macrocall$2","open_path$macrocall$1$macrocall$1$ebnf$1"],postprocess:([e,t])=>[o(e),...t.map(o)||[]]},{name:"open_path$macrocall$1",symbols:["open_path$macrocall$2","open_path$macrocall$1$macrocall$1","open_path$macrocall$3"],postprocess:r(1)},{name:"open_path",symbols:["open_path$macrocall$1"],postprocess:n},{name:"closed_path$subexpression$1$macrocall$2",symbols:[a.lexerAny.has("lparen")?{type:"lparen"}:lparen]},{name:"closed_path$subexpression$1$macrocall$3",symbols:[a.lexerAny.has("rparen")?{type:"rparen"}:rparen]},{name:"closed_path$subexpression$1$macrocall$1$macrocall$2",symbols:["point"]},{name:"closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1",symbols:[]},{name:"closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"closed_path$subexpression$1$macrocall$1$macrocall$2"],postprocess:n},{name:"closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1",symbols:["closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1","closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"closed_path$subexpression$1$macrocall$1$macrocall$1",symbols:["closed_path$subexpression$1$macrocall$1$macrocall$2","closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1"],postprocess:([e,t])=>[o(e),...t.map(o)||[]]},{name:"closed_path$subexpression$1$macrocall$1",symbols:["closed_path$subexpression$1$macrocall$2","closed_path$subexpression$1$macrocall$1$macrocall$1","closed_path$subexpression$1$macrocall$3"],postprocess:r(1)},{name:"closed_path$subexpression$1",symbols:["closed_path$subexpression$1$macrocall$1"],postprocess:n},{name:"closed_path$subexpression$1$macrocall$5",symbols:["point"]},{name:"closed_path$subexpression$1$macrocall$4$ebnf$1",symbols:[]},{name:"closed_path$subexpression$1$macrocall$4$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"closed_path$subexpression$1$macrocall$5"],postprocess:n},{name:"closed_path$subexpression$1$macrocall$4$ebnf$1",symbols:["closed_path$subexpression$1$macrocall$4$ebnf$1","closed_path$subexpression$1$macrocall$4$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"closed_path$subexpression$1$macrocall$4",symbols:["closed_path$subexpression$1$macrocall$5","closed_path$subexpression$1$macrocall$4$ebnf$1"],postprocess:([e,t])=>[o(e),...t.map(o)||[]]},{name:"closed_path$subexpression$1",symbols:["closed_path$subexpression$1$macrocall$4"],postprocess:n},{name:"closed_path",symbols:["closed_path$subexpression$1"],postprocess:r(0)},{name:"polygon",symbols:["closed_path"],postprocess:r(0)},{name:"circle_body",symbols:["point","comma","number"],postprocess:e=>({c:e[0],r:e[2]})},{name:"circle$subexpression$1$macrocall$2",symbols:[a.lexerAny.has("lcomp")?{type:"lcomp"}:lcomp]},{name:"circle$subexpression$1$macrocall$3",symbols:[a.lexerAny.has("rcomp")?{type:"rcomp"}:rcomp]},{name:"circle$subexpression$1$macrocall$1",symbols:["circle$subexpression$1$macrocall$2","circle_body","circle$subexpression$1$macrocall$3"],postprocess:r(1)},{name:"circle$subexpression$1",symbols:["circle$subexpression$1$macrocall$1"]},{name:"circle$subexpression$1$macrocall$5",symbols:[a.lexerAny.has("lparen")?{type:"lparen"}:lparen]},{name:"circle$subexpression$1$macrocall$6",symbols:[a.lexerAny.has("rparen")?{type:"rparen"}:rparen]},{name:"circle$subexpression$1$macrocall$4",symbols:["circle$subexpression$1$macrocall$5","circle_body","circle$subexpression$1$macrocall$6"],postprocess:r(1)},{name:"circle$subexpression$1",symbols:["circle$subexpression$1$macrocall$4"]},{name:"circle$subexpression$1",symbols:["circle_body"]},{name:"circle",symbols:["circle$subexpression$1"],postprocess:o}],ParserStart:"number"};t.default=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lexerAny=t.lexer=void 0;const a=s(0);var r;t.lexer=(0,a.compile)({comma:",",space:{match:/[\s\t\n\v\f\r]+/,lineBreaks:!0},int:/\-?\d+(?![\.\d])/,float:/\-?(?:(?:\d*\.\d+)|(?:\d+\.\d*))/,lcurl:"{",rcurl:"}",lparen:"(",rparen:")",lbracket:"[",rbracket:"]",lcomp:"<",rcomp:">"}),t.lexer.next=(r=t.lexer.next,()=>{let e;for(;(e=r.call(t.lexer))&&"space"===e.type;);return e}),t.lexerAny=t.lexer},function(e,t,s){"use strict";function a(e){return e[0]}Object.defineProperty(t,"__esModule",{value:!0});const r=s(16),n={Lexer:r.lexerAny,ParserRules:[{name:"main$ebnf$1",symbols:["elt"]},{name:"main$ebnf$1",symbols:["main$ebnf$1","elt"],postprocess:e=>e[0].concat([e[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([e])=>{const t=new Set;for(const s of e){const e="number"==typeof s[1]?s[0]:"time";if(t.has(e))return"invalid";t.add(e)}return e}},{name:"elt",symbols:["time"]},{name:"elt",symbols:["num","unit"],postprocess:([[e],t])=>[t=t[0].type,e]},{name:"unit",symbols:[r.lexerAny.has("years")?{type:"years"}:years]},{name:"unit",symbols:[r.lexerAny.has("months")?{type:"months"}:months]},{name:"unit",symbols:[r.lexerAny.has("days")?{type:"days"}:days]},{name:"unit",symbols:[r.lexerAny.has("hours")?{type:"hours"}:hours]},{name:"unit",symbols:[r.lexerAny.has("minutes")?{type:"minutes"}:minutes]},{name:"unit",symbols:[r.lexerAny.has("seconds")?{type:"seconds"}:seconds]},{name:"unit",symbols:[r.lexerAny.has("milliseconds")?{type:"milliseconds"}:milliseconds]},{name:"num",symbols:["int"]},{name:"num",symbols:["float"]},{name:"uint",symbols:[r.lexerAny.has("int")?{type:"int"}:int],postprocess:([e])=>parseInt(e,10)},{name:"int$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("neg")?{type:"neg"}:neg]},{name:"int$ebnf$1",symbols:["int$ebnf$1$subexpression$1"],postprocess:a},{name:"int$ebnf$1",symbols:[],postprocess:()=>null},{name:"int",symbols:["int$ebnf$1",r.lexerAny.has("int")?{type:"int"}:int],postprocess:([e,t])=>parseInt(t,10)*(e?-1:1)},{name:"float$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("neg")?{type:"neg"}:neg]},{name:"float$ebnf$1",symbols:["float$ebnf$1$subexpression$1"],postprocess:a},{name:"float$ebnf$1",symbols:[],postprocess:()=>null},{name:"float$ebnf$2",symbols:[r.lexerAny.has("int")?{type:"int"}:int],postprocess:a},{name:"float$ebnf$2",symbols:[],postprocess:()=>null},{name:"float",symbols:["float$ebnf$1","float$ebnf$2",r.lexerAny.has("dot")?{type:"dot"}:dot,r.lexerAny.has("int")?{type:"int"}:int],postprocess:([e,...t])=>parseFloat(t.map(e=>e?e.text:"0").join(""))*(e?-1:1)},{name:"time$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("colon")?{type:"colon"}:colon,"uint"]},{name:"time$ebnf$1",symbols:["time$ebnf$1$subexpression$1"],postprocess:a},{name:"time$ebnf$1",symbols:[],postprocess:()=>null},{name:"time$ebnf$2$subexpression$1",symbols:[r.lexerAny.has("dot")?{type:"dot"}:dot,r.lexerAny.has("int")?{type:"int"}:int]},{name:"time$ebnf$2",symbols:["time$ebnf$2$subexpression$1"],postprocess:a},{name:"time$ebnf$2",symbols:[],postprocess:()=>null},{name:"time",symbols:["uint",r.lexerAny.has("colon")?{type:"colon"}:colon,"uint","time$ebnf$1","time$ebnf$2"],postprocess:([e,t,s,a,r])=>{const n="number"==typeof(a=a&&a[1])?[["hours",e],["minutes",s],["seconds",a]]:[["minutes",e],["seconds",s]];return(r=r&&r[1])&&n.push(["milliseconds",1e3*parseFloat("0."+r)]),n}}],ParserStart:"main"};t.default=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lexerAny=t.lexer=void 0;const a=s(0);var r;t.lexer=(0,a.compile)({int:/\d+/,neg:"-",dot:".",years:/(?:y|yrs?|years?)\b/,months:/(?:mon(?:th)?s?)\b/,days:/(?:d|days?)\b/,hours:/(?:h|hrs?|hours?)\b/,minutes:/(?:m|mins?|minutes?)\b/,seconds:/(?:s|secs?|seconds?)\b/,milliseconds:/(?:ms|milliseconds?)\b/,space:{match:/[\s\t\n\v\f\r]+/,lineBreaks:!0},colon:":"}),t.lexer.next=(r=t.lexer.next,()=>{let e;for(;(e=r.call(t.lexer))&&"space"===e.type;);return e}),t.lexerAny=t.lexer},function(e,t,s){"use strict";function a(e){return e[0]}Object.defineProperty(t,"__esModule",{value:!0});const r=s(18),n={Lexer:r.lexerAny,ParserRules:[{name:"num",symbols:[r.lexerAny.has("int")?{type:"int"}:int]},{name:"num",symbols:[r.lexerAny.has("float")?{type:"float"}:float]},{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","long"],postprocess:e=>e[0].concat([e[1]])},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:["short"]},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:["main$ebnf$2$subexpression$1$ebnf$1","short"],postprocess:e=>e[0].concat([e[1]])},{name:"main$ebnf$2$subexpression$1",symbols:[r.lexerAny.has("T")?{type:"T"}:T,"main$ebnf$2$subexpression$1$ebnf$1"]},{name:"main$ebnf$2",symbols:["main$ebnf$2$subexpression$1"],postprocess:a},{name:"main$ebnf$2",symbols:[],postprocess:()=>null},{name:"main",symbols:[r.lexerAny.has("P")?{type:"P"}:P,"main$ebnf$1","main$ebnf$2"],postprocess:([e,t,s],a)=>(s=s?s[1]:[],t.length||s.length?t.length?s.length?[...t,...s]:t:s:a)},{name:"long$subexpression$1",symbols:[r.lexerAny.has("Y")?{type:"Y"}:Y]},{name:"long$subexpression$1",symbols:[r.lexerAny.has("M")?{type:"M"}:M]},{name:"long$subexpression$1",symbols:[r.lexerAny.has("W")?{type:"W"}:W]},{name:"long$subexpression$1",symbols:[r.lexerAny.has("D")?{type:"D"}:D]},{name:"long",symbols:["num","long$subexpression$1"],postprocess:([e,t])=>{switch(e=parseFloat(e[0].value),t=t[0].type){case"Y":return["years",e];case"M":return["months",e];case"W":return["days",7*e];case"D":return["days",e];default:throw new Error("Unexpected unit "+t)}}},{name:"short$ebnf$1",symbols:[r.lexerAny.has("T")?{type:"T"}:T],postprocess:a},{name:"short$ebnf$1",symbols:[],postprocess:()=>null},{name:"short$subexpression$1",symbols:[r.lexerAny.has("H")?{type:"H"}:H]},{name:"short$subexpression$1",symbols:[r.lexerAny.has("M")?{type:"M"}:M]},{name:"short$subexpression$1",symbols:[r.lexerAny.has("S")?{type:"S"}:S]},{name:"short",symbols:["short$ebnf$1","num","short$subexpression$1"],postprocess:([e,t,s])=>{switch(t=parseFloat(t[0].value),s=s[0].type){case"H":return["hours",t];case"M":return["minutes",t];case"S":return["seconds",t];default:throw new Error("Unexpected unit "+s)}}}],ParserStart:"num"};t.default=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lexerAny=t.lexer=void 0;const a=s(0);t.lexer=(0,a.compile)({int:/\-?\d+(?![\.\d])/,float:/\-?(?:(?:\d*\.\d+)|(?:\d+\.\d*))/,P:"P",Y:"Y",M:"M",W:"W",D:"D",H:"H",S:"S",T:"T"}),t.lexerAny=t.lexer},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSql=void 0;const a=s(2),r=s(5),n=s(6),o=s(20),l=s(3),i=new Set(l.sqlKeywords.map(e=>e.toLowerCase()));let E=[];function c(e){return T(e.name)}function T(e,t){if(!t){const t=e.toLowerCase();if(t===e&&!i.has(t)&&/^[a-z][a-z0-9_]*$/.test(t))return e}return'"'+e+'"'}function p(e,t,s){s&&E.push("(");let a=!0;for(const s of e)a||E.push(", "),a=!1,t(s);s&&E.push(")")}function u(e,t){switch(e.type){case"foreign key":E.push(" foreign key (",...e.localColumns.map(c).join(", "),")");case"reference":E.push(" REFERENCES "),t.tableRef(e.foreignTable),E.push("(",...e.foreignColumns.map(c).join(", "),") "),e.match&&E.push(" MATCH ",e.match.toUpperCase()),e.onDelete&&E.push(" ON DELETE ",e.onDelete),e.onUpdate&&E.push(" ON UPDATE ",e.onUpdate);break;case"primary key":case"unique":E.push(" ",e.type," "),"columns"in e&&E.push("(",...e.columns.map(c).join(", "),") ");break;case"check":E.push(" check "),t.expr(e.expr);break;case"not null":case"null":E.push(" ",e.type," ");break;case"default":E.push(" default "),t.expr(e.default);break;case"add generated":E.push(" GENERATED "),S(t,e);break;default:throw n.NotSupported.never(e)}E.push(" ")}function m(e,t){e.schema&&E.push(T(e.schema),"."),E.push(T(e.name,t)," ")}function _(e){m(e),e.alias&&E.push(" AS ",T(e.alias)," ")}function A(e,t){E.push(" ORDER BY "),p(t,t=>{e.expr(t.by),t.order&&E.push(" ",t.order," "),t.nulls&&E.push(" NULLS ",t.nulls," ")},!1)}function R(e){switch(e.type){case"default":E.push("DEFAULT ");break;case"identifier":E.push(e.name);break;case"list":let t=!0;for(const s of e.values)t||E.push(", "),t=!1,R(s);break;case"value":E.push("number"==typeof e.value?e.value.toString():(0,o.literal)(e.value));break;default:throw n.NotSupported.never(e)}}function S(e,t){t.always&&E.push(t.always.toUpperCase()," "),E.push("AS IDENTITY "),t.sequence&&(E.push("("),t.sequence.name&&(E.push("SEQUENCE NAME "),m(t.sequence.name),E.push(" ")),d(e,t.sequence),E.push(") "))}function d(e,t){t.as&&(E.push("AS "),e.dataType(t.as),E.push(" ")),"number"==typeof t.incrementBy&&E.push("INCREMENT BY ",t.incrementBy.toString()," "),"no minvalue"===t.minValue&&E.push("NO MINVALUE "),"number"==typeof t.minValue&&E.push("MINVALUE ",t.minValue.toString()," "),"no maxvalue"===t.maxValue&&E.push("NO MAXVALUE "),"number"==typeof t.maxValue&&E.push("MAXVALUE ",t.maxValue.toString()," "),"number"==typeof t.startWith&&E.push("START WITH ",t.startWith.toString()," "),"number"==typeof t.cache&&E.push("CACHE ",t.cache.toString()," "),t.cycle&&E.push(t.cycle," "),"none"===t.ownedBy?E.push("OWNED BY NONE "):t.ownedBy&&(E.push("OWNED BY "),O(t.ownedBy)),"restart"in t&&(!0===t.restart?E.push("RESTART "):t.restart&&E.push("RESTART WITH ",t.restart.toString()," "))}function O(e){e.schema&&E.push(T(e.schema),"."),E.push(T(e.table),".",T(e.column)," ")}function I(e,t,s){t?(E.push(t.type," "),s(),t.on&&(E.push("ON "),e.expr(t.on)),t.using&&(E.push("USING ("),p(t.using,e=>E.push(c(e)),!1),E.push(") ")),E.push(" ")):s()}function N(e){e.opSchema?E.push(" operator(",T(e.opSchema),".",e.op,") "):E.push(" ",e.op," ")}const b=(0,r.astVisitor)(e=>({addColumn:(...t)=>{E.push(" ADD COLUMN "),t[0].ifNotExists&&E.push("IF NOT EXISTS "),e.super().addColumn(...t)},createExtension:e=>{E.push("CREATE EXTENSION "),e.ifNotExists&&E.push(" IF NOT EXISTS "),E.push(c(e.extension)),(e.from||e.version||e.schema)&&(E.push(" WITH"),e.schema&&E.push(" SCHEMA ",c(e.schema)),e.version&&E.push(" VERSION ",(0,o.literal)(e.version.value)),e.from&&E.push(" FROM ",(0,o.literal)(e.from.value)))},tablespace:e=>{E.push("TABLESPACE ",c(e.tablespace))},addConstraint:t=>{E.push(" ADD ");const s=t.constraint.constraintName;s&&E.push(" CONSTRAINT ",c(s)," "),u(t.constraint,e)},alterColumn:(t,s)=>{E.push(" ALTER COLUMN ",c(t.column)," "),e.super().alterColumn(t,s)},setColumnDefault:(t,s,a)=>{if(E.push(" SET DEFAULT "),e.expr(t.default),t.updateExisting)throw new Error("Not implemented: updateExisting on set column default")},createEnum:e=>{E.push("CREATE TYPE "),m(e.name),E.push(" AS ENUM "),p(e.values,e=>E.push((0,o.literal)(e.value)),!0),E.push(" ")},alterEnum:e=>{E.push("ALTER TYPE "),m(e.name),"rename"===e.change.type?(E.push(" RENAME TO "),m(e.change.to)):E.push(" ADD VALUE ",(0,o.literal)(e.change.add.value))},createCompositeType:t=>{E.push("CREATE TYPE "),m(t.name),E.push(" AS "),p(t.attributes,t=>{E.push(c(t.name)," "),e.dataType(t.dataType),t.collate&&(E.push("COLLATE "),m(t.collate))},!0),E.push(" ")},setTableOwner:e=>{E.push(" OWNER TO ",c(e.to))},alterColumnSimple:e=>E.push(e.type),alterColumnAddGenerated:t=>{E.push(" ADD GENERATED "),S(e,t)},setColumnType:t=>{E.push(" SET DATA TYPE "),e.dataType(t.dataType),E.push(" ")},alterTable:t=>{E.push("ALTER TABLE "),t.ifExists&&E.push(" IF EXISTS "),t.only&&E.push(" ONLY "),_(t.table),p(t.changes,s=>e.tableAlteration(s,t.table),!1)},alterIndex:e=>{switch(E.push("ALTER INDEX "),e.ifExists&&E.push(" IF EXISTS "),_(e.index),e.change.type){case"rename":E.push(" RENAME TO "),m(e.change.to),E.push(" ");break;case"set tablespace":E.push(" SET TABLESPACE "),m(e.change.tablespace),E.push(" ");break;default:throw n.NotSupported.never(e.change,"Alter index type not supported: ")}},tableAlteration:(t,s)=>{switch(t.type){case"add column":return e.addColumn(t,s);case"add constraint":return e.addConstraint(t,s);case"alter column":return e.alterColumn(t,s);case"rename":return e.renameTable(t,s);case"rename column":return e.renameColumn(t,s);case"rename constraint":return e.renameConstraint(t,s);case"drop column":return e.dropColumn(t,s);case"drop constraint":return e.dropConstraint(t,s);case"owner":return e.setTableOwner(t,s);default:throw n.NotSupported.never(t)}},array:t=>{E.push("array"===t.type?"ARRAY[":"("),p(t.expressions,t=>e.expr(t),!1),E.push("array"===t.type?"]":")")},arrayIndex:t=>{e.expr(t.array),E.push("["),e.expr(t.index),E.push("] ")},expr:t=>{"ref"!==t.type?"list"!==t.type?(E.push("("),e.super().expr(t),E.push(")")):e.super().expr(t):e.ref(t)},callOverlay:t=>{E.push("OVERLAY("),e.expr(t.value),E.push(" PLACING "),e.expr(t.placing),E.push(" FROM "),e.expr(t.from),t.for&&(E.push(" FOR "),e.expr(t.for)),E.push(")")},callSubstring:t=>{E.push("SUBSTRING("),e.expr(t.value),t.from&&(E.push(" FROM "),e.expr(t.from)),t.for&&(E.push(" FOR "),e.expr(t.for)),E.push(")")},binary:t=>{e.expr(t.left),N(t),e.expr(t.right)},call:t=>{m(t.function),E.push("("),t.distinct&&E.push(t.distinct," "),p(t.args,t=>e.expr(t),!1),t.orderBy&&A(e,t.orderBy),E.push(") "),t.filter&&(E.push("filter (where "),e.expr(t.filter),E.push(") ")),t.withinGroup&&(E.push("WITHIN GROUP ("),A(e,[t.withinGroup]),E.push(") ")),t.over&&(E.push("over ("),t.over.partitionBy&&(E.push("PARTITION BY "),p(t.over.partitionBy,t=>e.expr(t),!1),E.push(" ")),t.over.orderBy&&(A(e,t.over.orderBy),E.push(" ")),E.push(") "))},case:t=>{E.push("CASE "),t.value&&e.expr(t.value);for(const s of t.whens)E.push(" WHEN "),e.expr(s.when),E.push(" THEN "),e.expr(s.value);t.else&&(E.push(" ELSE "),e.expr(t.else)),E.push(" END ")},cast:t=>{e.expr(t.operand),E.push("::"),e.dataType(t.to)},constant:e=>{switch(e.type){case"boolean":E.push(e.value?"true":"false");break;case"integer":E.push(e.value.toString(10));break;case"numeric":E.push(e.value.toString()),Number.isInteger(e.value)&&E.push(".");break;case"null":E.push("null");break;case"constant":break;case"string":E.push((0,o.literal)(e.value));break;default:throw n.NotSupported.never(e)}},valueKeyword:e=>{E.push(e.keyword," ")},comment:e=>{if(E.push("COMMENT ON ",e.on.type.toUpperCase()," "),"column"===e.on.type)O(e.on.column);else m(e.on.name);E.push(" IS ",(0,o.literal)(e.comment)," ")},extract:t=>{E.push("EXTRACT (",t.field.name.toUpperCase()," FROM "),e.expr(t.from),E.push(") ")},createColumn:t=>{var s;E.push(c(t.name)," "),e.dataType(t.dataType),E.push(" "),t.collate&&(E.push("COLLATE "),m(t.collate));for(const a of null!==(s=t.constraints)&&void 0!==s?s:[])e.constraint(a)},begin:e=>{E.push("BEGIN "),e.isolationLevel&&E.push("ISOLATION LEVEL ",e.isolationLevel.toUpperCase()," "),e.writeable&&E.push(e.writeable.toUpperCase()," "),"boolean"==typeof e.deferrable&&(e.deferrable||E.push("NOT "),E.push("DEFERRABLE "))},alterSequence:t=>{switch(E.push("ALTER SEQUENCE "),t.ifExists&&E.push("IF EXISTS "),m(t.name),t.change.type){case"set options":d(e,t.change);break;case"rename":E.push("RENAME TO ",c(t.change.newName)," ");break;case"set schema":E.push("SET SCHEMA ",c(t.change.newSchema)," ");break;case"owner to":t.change.owner;E.push("OWNER TO ",c(t.change.owner)," ");break;default:throw n.NotSupported.never(t.change)}},createSequence:t=>{E.push("CREATE "),t.temp&&E.push("TEMPORARY "),E.push("SEQUENCE "),t.ifNotExists&&E.push("IF NOT EXISTS "),m(t.name),d(e,t.options)},drop:t=>{E.push(t.type.toUpperCase()," "),t.concurrently&&E.push("CONCURRENTLY "),t.ifExists&&E.push("IF EXISTS "),p(t.names,t=>e.tableRef(t),!1),t.cascade&&E.push(t.cascade.toUpperCase()," ")},constraint:t=>{t.constraintName&&E.push(" CONSTRAINT ",c(t.constraintName)," "),u(t,e)},do:e=>{E.push("DO"),e.language&&E.push(" LANGUAGE ",e.language.name),E.push(" $$",e.code,"$$")},createFunction:t=>{var s;if(E.push(t.orReplace?"CREATE OR REPLACE FUNCTION ":"CREATE FUNCTION "),m(t.name),p(t.arguments,t=>{t.mode&&E.push(t.mode," "),t.name&&E.push(c(t.name)," "),e.dataType(t.type),t.default&&(E.push(" = "),e.expr(t.default))},!0),t.returns)switch(t.returns.kind){case"table":E.push(" RETURNS TABLE "),p(t.returns.columns,t=>{E.push(c(t.name)," "),e.dataType(t.type)},!0);break;case void 0:case null:case"array":E.push(" RETURNS "),e.dataType(t.returns);break;default:throw n.NotSupported.never(t.returns)}switch(E.push(" AS $$",null!==(s=t.code)&&void 0!==s?s:"","$$"),t.language&&E.push("LANGUAGE ",t.language.name," "),t.purity&&E.push(t.purity.toUpperCase()," "),"boolean"==typeof t.leakproof&&E.push(t.leakproof?"LEAKPROOF ":"NOT LEAKPROOF "),t.onNullInput){case"call":E.push("CALLED ON NULL INPUT ");break;case"null":E.push("RETURNS NULL ON NULL INPUT ");break;case"strict":E.push("STRICT ");break;case null:case void 0:break;default:throw n.NotSupported.never(t.onNullInput)}},dropFunction:t=>{E.push("DROP FUNCTION "),t.ifExists&&E.push("IF EXISTS "),m(t.name),t.arguments&&p(t.arguments,t=>{t.name&&(m(t.name),E.push(" ")),e.dataType(t.type)},!0),E.push(" ")},with:t=>{E.push("WITH "),p(t.bind,t=>{E.push(c(t.alias)," AS ("),e.statement(t.statement),E.push(") ")},!1),e.statement(t.in)},withRecursive:t=>{E.push("WITH RECURSIVE ",c(t.alias),"(",...t.columnNames.map(c).join(", "),") AS ("),e.union(t.bind),E.push(") "),e.statement(t.in)},setGlobal:e=>{E.push("SET "),e.scope&&E.push(e.scope.toUpperCase()+" "),E.push(c(e.variable)," = "),R(e.set)},setTimezone:e=>{switch(E.push("SET TIME ZONE "),e.to.type){case"default":case"local":E.push(e.to.type.toUpperCase()," ");break;case"value":E.push("string"==typeof e.to.value?(0,o.literal)(e.to.value):e.to.value.toString(10));break;case"interval":E.push("INTERVAL ",(0,o.literal)(e.to.value)," HOUR TO MINUTE");break;default:throw n.NotSupported.never(e.to)}},setNames:e=>{if(E.push("SET NAMES "),"value"===e.to.type)E.push((0,o.literal)(e.to.value))},dataType:t=>{var s,a;if("array"===(null==t?void 0:t.kind))return e.dataType(t.arrayOf),void E.push("[]");if(!(null==t?void 0:t.name))return void E.push("unkown");let r=!0;if(t.schema)m(t,t.doubleQuoted);else if(t.doubleQuoted)m(t,!0);else switch(t.name){case"double precision":case"character varying":case"bit varying":E.push(t.name," ");break;case"time without time zone":case"timestamp without time zone":case"time with time zone":case"timestamp with time zone":const e=t.name.split(" ");E.push(e.shift()),(null===(s=t.config)||void 0===s?void 0:s.length)&&p(t.config,e=>E.push(e.toString(10)),!0),E.push(" "),E.push(e.join(" ")," "),r=!1;break;default:m(t)}r&&(null===(a=t.config)||void 0===a?void 0:a.length)&&p(t.config,e=>E.push(e.toString(10)),!0)},createIndex:t=>{E.push(t.unique?"CREATE UNIQUE INDEX ":"CREATE INDEX "),t.concurrently&&E.push("CONCURRENTLY "),t.ifNotExists&&E.push(" IF NOT EXISTS "),t.indexName&&E.push(c(t.indexName)," "),E.push("ON "),e.tableRef(t.table),t.using&&E.push("USING ",c(t.using)," "),p(t.expressions,t=>{e.expr(t.expression),E.push(" "),t.collate&&(E.push("COLLATE "),m(t.collate)),t.opclass&&m(t.opclass),t.order&&E.push(t.order," "),t.nulls&&E.push("nulls ",t.nulls," ")},!0),t.with&&(E.push("WITH "),p(t.with,e=>{E.push(e.parameter," = ",(0,o.literal)(e.value))},!0)),t.tablespace&&E.push("TABLESPACE ",T(t.tablespace)),t.where&&(E.push(" WHERE "),e.expr(t.where)),E.push(" ")},createTable:t=>{var s;E.push("CREATE "),t.locality&&E.push(t.locality.toUpperCase()," "),t.temporary&&E.push("TEMPORARY "),t.unlogged&&E.push("UNLOGGED "),E.push(t.ifNotExists?"TABLE IF NOT EXISTS ":"TABLE "),e.tableRef(t.name),E.push("("),p(t.columns,t=>{switch(t.kind){case"column":return e.createColumn(t);case"like table":return e.likeTable(t);default:throw n.NotSupported.never(t)}},!1),t.constraints&&(E.push(", "),p(t.constraints,t=>{const s=t.constraintName;s&&E.push("CONSTRAINT ",c(s)," "),u(t,e)},!1)),E.push(") "),(null===(s=t.inherits)||void 0===s?void 0:s.length)&&(E.push(" INHERITS "),p(t.inherits,e=>m(e),!0))},likeTable:t=>{E.push(" LIKE "),e.tableRef(t.like),E.push(" ");for(const{verb:e,option:s}of t.options)E.push(e.toUpperCase()," ",s.toUpperCase()," ")},createSchema:e=>{E.push(e.ifNotExists?"CREATE SCHEMA IF NOT EXISTS ":"CREATE SCHEMA "),E.push(c(e.name))},truncateTable:t=>{E.push("TRUNCATE TABLE ");let s=!0;for(const a of t.tables)s||E.push(", "),s=!1,e.tableRef(a);if(t.identity)switch(t.identity){case"restart":E.push(" RESTART IDENTITY ");break;case"continue":E.push(" CONTINUE IDENTITY ")}t.cascade&&E.push(" ",t.cascade," ")},delete:t=>{E.push("DELETE FROM "),e.tableRef(t.from),t.where&&(E.push(" WHERE "),e.expr(t.where)),t.returning&&(E.push(" RETURNING "),p(t.returning,t=>e.selectionColumn(t),!1)),E.push(" ")},dropColumn:e=>{E.push(" DROP COLUMN "),e.ifExists&&E.push(" IF EXISTS "),E.push(c(e.column)),e.behaviour&&E.push(" ",e.behaviour),E.push(" ")},dropConstraint:e=>{E.push(" DROP CONSTRAINT "),e.ifExists&&E.push(" IF EXISTS "),E.push(c(e.constraint)),e.behaviour&&E.push(" ",e.behaviour.toUpperCase()," ")},from:t=>e.super().from(t),fromCall:t=>{I(e,t.join,()=>{var s,a;if(t.lateral&&E.push("LATERAL "),e.call(t),t.withOrdinality&&E.push(" WITH ORDINALITY"),t.alias){E.push(" AS ",c(t.alias)," ");const e=null!==(a=null===(s=t.alias.columns)||void 0===s?void 0:s.length)&&void 0!==a?a:0;if(e>0){E.push("(");for(let s=0;s<e;++s)0!==s&&E.push(", "),E.push(c(t.alias.columns[s]));E.push(")")}}}),E.push(" ")},fromStatement:t=>{I(e,t.join,()=>{t.lateral&&E.push("LATERAL "),E.push("("),e.select(t.statement),E.push(") "),t.alias&&(E.push(" AS ",T(t.alias)),t.columnNames&&p(t.columnNames,e=>E.push(c(e)),!0),E.push(" "))}),E.push(" ")},values:t=>{E.push("VALUES "),p(t.values,t=>{p(t,t=>{e.expr(t)},!0)},!1)},fromTable:t=>{I(e,t.join,()=>{if(e.tableRef(t.name),t.name.columnNames){if(!t.name.alias)throw new Error("Cannot specify aliased column names without an alias");p(t.name.columnNames,e=>E.push(c(e)),!0)}})},join:e=>{throw new Error("Should not happen 💀")},insert:t=>{if(E.push("INSERT INTO "),e.tableRef(t.into),t.columns&&E.push("(",t.columns.map(c).join(", "),")"),E.push(" "),t.overriding&&E.push("OVERRIDING ",t.overriding.toUpperCase()," VALUE "),e.select(t.insert),E.push(" "),t.onConflict){E.push("ON CONFLICT ");const s=t.onConflict.on;switch(null==s?void 0:s.type){case"on expr":p(s.exprs,t=>e.expr(t),!0);break;case"on constraint":E.push("ON CONSTRAINT "),m(s.constraint);case null:case void 0:break;default:throw n.NotSupported.never(s)}"do nothing"===t.onConflict.do?E.push(" DO NOTHING"):(E.push(" DO UPDATE SET "),p(t.onConflict.do.sets,t=>e.set(t),!1),t.onConflict.where&&(E.push(" WHERE "),e.expr(t.onConflict.where))),E.push(" ")}t.returning&&(E.push(" RETURNING "),p(t.returning,t=>e.selectionColumn(t),!1))},raise:t=>{var s,a;E.push("RAISE "),t.level&&E.push(t.level.toUpperCase()," "),E.push((0,o.literal)(t.format)," "),(null===(s=t.formatExprs)||void 0===s?void 0:s.length)&&(E.push(", "),p(t.formatExprs,t=>e.expr(t),!1)),(null===(a=t.using)||void 0===a?void 0:a.length)&&(E.push(" USING "),p(t.using,({type:t,value:s})=>{E.push(t.toUpperCase(),"="),e.expr(s)},!1)),E.push(" ")},default:()=>{E.push(" DEFAULT ")},member:t=>{e.expr(t.operand),E.push(t.op),E.push("number"==typeof t.member?t.member.toString(10):(0,o.literal)(t.member))},ref:e=>{e.table&&(m(e.table),E.push(".")),E.push("*"===e.name?"*":T(e.name))},parameter:e=>{E.push(e.name)},renameColumn:e=>{E.push(" RENAME COLUMN ",c(e.column)," TO ",c(e.to))},renameConstraint:e=>{E.push(" RENAME CONSTRAINT ",c(e.constraint)," TO ",c(e.to))},renameTable:e=>{E.push(" RENAME TO ",c(e.to))},createView:t=>{E.push("CREATE "),t.orReplace&&E.push("OR REPLACE "),t.temp&&E.push("TEMP "),t.recursive&&E.push("RECURSIVE "),E.push("VIEW "),e.tableRef(t.name),t.columnNames&&p(t.columnNames,e=>E.push(c(e)),!0);const s=t.parameters&&Object.entries(t.parameters);(null==s?void 0:s.length)&&(E.push(" WITH "),p(s,([e,t])=>E.push(e,"=",t),!1)),E.push(" AS "),e.select(t.query),t.checkOption&&E.push(" WITH ",t.checkOption.toUpperCase()," CHECK OPTION")},createMaterializedView:t=>{E.push("CREATE MATERIALIZED VIEW "),t.ifNotExists&&E.push("IF NOT EXISTS "),e.tableRef(t.name),t.columnNames&&p(t.columnNames,e=>E.push(c(e)),!0);const s=t.parameters&&Object.entries(t.parameters);(null==s?void 0:s.length)&&(E.push(" WITH "),p(s,([e,t])=>E.push(e,"=",t),!1)),t.tablespace&&E.push(" TABLESPACE ",c(t.tablespace)),E.push(" AS "),e.select(t.query),"boolean"==typeof t.withData&&E.push(t.withData?" WITH DATA":" WITH NO DATA")},refreshMaterializedView:t=>{E.push("REFRESH MATERIALIZED VIEW "),t.concurrently&&E.push("CONCURRENTLY "),e.tableRef(t.name),"boolean"==typeof t.withData&&E.push(t.withData?" WITH DATA":" WITH NO DATA")},select:t=>e.super().select(t),selection:t=>{if(E.push("SELECT "),t.distinct&&("string"==typeof t.distinct?E.push(t.distinct.toUpperCase()):(E.push(" DISTINCT ON "),p(t.distinct,t=>e.expr(t),!0)),E.push(" ")),t.columns&&p(t.columns,t=>e.selectionColumn(t),!1),E.push(" "),t.from){E.push("FROM ");const s=t.from.length;for(let a=0;a<s;a++){const s=t.from[a];a>0&&!s.join&&E.push(","),e.from(s)}E.push(" ")}t.where&&(E.push("WHERE "),e.expr(t.where),E.push(" ")),t.groupBy&&(E.push("GROUP BY "),p(t.groupBy,t=>e.expr(t),!1),E.push(" "),t.having&&(E.push(" HAVING "),e.expr(t.having),E.push(" "))),t.orderBy&&(A(e,t.orderBy),E.push(" ")),t.limit&&(t.limit.offset&&(E.push("OFFSET "),e.expr(t.limit.offset)),t.limit.limit&&(E.push("LIMIT "),e.expr(t.limit.limit))),t.for&&(E.push("FOR ",t.for.type.toUpperCase()),t.skip&&E.push(" ",t.skip.type.toUpperCase()))},show:e=>{E.push("SHOW ",c(e.variable))},prepare:t=>{var s;E.push("PREPARE ",c(t.name)),(null===(s=t.args)||void 0===s?void 0:s.length)&&p(t.args,t=>e.dataType(t),!0),E.push(" AS "),e.statement(t.statement)},deallocate:e=>{E.push("DEALLOCATE "),"name"in e.target?E.push(e.target.name):E.push("ALL")},arraySelect:t=>{E.push("array("),e.select(t.select),E.push(")")},union:t=>{E.push("("),e.statement(t.left),E.push(") ",t.type.toUpperCase()," "),"union"===t.right.type||"union all"===t.right.type?e.union(t.right):(E.push("("),e.statement(t.right),E.push(")"))},selectionColumn:t=>{e.expr(t.expr),t.alias&&E.push(" AS ",c(t.alias)),E.push(" ")},set:t=>{E.push(c(t.column)," = "),e.expr(t.value),E.push(" ")},statement:t=>e.super().statement(t),tableRef:e=>{m(e),e.alias&&E.push(" AS ",T(e.alias)),E.push(" ")},ternary:t=>{e.expr(t.value),E.push(" ",t.op," "),e.expr(t.lo),E.push(" AND "),e.expr(t.hi),E.push(" ")},transaction:e=>{E.push(e.type)},unary:t=>{switch(t.op){case"+":case"-":N(t),e.expr(t.operand);break;case"NOT":E.push(t.op),E.push(" "),e.expr(t.operand);break;default:e.expr(t.operand),E.push(" "),E.push(t.op)}},update:t=>{E.push("UPDATE "),e.tableRef(t.table),E.push(" SET "),p(t.sets,t=>e.set(t),!1),E.push(" "),t.from&&(E.push("FROM "),e.from(t.from),E.push(" ")),t.where&&(E.push("WHERE "),e.expr(t.where),E.push(" ")),t.returning&&(E.push(" RETURNING "),p(t.returning,t=>e.selectionColumn(t),!1),E.push(" "))}}));t.toSql={};const C=a.AstDefaultMapper.prototype;for(const e of Object.getOwnPropertyNames(C)){const s=C[e];"constructor"!==e&&"super"!==e&&"function"==typeof s&&(t.toSql[e]=function(...t){try{return b[e].apply(b,t),E.join("").trim()}finally{E=[]}})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.literal=void 0,t.literal=function e(t){return null==t?"NULL":Array.isArray(t)?"("+t.map(e).join(", ")+")":(~t.indexOf("\\")?"E":"")+"'"+(t=(t=t.replace(/'/g,"''")).replace(/\\/g,"\\\\"))+"'"}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locationOf=void 0,t.locationOf=function(e){const t=e._location;if(!t)throw new Error("This statement has not been parsed using location tracking (which has a small performance hit). ");return t}}]))},7930:(e,t,s)=>{"use strict";const a=s(7944),r=s(8395);e.exports=(e,t,s)=>{let n=null,o=null,l=null;try{l=new r(t,s)}catch(e){return null}return e.forEach(e=>{l.test(e)&&(n&&1!==o.compare(e)||(n=e,o=new a(n,s)))}),n}},7944:(e,t,s)=>{"use strict";const a=s(9796),{MAX_LENGTH:r,MAX_SAFE_INTEGER:n}=s(9630),{safeRe:o,t:l}=s(6850),i=s(7095),{compareIdentifiers:E}=s(4031);class c{constructor(e,t){if(t=i(t),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);a("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=e.trim().match(t.loose?o[l.LOOSE]:o[l.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<n)return t}return e}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(a("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const s=this.prerelease[t],r=e.prerelease[t];if(a("prerelease compare",t,s,r),void 0===s&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===s)return-1;if(s!==r)return E(s,r)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const s=this.build[t],r=e.build[t];if(a("build compare",t,s,r),void 0===s&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===s)return-1;if(s!==r)return E(s,r)}while(++t)}inc(e,t,s){if(e.startsWith("pre")){if(!t&&!1===s)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?o[l.PRERELEASELOOSE]:o[l.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,s),this.inc("pre",t,s);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,s),this.inc("pre",t,s);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(s)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let a=this.prerelease.length;for(;--a>=0;)"number"==typeof this.prerelease[a]&&(this.prerelease[a]++,a=-2);if(-1===a){if(t===this.prerelease.join(".")&&!1===s)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let a=[t,e];!1===s&&(a=[t]),0===E(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=c},7994:(e,t,s)=>{"use strict";const a=s(5860);e.exports=(e,t)=>{const s=a(e.trim().replace(/^[=v]+/,""),t);return s?s.version:null}},8395:(e,t,s)=>{"use strict";const a=/\s+/g;class r{constructor(e,t){if(t=o(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof l)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(a," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!R(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&S(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&_)|(this.options.loose&&A))+":"+e,s=n.get(t);if(s)return s;const a=this.options.loose,r=a?c[T.HYPHENRANGELOOSE]:c[T.HYPHENRANGE];e=e.replace(r,D(this.options.includePrerelease)),i("hyphen replace",e),e=e.replace(c[T.COMPARATORTRIM],p),i("comparator trim",e),e=e.replace(c[T.TILDETRIM],u),i("tilde trim",e),e=e.replace(c[T.CARETTRIM],m),i("caret trim",e);let o=e.split(" ").map(e=>O(e,this.options)).join(" ").split(/\s+/).map(e=>$(e,this.options));a&&(o=o.filter(e=>(i("loose invalid filter",e,this.options),!!e.match(c[T.COMPARATORLOOSE])))),i("range list",o);const E=new Map,S=o.map(e=>new l(e,this.options));for(const e of S){if(R(e))return[e];E.set(e.value,e)}E.size>1&&E.has("")&&E.delete("");const d=[...E.values()];return n.set(t,d),d}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(s=>d(s,t)&&e.set.some(e=>d(e,t)&&s.every(s=>e.every(e=>s.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new E(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const n=new(s(1158)),o=s(7095),l=s(9524),i=s(9796),E=s(7944),{safeRe:c,t:T,comparatorTrimReplace:p,tildeTrimReplace:u,caretTrimReplace:m}=s(6850),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:A}=s(9630),R=e=>"<0.0.0-0"===e.value,S=e=>""===e.value,d=(e,t)=>{let s=!0;const a=e.slice();let r=a.pop();for(;s&&a.length;)s=a.every(e=>r.intersects(e,t)),r=a.pop();return s},O=(e,t)=>(e=e.replace(c[T.BUILD],""),i("comp",e,t),e=C(e,t),i("caret",e),e=N(e,t),i("tildes",e),e=L(e,t),i("xrange",e),e=f(e,t),i("stars",e),e),I=e=>!e||"x"===e.toLowerCase()||"*"===e,N=(e,t)=>e.trim().split(/\s+/).map(e=>b(e,t)).join(" "),b=(e,t)=>{const s=t.loose?c[T.TILDELOOSE]:c[T.TILDE];return e.replace(s,(t,s,a,r,n)=>{let o;return i("tilde",e,t,s,a,r,n),I(s)?o="":I(a)?o=`>=${s}.0.0 <${+s+1}.0.0-0`:I(r)?o=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:n?(i("replaceTilde pr",n),o=`>=${s}.${a}.${r}-${n} <${s}.${+a+1}.0-0`):o=`>=${s}.${a}.${r} <${s}.${+a+1}.0-0`,i("tilde return",o),o})},C=(e,t)=>e.trim().split(/\s+/).map(e=>y(e,t)).join(" "),y=(e,t)=>{i("caret",e,t);const s=t.loose?c[T.CARETLOOSE]:c[T.CARET],a=t.includePrerelease?"-0":"";return e.replace(s,(t,s,r,n,o)=>{let l;return i("caret",e,t,s,r,n,o),I(s)?l="":I(r)?l=`>=${s}.0.0${a} <${+s+1}.0.0-0`:I(n)?l="0"===s?`>=${s}.${r}.0${a} <${s}.${+r+1}.0-0`:`>=${s}.${r}.0${a} <${+s+1}.0.0-0`:o?(i("replaceCaret pr",o),l="0"===s?"0"===r?`>=${s}.${r}.${n}-${o} <${s}.${r}.${+n+1}-0`:`>=${s}.${r}.${n}-${o} <${s}.${+r+1}.0-0`:`>=${s}.${r}.${n}-${o} <${+s+1}.0.0-0`):(i("no pr"),l="0"===s?"0"===r?`>=${s}.${r}.${n}${a} <${s}.${r}.${+n+1}-0`:`>=${s}.${r}.${n}${a} <${s}.${+r+1}.0-0`:`>=${s}.${r}.${n} <${+s+1}.0.0-0`),i("caret return",l),l})},L=(e,t)=>(i("replaceXRanges",e,t),e.split(/\s+/).map(e=>h(e,t)).join(" ")),h=(e,t)=>{e=e.trim();const s=t.loose?c[T.XRANGELOOSE]:c[T.XRANGE];return e.replace(s,(s,a,r,n,o,l)=>{i("xRange",e,s,a,r,n,o,l);const E=I(r),c=E||I(n),T=c||I(o),p=T;return"="===a&&p&&(a=""),l=t.includePrerelease?"-0":"",E?s=">"===a||"<"===a?"<0.0.0-0":"*":a&&p?(c&&(n=0),o=0,">"===a?(a=">=",c?(r=+r+1,n=0,o=0):(n=+n+1,o=0)):"<="===a&&(a="<",c?r=+r+1:n=+n+1),"<"===a&&(l="-0"),s=`${a+r}.${n}.${o}${l}`):c?s=`>=${r}.0.0${l} <${+r+1}.0.0-0`:T&&(s=`>=${r}.${n}.0${l} <${r}.${+n+1}.0-0`),i("xRange return",s),s})},f=(e,t)=>(i("replaceStars",e,t),e.trim().replace(c[T.STAR],"")),$=(e,t)=>(i("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?T.GTE0PRE:T.GTE0],"")),D=e=>(t,s,a,r,n,o,l,i,E,c,T,p)=>`${s=I(a)?"":I(r)?`>=${a}.0.0${e?"-0":""}`:I(n)?`>=${a}.${r}.0${e?"-0":""}`:o?`>=${s}`:`>=${s}${e?"-0":""}`} ${i=I(E)?"":I(c)?`<${+E+1}.0.0-0`:I(T)?`<${E}.${+c+1}.0-0`:p?`<=${E}.${c}.${T}-${p}`:e?`<${E}.${c}.${+T+1}-0`:`<=${i}`}`.trim(),P=(e,t,s)=>{for(let s=0;s<e.length;s++)if(!e[s].test(t))return!1;if(t.prerelease.length&&!s.includePrerelease){for(let s=0;s<e.length;s++)if(i(e[s].semver),e[s].semver!==l.ANY&&e[s].semver.prerelease.length>0){const a=e[s].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0}},8449:(e,t,s)=>{"use strict";const a=s(6850),r=s(9630),n=s(7944),o=s(4031),l=s(5860),i=s(7645),E=s(7994),c=s(5955),T=s(660),p=s(2966),u=s(5986),m=s(1617),_=s(9613),A=s(5380),R=s(2862),S=s(7023),d=s(2801),O=s(603),I=s(6033),N=s(144),b=s(599),C=s(6909),y=s(7659),L=s(2077),h=s(7092),f=s(3811),$=s(5334),D=s(9524),P=s(8395),g=s(1722),x=s(651),w=s(7840),M=s(7930),U=s(3489),v=s(7494),k=s(5463),G=s(7871),B=s(4266),H=s(1112),F=s(1465),Y=s(9252);e.exports={parse:l,valid:i,clean:E,inc:c,diff:T,major:p,minor:u,patch:m,prerelease:_,compare:A,rcompare:R,compareLoose:S,compareBuild:d,sort:O,rsort:I,gt:N,lt:b,eq:C,neq:y,gte:L,lte:h,cmp:f,coerce:$,Comparator:D,Range:P,satisfies:g,toComparators:x,maxSatisfying:w,minSatisfying:M,minVersion:U,validRange:v,outside:k,gtr:G,ltr:B,intersects:H,simplifyRange:F,subset:Y,SemVer:n,re:a.re,src:a.src,tokens:a.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},8531:e=>{"use strict";e.exports=l},8831:function(e){var t,s;t=this,s=function(){function e(t,s,a){return this.id=++e.highestId,this.name=t,this.symbols=s,this.postprocess=a,this}function t(e,t,s,a){this.rule=e,this.dot=t,this.reference=s,this.data=[],this.wantedBy=a,this.isComplete=this.dot===e.symbols.length}function s(e,t){this.grammar=e,this.index=t,this.states=[],this.wants={},this.scannable=[],this.completed={}}function a(e,t){this.rules=e,this.start=t||this.rules[0].name;var s=this.byName={};this.rules.forEach(function(e){s.hasOwnProperty(e.name)||(s[e.name]=[]),s[e.name].push(e)})}function r(){this.reset("")}function n(e,t,n){if(e instanceof a){var o=e;n=t}else o=a.fromCompiled(e,t);for(var l in this.grammar=o,this.options={keepHistory:!1,lexer:o.lexer||new r},n||{})this.options[l]=n[l];this.lexer=this.options.lexer,this.lexerState=void 0;var i=new s(o,0);this.table=[i],i.wants[o.start]=[],i.predict(o.start),i.process(),this.current=0}function o(e){var t=typeof e;if("string"===t)return e;if("object"===t){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return e.toString();if(e.type)return"%"+e.type;if(e.test)return"<"+String(e.test)+">";throw new Error("Unknown symbol type: "+e)}}return e.highestId=0,e.prototype.toString=function(e){var t=void 0===e?this.symbols.map(o).join(" "):this.symbols.slice(0,e).map(o).join(" ")+" ● "+this.symbols.slice(e).map(o).join(" ");return this.name+" → "+t},t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(e){var s=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return s.left=this,s.right=e,s.isComplete&&(s.data=s.build(),s.right=void 0),s},t.prototype.build=function(){var e=[],t=this;do{e.push(t.right.data),t=t.left}while(t.left);return e.reverse(),e},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,n.fail))},s.prototype.process=function(e){for(var t=this.states,s=this.wants,a=this.completed,r=0;r<t.length;r++){var o=t[r];if(o.isComplete){if(o.finish(),o.data!==n.fail){for(var l=o.wantedBy,i=l.length;i--;){var E=l[i];this.complete(E,o)}if(o.reference===this.index){var c=o.rule.name;(this.completed[c]=this.completed[c]||[]).push(o)}}}else{if("string"!=typeof(c=o.rule.symbols[o.dot])){this.scannable.push(o);continue}if(s[c]){if(s[c].push(o),a.hasOwnProperty(c)){var T=a[c];for(i=0;i<T.length;i++){var p=T[i];this.complete(o,p)}}}else s[c]=[o],this.predict(c)}}},s.prototype.predict=function(e){for(var s=this.grammar.byName[e]||[],a=0;a<s.length;a++){var r=s[a],n=this.wants[e],o=new t(r,0,this.index,n);this.states.push(o)}},s.prototype.complete=function(e,t){var s=e.nextState(t);this.states.push(s)},a.fromCompiled=function(t,s){var r=t.Lexer;t.ParserStart&&(s=t.ParserStart,t=t.ParserRules);var n=new a(t=t.map(function(t){return new e(t.name,t.symbols,t.postprocess)}),s);return n.lexer=r,n},r.prototype.reset=function(e,t){this.buffer=e,this.index=0,this.line=t?t.line:1,this.lastLineBreak=t?-t.col:0},r.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},r.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},r.prototype.formatError=function(e,t){var s=this.buffer;if("string"==typeof s){var a=s.split("\n").slice(Math.max(0,this.line-5),this.line),r=s.indexOf("\n",this.index);-1===r&&(r=s.length);var n=this.index-this.lastLineBreak,o=String(this.line).length;return t+=" at line "+this.line+" col "+n+":\n\n",t+=a.map(function(e,t){return l(this.line-a.length+t+1,o)+" "+e},this).join("\n"),t+="\n"+l("",o+n)+"^\n"}return t+" at index "+(this.index-1);function l(e,t){var s=String(e);return Array(t-s.length+1).join(" ")+s}},n.fail={},n.prototype.feed=function(e){var t,a=this.lexer;for(a.reset(e,this.lexerState);;){try{if(!(t=a.next()))break}catch(e){var n=new s(this.grammar,this.current+1);throw this.table.push(n),(i=new Error(this.reportLexerError(e))).offset=this.current,i.token=e.token,i}var o=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var l=this.current+1;n=new s(this.grammar,l),this.table.push(n);for(var i,E=void 0!==t.text?t.text:t.value,c=a.constructor===r?t.value:t,T=o.scannable,p=T.length;p--;){var u=T[p],m=u.rule.symbols[u.dot];if(m.test?m.test(c):m.type?m.type===t.type:m.literal===E){var _=u.nextState({data:c,token:t,isToken:!0,reference:l-1});n.states.push(_)}}if(n.process(),0===n.states.length)throw(i=new Error(this.reportError(t))).offset=this.current,i.token=t,i;this.options.keepHistory&&(o.lexerState=a.save()),this.current++}return o&&(this.lexerState=a.save()),this.results=this.finish(),this},n.prototype.reportLexerError=function(e){var t,s,a=e.token;return a?(t="input "+JSON.stringify(a.text[0])+" (lexer error)",s=this.lexer.formatError(a,"Syntax error")):(t="input (lexer error)",s=e.message),this.reportErrorCommon(s,t)},n.prototype.reportError=function(e){var t=(e.type?e.type+" token: ":"")+JSON.stringify(void 0!==e.value?e.value:e),s=this.lexer.formatError(e,"Syntax error");return this.reportErrorCommon(s,t)},n.prototype.reportErrorCommon=function(e,t){var s=[];s.push(e);var a=this.table.length-2,r=this.table[a],n=r.states.filter(function(e){var t=e.rule.symbols[e.dot];return t&&"string"!=typeof t});return 0===n.length?(s.push("Unexpected "+t+". I did not expect any more input. Here is the state of my parse table:\n"),this.displayStateStack(r.states,s)):(s.push("Unexpected "+t+". Instead, I was expecting to see one of the following:\n"),n.map(function(e){return this.buildFirstStateStack(e,[])||[e]},this).forEach(function(e){var t=e[0],a=t.rule.symbols[t.dot],r=this.getSymbolDisplay(a);s.push("A "+r+" based on:"),this.displayStateStack(e,s)},this)),s.push(""),s.join("\n")},n.prototype.displayStateStack=function(e,t){for(var s,a=0,r=0;r<e.length;r++){var n=e[r],o=n.rule.toString(n.dot);o===s?a++:(a>0&&t.push("    ^ "+a+" more lines identical to this"),a=0,t.push("    "+o)),s=o}},n.prototype.getSymbolDisplay=function(e){return function(e){var t=typeof e;if("string"===t)return e;if("object"===t){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return"character matching "+e;if(e.type)return e.type+" token";if(e.test)return"token matching "+String(e.test);throw new Error("Unknown symbol type: "+e)}}(e)},n.prototype.buildFirstStateStack=function(e,t){if(-1!==t.indexOf(e))return null;if(0===e.wantedBy.length)return[e];var s=e.wantedBy[0],a=[e].concat(t),r=this.buildFirstStateStack(s,a);return null===r?null:[e].concat(r)},n.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},n.prototype.restore=function(e){var t=e.index;this.current=t,this.table[t]=e,this.table.splice(t+1),this.lexerState=e.lexerState,this.results=this.finish()},n.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},n.prototype.finish=function(){var e=[],t=this.grammar.start;return this.table[this.table.length-1].states.forEach(function(s){s.rule.name===t&&s.dot===s.rule.symbols.length&&0===s.reference&&s.data!==n.fail&&e.push(s)}),e.map(function(e){return e.data})},{Parser:n,Grammar:a,Rule:e}},e.exports?e.exports=s():t.nearley=s()},9252:(e,t,s)=>{"use strict";const a=s(8395),r=s(9524),{ANY:n}=r,o=s(1722),l=s(5380),i=[new r(">=0.0.0-0")],E=[new r(">=0.0.0")],c=(e,t,s)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===n){if(1===t.length&&t[0].semver===n)return!0;e=s.includePrerelease?i:E}if(1===t.length&&t[0].semver===n){if(s.includePrerelease)return!0;t=E}const a=new Set;let r,c,u,m,_,A,R;for(const t of e)">"===t.operator||">="===t.operator?r=T(r,t,s):"<"===t.operator||"<="===t.operator?c=p(c,t,s):a.add(t.semver);if(a.size>1)return null;if(r&&c){if(u=l(r.semver,c.semver,s),u>0)return null;if(0===u&&(">="!==r.operator||"<="!==c.operator))return null}for(const e of a){if(r&&!o(e,String(r),s))return null;if(c&&!o(e,String(c),s))return null;for(const a of t)if(!o(e,String(a),s))return!1;return!0}let S=!(!c||s.includePrerelease||!c.semver.prerelease.length)&&c.semver,d=!(!r||s.includePrerelease||!r.semver.prerelease.length)&&r.semver;S&&1===S.prerelease.length&&"<"===c.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(R=R||">"===e.operator||">="===e.operator,A=A||"<"===e.operator||"<="===e.operator,r)if(d&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===d.major&&e.semver.minor===d.minor&&e.semver.patch===d.patch&&(d=!1),">"===e.operator||">="===e.operator){if(m=T(r,e,s),m===e&&m!==r)return!1}else if(">="===r.operator&&!o(r.semver,String(e),s))return!1;if(c)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(_=p(c,e,s),_===e&&_!==c)return!1}else if("<="===c.operator&&!o(c.semver,String(e),s))return!1;if(!e.operator&&(c||r)&&0!==u)return!1}return!(r&&A&&!c&&0!==u)&&(!(c&&R&&!r&&0!==u)&&(!d&&!S))},T=(e,t,s)=>{if(!e)return t;const a=l(e.semver,t.semver,s);return a>0?e:a<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,s)=>{if(!e)return t;const a=l(e.semver,t.semver,s);return a<0?e:a>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,s={})=>{if(e===t)return!0;e=new a(e,s),t=new a(t,s);let r=!1;e:for(const a of e.set){for(const e of t.set){const t=c(a,e,s);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},9524:(e,t,s)=>{"use strict";const a=Symbol("SemVer ANY");class r{static get ANY(){return a}constructor(e,t){if(t=n(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),E("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===a?this.value="":this.value=this.operator+this.semver.version,E("comp",this)}parse(e){const t=this.options.loose?o[l.COMPARATORLOOSE]:o[l.COMPARATOR],s=e.match(t);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==s[1]?s[1]:"","="===this.operator&&(this.operator=""),s[2]?this.semver=new c(s[2],this.options.loose):this.semver=a}toString(){return this.value}test(e){if(E("Comparator.test",e,this.options.loose),this.semver===a||e===a)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return i(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new T(e.value,t).test(this.value):""===e.operator?""===e.value||new T(this.value,t).test(e.semver):(!(t=n(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(i(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(i(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=r;const n=s(7095),{safeRe:o,t:l}=s(6850),i=s(3811),E=s(9796),c=s(7944),T=s(8395)},9613:(e,t,s)=>{"use strict";const a=s(5860);e.exports=(e,t)=>{const s=a(e,t);return s&&s.prerelease.length?s.prerelease:null}},9630:e=>{"use strict";const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9796:e=>{"use strict";const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t}},E={};function c(e){var t=E[e];if(void 0!==t)return t.exports;var s=E[e]={exports:{}};return i[e].call(s.exports,s,s.exports,c),s.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var s in t)c.o(t,s)&&!c.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="public/plugins/grafana-clickhouse-datasource/";var p={};return(()=>{"use strict";c.r(p),c.d(p,{plugin:()=>Lc});var e={};c.r(e),c.d(e,{bigquery:()=>an,db2:()=>_n,db2i:()=>Cn,duckdb:()=>xn,hive:()=>Fn,mariadb:()=>Zn,mysql:()=>lo,n1ql:()=>yo,plsql:()=>wo,postgresql:()=>Yo,redshift:()=>Zo,singlestoredb:()=>Zl,snowflake:()=>li,spark:()=>ll,sql:()=>yl,sqlite:()=>Al,tidb:()=>Ao,transactsql:()=>Yl,trino:()=>wl});var t=c(1308),s=c.n(t);c.p=s()&&s().uri?s().uri.slice(0,s().uri.lastIndexOf("/")+1):"public/plugins/grafana-clickhouse-datasource/";var a=c(7781),r=c(8531),n=c(1269),o=function(e){return e.List="list",e.Aggregate="aggregate",e.Trend="trend",e}({}),l=function(e){return e.Table="table",e.Logs="logs",e.TimeSeries="timeseries",e.Traces="traces",e}({}),i=function(e){return e.Sum="sum",e.Average="avg",e.Min="min",e.Max="max",e.Count="count",e.Any="any",e}({}),E=function(e){return e.Time="time",e.LogLevel="log_level",e.LogMessage="log_message",e.LogLabels="log_labels",e.TraceId="trace_id",e.TraceSpanId="trace_span_id",e.TraceParentSpanId="trace_parent_span_id",e.TraceServiceName="trace_service_name",e.TraceOperationName="trace_operation_name",e.TraceDurationTime="trace_duration_time",e.TraceTags="trace_tags",e.TraceServiceTags="trace_service_tags",e.TraceStatusCode="trace_status_code",e.TraceKind="trace_kind",e.TraceStatusMessage="trace_status_message",e.TraceInstrumentationLibraryName="instrumentation_library_name",e.TraceInstrumentationLibraryVersion="instrumentation_library_version",e.TraceState="trace_state",e}({}),T=function(e){return e.Seconds="seconds",e.Milliseconds="milliseconds",e.Microseconds="microseconds",e.Nanoseconds="nanoseconds",e}({}),u=function(e){return e.ASC="ASC",e.DESC="DESC",e}({}),m=function(e){return e.IsAnything="IS ANYTHING",e.IsEmpty="IS EMPTY",e.IsNotEmpty="IS NOT EMPTY",e.IsNull="IS NULL",e.IsNotNull="IS NOT NULL",e.Equals="=",e.NotEquals="!=",e.LessThan="<",e.LessThanOrEqual="<=",e.GreaterThan=">",e.GreaterThanOrEqual=">=",e.Like="LIKE",e.NotLike="NOT LIKE",e.In="IN",e.NotIn="NOT IN",e.WithInGrafanaTimeRange="WITH IN DASHBOARD TIME RANGE",e.OutsideGrafanaTimeRange="OUTSIDE DASHBOARD TIME RANGE",e}({}),_=function(e){return e.SQL="sql",e.Builder="builder",e}({});const A={pluginVersion:"",editorType:"builder",rawSql:"",builderOptions:{database:"",table:"",queryType:l.Table,mode:o.List,columns:[],meta:{},limit:1e3}};var R=c(7899);function S(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){S(e,t,s[t])})}return e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}function I(e){return(e?"v":"f")+(Math.random()+1).toString(36).substring(7)}function N(e){const[t,s]=function(e){const t=[],s=/\${[a-zA-Z0-9_:.\w]+}/g;let a;for(;null!==(a=s.exec(e));)t.push({startIndex:a.index,name:a[0],replacementName:""});for(let s=t.length-1;s>=0;s--){const a=t[s].startIndex,r=I(!0);t[s].replacementName=r,e=e.substring(0,a)+r+e.substring(a+t[s].name.length)}return[t,e]}(e),[a,r]=function(e){const t=[],s=/(\$__|\$|default|settings)/gi;let a;for(;null!==(a=s.exec(e));)t.push({startIndex:a.index,name:a[0],replacementName:""});for(let s=t.length-1;s>=0;s--){const a=t[s].startIndex,r=I(!1);t[s].replacementName=r,e="settings"!==t[s].name.toLowerCase()?e.substring(0,a)+r+e.substring(a+t[s].name.length):e.substring(0,a)}return[t,e]}(s),n=t.concat(a);let o;try{o=(0,R.parseFirst)(r)}catch(e){return console.error(`Failed to parse SQL statement into an AST: ${e}`),{}}return(0,R.astMapper)(e=>({tableRef:t=>{const s=n.find(e=>e.replacementName===t.schema);var a;if(s)return O(d({},t),{schema:null===(a=t.schema)||void 0===a?void 0:a.replace(s.replacementName,s.name)});const r=n.find(e=>e.replacementName===t.name);return r?O(d({},t),{name:t.name.replace(r.replacementName,r.name)}):e.super().tableRef(t)},ref:t=>{const s=n.find(e=>t.name.startsWith(e.replacementName));if(s){const e=t.name.replace(s.replacementName,s.name);return O(d({},t),{name:e})}return e.super().ref(t)},expr:t=>{if(!t||"string"!==t.type)return e.super().expr(t);const s=n.find(e=>t.value.startsWith(e.replacementName));if(s){const e=t.value.replace(s.replacementName,s.name);return O(d({},t),{value:e})}return e.super().expr(t)},call:t=>{const s=n.find(e=>t.function.name.startsWith(e.replacementName));return s?O(d({},t),{function:O(d({},t.function),{name:t.function.name.replace(s.replacementName,s.name)})}):e.super().call(t)}})).statement(o)}function b(e){var t,s;const a=N(e);if("select"!==a.type||!(null===(t=a.from)||void 0===t?void 0:t.length)||(null===(s=a.from)||void 0===s?void 0:s.length)<=0)return"";switch(a.from[0].type){case"table":{const t=a.from[0],s=`${t.name.schema?`${t.name.schema}.`:""}${t.name.name}`,r=new RegExp(`\\b${s}\\b`,"gi").exec(e);return r?r[0]:s}case"statement":{const e=a.from[0];return b(R.toSql.statement(e.statement))}}return""}class C{setTargetTableFromQuery(e){if(this._targetTable=b(e),""===this._targetTable)throw new Error("Failed to get table from adhoc query.")}apply(e,t){if(""===e||!t||0===t.length)return e;if(""!==this._targetTable&&!e.replace(/"/g,"").match(new RegExp(`.*\\b${this._targetTable}\\b.*`,"gi")))return e;if(""===this._targetTable&&(this._targetTable=b(e)),""===this._targetTable)return e;const s=t.filter(e=>{const t=function(e){return void 0!==e.key&&void 0!==e.operator&&void 0!==e.value}(e);return t||console.warn("Invalid adhoc filter will be ignored:",e),t}).map((e,s)=>{const a=function(e){if(["ResourceAttributes","ScopeAttributes","LogAttributes"].includes(e.split(".")[0]))return e;if(e.startsWith("arrayElement(")&&e.endsWith(")")){const t=e.match(/arrayElement\((.*?),\s*['"](.*?)['"]\)/);if(t){const[e,s,a]=t;return`${s}[\\'${a}\\']`}}return e.includes(".")?e.split(".")[1]:e}(e.key),r=function(e,t){return"IN"===t?(e.length>2&&"("!==e[0]&&")"!==e[e.length-1]&&(e=`(${e})`),e.replace(/'/g,"\\'")):`\\'${e}\\'`}(e.value,e.operator),n=s!==t.length-1?e.condition?e.condition:"AND":"";return` ${a} ${function(e){if("=~"===e)return"ILIKE";if("!~"===e)return"NOT ILIKE";return e}(e.operator)} ${r} ${n}`}).join("");return""===s?e:`${e=e.replace(";","")} settings additional_table_filters={'${this._targetTable}' : '${s}'}`}constructor(){!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"_targetTable","")}}var y=c(3241),L=(e=>(e.Bars="bars",e.Line="line",e.Points="points",e))(L||{}),h=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(h||{}),f=(e=>(e[e.After=1]="After",e[e.Before=-1]="Before",e[e.Center=0]="Center",e))(f||{});var $=c(2007);const D=1e3,P=6e4,g=36e5,x={[a.LogLevel.critical]:$.colors[7],[a.LogLevel.warning]:$.colors[1],[a.LogLevel.error]:$.colors[4],[a.LogLevel.info]:$.colors[0],[a.LogLevel.debug]:$.colors[5],[a.LogLevel.trace]:$.colors[2],[a.LogLevel.unknown]:(w="#8e8e8e",M="#bdc4cd",r.config.bootData.user.lightTheme?M:w)};var w,M;function U(e,t,s){return new n.Observable(r=>{let o=[];r.next({state:a.LoadingState.Loading,error:void 0,data:[]});const l=e.query(t),i=((0,n.isObservable)(l)?l:(0,n.from)(l)).subscribe({complete:()=>{const e=function(e){if(1!==e.length)return[];const[[t],s]=(0,y.partition)(e[0].fields,e=>e.name===G);if(void 0===t)return[];const r=1===s.length&&s[0].name===B;r&&(s[0].name="logs");const n=t.values.length;return s.map(e=>{const s=a.LogLevel[e.name]||a.LogLevel.unknown,o=new a.MutableDataFrame;return o.addField({name:"Time",type:a.FieldType.time,values:t.values},n),o.addField({name:"Value",type:a.FieldType.number,config:v(s,r),values:e.values}),o})}(o);e[0]&&(e[0].meta={custom:{targets:s.targets,absoluteRange:{from:s.range.from.valueOf(),to:s.range.to.valueOf()}}}),r.next({state:a.LoadingState.Done,error:void 0,data:e}),r.complete()},next:e=>{const{error:t}=e;void 0!==t?(r.next({state:a.LoadingState.Error,error:t,data:[]}),r.error(t)):o=o.concat(e.data.map(a.toDataFrame))},error:e=>{r.next({state:a.LoadingState.Error,error:e,data:[]}),r.error(e)}});return()=>{null==i||i.unsubscribe()}})}function v(e,t){const s=t&&e===a.LogLevel.unknown?"logs":e,r=x[e];return{displayNameFromDS:s,color:{mode:a.FieldColorModeId.Fixed,fixedColor:r},custom:{drawStyle:L.Bars,barAlignment:f.Center,lineColor:r,pointColor:r,fillColor:r,lineWidth:1,fillOpacity:100,stacking:{mode:h.Normal,group:"A"}}}}function k(e,t){let s="DAY";if(e.__interval_ms){let t=e.__interval_ms.value;s=t>g?"DAY":t>P?"HOUR":t>D?"MINUTE":"SECOND"}return`toStartOfInterval("${t}", INTERVAL 1 ${s})`}const G="time",B="logs",H=(()=>{const e={critical:["critical","fatal","crit","alert","emerg"],error:["error","err","eror"],warn:["warn","warning"],info:["info","information","informational"],debug:["debug","dbug"],trace:["trace"],unknown:["unknown"]};return Object.keys(e).reduce((t,s)=>(t[s]=`${[...e[s].map(e=>`'${e}'`),...e[s].map(e=>`'${e.toUpperCase()}'`),...e[s].map(e=>`'${e.charAt(0).toUpperCase()+e.slice(1)}'`)].join(",")}`,t),{})})();function F(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Y="otel_logs",V="otel_traces",W={name:"1.2.9",version:"1.29.0",specUrl:"https://opentelemetry.io/docs/specs/otel",logsTable:Y,logColumnMap:new Map([[E.Time,"Timestamp"],[E.LogMessage,"Body"],[E.LogLevel,"SeverityText"],[E.LogLabels,"LogAttributes"],[E.TraceId,"TraceId"]]),logLevels:["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"],traceTable:V,traceColumnMap:new Map([[E.Time,"Timestamp"],[E.TraceId,"TraceId"],[E.TraceSpanId,"SpanId"],[E.TraceParentSpanId,"ParentSpanId"],[E.TraceServiceName,"ServiceName"],[E.TraceOperationName,"SpanName"],[E.TraceDurationTime,"Duration"],[E.TraceTags,"SpanAttributes"],[E.TraceServiceTags,"ResourceAttributes"],[E.TraceStatusCode,"StatusCode"],[E.TraceKind,"SpanKind"],[E.TraceStatusMessage,"StatusMessage"],[E.TraceState,"TraceState"]]),flattenNested:!1,traceDurationUnit:T.Nanoseconds,traceEventsColumnPrefix:"Events",traceLinksColumnPrefix:"Links"},X=[(K=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){F(e,t,s[t])})}return e}({},W),q={name:`latest (${W.name})`,version:"latest"},q=null!=q?q:{},Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(q)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(q)).forEach(function(e){Object.defineProperty(K,e,Object.getOwnPropertyDescriptor(q,e))}),K),W];var K,q;const j={traceTimestampTableSuffix:"_trace_id_ts",versions:X,getLatestVersion:()=>X[0],getVersion:e=>{if(e)return X.find(t=>t.version===e)}};function J(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Q(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){J(e,t,s[t])})}return e}function Z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const z=e=>{var t,s;const a=(null===(t=e.meta)||void 0===t?void 0:t.isTraceIdMode)&&(null===(s=e.meta)||void 0===s?void 0:s.traceId);return e.queryType===l.Traces&&a?te(e):e.queryType===l.Traces?ee(e):e.queryType===l.Logs?se(e):e.queryType===l.TimeSeries&&e.mode!==o.Trend?ae(e):e.queryType===l.TimeSeries&&e.mode===o.Trend?re(e):e.queryType===l.Table?ne(e):""},ee=e=>{const{database:t,table:s}=e,a=[],r=[],n=oe(e,E.TraceId);void 0!==n&&r.push(`${Ee(n.name)} as traceID`);const o=oe(e,E.TraceServiceName);void 0!==o&&r.push(`${Ee(o.name)} as serviceName`);const l=oe(e,E.TraceOperationName);void 0!==l&&r.push(`${Ee(l.name)} as operationName`);const i=oe(e,E.Time);void 0!==i&&r.push(`${Ee(i.name)} as startTime`);const c=oe(e,E.TraceDurationTime);if(void 0!==c){var T;const t=null===(T=e.meta)||void 0===T?void 0:T.traceDurationUnit;r.push(Te(Ee(c.name),t))}const p=r.join(", ");a.push("SELECT"),a.push(p),a.push("FROM"),a.push(ie(t,s));const u=Ae(e);u&&(a.push("WHERE"),a.push(u));const m=me(e);m&&(a.push("ORDER BY"),a.push(m));const _=_e(e.limit);return""!==_&&a.push(_),ue(a)},te=e=>{var t,s,a,r,n,o,l;const{database:i,table:c}=e,T=[],p=[],u=oe(e,E.TraceId);void 0!==u&&p.push(`${Ee(u.name)} as traceID`);const m=oe(e,E.TraceSpanId);void 0!==m&&p.push(`${Ee(m.name)} as spanID`);const _=oe(e,E.TraceParentSpanId);void 0!==_&&p.push(`${Ee(_.name)} as parentSpanID`);const A=oe(e,E.TraceServiceName);void 0!==A&&p.push(`${Ee(A.name)} as serviceName`);const R=oe(e,E.TraceOperationName);void 0!==R&&p.push(`${Ee(R.name)} as operationName`);const S=oe(e,E.Time);void 0!==S&&p.push(`${pe(Ee(S.name))} as startTime`);const d=oe(e,E.TraceDurationTime);if(void 0!==d){var O;const t=null===(O=e.meta)||void 0===O?void 0:O.traceDurationUnit;p.push(Te(Ee(d.name),t))}const I=oe(e,E.TraceTags);void 0!==I&&p.push(`arrayMap(key -> map('key', key, 'value',${Ee(I.name)}[key]), mapKeys(${Ee(I.name)})) as tags`);const N=oe(e,E.TraceServiceTags);void 0!==N&&p.push(`arrayMap(key -> map('key', key, 'value',${Ee(N.name)}[key]), mapKeys(${Ee(N.name)})) as serviceTags`);const b=oe(e,E.TraceStatusCode);void 0!==b&&p.push(`if(${Ee(b.name)} IN ('Error', 'STATUS_CODE_ERROR'), 2, 0) as statusCode`);const C=Boolean(null===(t=e.meta)||void 0===t?void 0:t.flattenNested),y=(null===(s=e.meta)||void 0===s?void 0:s.traceEventsColumnPrefix)||"";""!==y&&(C?p.push(["arrayMap(event -> tuple(multiply(toFloat64(event.Timestamp), 1000),","arrayConcat(arrayMap(key -> map('key', key, 'value', event.Attributes[key]),","mapKeys(event.Attributes)), [map('key', 'message', 'value', event.Name)]))::Tuple(timestamp Float64, fields Array(Map(String, String))),",`${Ee(y)}) as logs`].join(" ")):p.push(["arrayMap((name, timestamp, attributes) -> tuple(name, toString(toUnixTimestamp64Milli(timestamp)),","arrayMap( key -> map('key', key, 'value', attributes[key]),","mapKeys(attributes)))::Tuple(name String, timestamp String, fields Array(Map(String, String))),",`${Ee(y)}.Name, ${Ee(y)}.Timestamp,`,`${Ee(y)}.Attributes) AS logs`].join(" ")));const L=(null===(a=e.meta)||void 0===a?void 0:a.traceLinksColumnPrefix)||"";""!==L&&(C?p.push(["arrayMap(link -> tuple(link.TraceId, link.SpanId, arrayMap(key -> map('key', key, 'value', link.Attributes[key]),","mapKeys(link.Attributes)))::Tuple(traceID String, spanID String, tags Array(Map(String, String))),",`${Ee(L)}) AS references`].join(" ")):p.push(["arrayMap((traceID, spanID, attributes) -> tuple(traceID, spanID, arrayMap(key -> map('key', key, 'value', attributes[key]),","mapKeys(attributes)))::Tuple(traceID String, spanID String, tags Array(Map(String, String))),",`${Ee(L)}.TraceId, ${Ee(L)}.SpanId,`,`${Ee(L)}.Attributes) AS references`].join(" ")));const h=oe(e,E.TraceKind);void 0!==h&&p.push(`${Ee(h.name)} as kind`);const f=oe(e,E.TraceStatusMessage);void 0!==f&&p.push(`${Ee(f.name)} as statusMessage`);const $=oe(e,E.TraceInstrumentationLibraryName);void 0!==$&&p.push(`${Ee($.name)} as instrumentationLibraryName`);const D=oe(e,E.TraceInstrumentationLibraryVersion);void 0!==D&&p.push(`${Ee(D.name)} as instrumentationLibraryVersion`);const P=oe(e,E.TraceState);void 0!==P&&p.push(`${Ee(P.name)} as traceState`);const g=p.join(", "),x=(null===(r=e.meta)||void 0===r?void 0:r.isTraceIdMode)&&(null===(n=e.meta)||void 0===n?void 0:n.traceId),w=j.getVersion(null===(o=e.meta)||void 0===o?void 0:o.otelVersion),M=x&&void 0!==S&&(null===(l=e.meta)||void 0===l?void 0:l.otelEnabled)&&w;if(M){const t=e.meta.traceId,s=ie(i,c+j.traceTimestampTableSuffix);T.push("WITH"),T.push(`'${t}' as trace_id,`),T.push(`(SELECT min(Start) FROM ${s} WHERE TraceId = trace_id) as trace_start,`),T.push(`(SELECT max(End) + 1 FROM ${s} WHERE TraceId = trace_id) as trace_end`)}T.push("SELECT"),T.push(g),T.push("FROM"),T.push(ie(i,c));const U=Ae(e);if((x||U)&&T.push("WHERE"),M)T.push("traceID = trace_id"),T.push("AND"),T.push(`${Ee(S.name)} >= trace_start`),T.push("AND"),T.push(`${Ee(S.name)} <= trace_end`);else if(x){const t=e.meta.traceId;T.push(`traceID = '${t}'`)}U&&(x&&T.push("AND"),T.push(U));const v=me(e);v&&(T.push("ORDER BY"),T.push(v));const k=_e(e.limit);return""!==k&&T.push(k),ue(T)},se=e=>{var t,s,a;const r=Z(Q({},e),{columns:null===(t=e.columns)||void 0===t?void 0:t.map(e=>Q({},e))}),{database:n,table:o}=r,l=[],i=[],c=oe(r,E.Time);void 0!==c&&(c.alias=Pe.get(E.Time),i.push(le(c)));const T=oe(r,E.LogMessage);void 0!==T&&(T.alias=Pe.get(E.LogMessage),i.push(le(T)));const p=oe(r,E.LogLevel);void 0!==p&&(p.alias=Pe.get(E.LogLevel),i.push(le(p)));const u=oe(r,E.LogLabels);void 0!==u&&(u.alias=Pe.get(E.LogLabels),i.push(le(u)));const m=oe(r,E.TraceId);void 0!==m&&(m.alias=Pe.get(E.TraceId),i.push(le(m))),null===(s=r.columns)||void 0===s||s.filter(e=>void 0===e.hint).forEach(e=>i.push(le(e)));const _=i.join(", ");l.push("SELECT"),l.push(_),l.push("FROM"),l.push(ie(n,o));const A=Ae(r),R=T&&(null===(a=r.meta)||void 0===a?void 0:a.logMessageLike);(A||R)&&l.push("WHERE"),A&&l.push(A),R&&(A&&l.push("AND"),l.push(`(${T.alias||T.name} LIKE '%${r.meta.logMessageLike}%')`));const S=me(r);S&&(l.push("ORDER BY"),l.push(S));const d=_e(r.limit);return""!==d&&l.push(d),ue(l)},ae=e=>{var t,s,a,r,n,o,l;const i=Z(Q({},e),{columns:null===(t=e.columns)||void 0===t?void 0:t.map(e=>Q({},e))}),{database:c,table:T}=i,p=[],u=[],m=new Set,_=oe(i,E.Time);void 0!==_&&(_.alias="time",u.push(le(_)),m.add(_.alias));const A=null===(s=i.columns)||void 0===s?void 0:s.filter(e=>e.hint!==E.Time);null==A||A.forEach(e=>{u.push(le(e)),m.add(e.alias||e.name)});const R=[];null===(a=i.aggregates)||void 0===a||a.forEach(e=>{const t=e.alias?` as ${e.alias.replace(/ /g,"_")}`:"",s=`${e.aggregateType}(${e.column})`;R.push(`${s}${t}`),m.add(t?t.substring(4):s)}),null===(r=i.groupBy)||void 0===r||r.forEach(e=>{m.has(e)||u.push(e)}),R.forEach(e=>u.push(e));const S=u.join(", ");p.push("SELECT"),p.push(S),p.push("FROM"),p.push(ie(c,T));const d=Ae(i);d&&(p.push("WHERE"),p.push(d));const O=(null===(n=i.aggregates)||void 0===n?void 0:n.length)||!1,I=(null===(o=i.groupBy)||void 0===o?void 0:o.length)||!1;if((O||I)&&p.push("GROUP BY"),((null===(l=i.groupBy)||void 0===l?void 0:l.length)||0)>0){const e=void 0!==_?`, ${_.alias}`:"";p.push(`${i.groupBy.join(", ")}${e}`)}else O&&_&&p.push(_.alias);const N=me(i);N&&(p.push("ORDER BY"),p.push(N));const b=_e(i.limit);return""!==b&&p.push(b),ue(p)},re=e=>{var t,s,a,r;const n=Z(Q({},e),{columns:null===(t=e.columns)||void 0===t?void 0:t.map(e=>Q({},e))}),{database:o,table:l}=n,i=[],c=[],T=oe(n,E.Time);void 0!==T&&(T.name=`$__timeInterval(${T.name})`,T.alias="time",c.push(le(T))),null===(s=n.groupBy)||void 0===s||s.forEach(e=>c.push(e)),null===(a=n.aggregates)||void 0===a||a.forEach(e=>{const t=e.alias?` as ${e.alias.replace(/ /g,"_")}`:"",s=`${e.aggregateType}(${e.column})`;c.push(`${s}${t}`)});const p=c.join(", ");i.push("SELECT"),i.push(p),i.push("FROM"),i.push(ie(o,l));const u=Ae(n);if(u&&(i.push("WHERE"),i.push(u)),i.push("GROUP BY"),((null===(r=n.groupBy)||void 0===r?void 0:r.length)||0)>0){const e=void 0!==T?`, ${T.alias}`:"";i.push(`${n.groupBy.join(", ")}${e}`)}else T&&i.push(T.alias);const m=me(n);m&&(i.push("ORDER BY"),i.push(m));const _=_e(n.limit);return""!==_&&i.push(_),ue(i)},ne=e=>{var t,s;const{database:a,table:r}=e,n=e.mode===o.Aggregate,l=[],i=[],E=new Set;var c,T;(null===(t=e.columns)||void 0===t||t.forEach(e=>{i.push(le(e)),E.add(e.alias||e.name)}),n)&&(null===(c=e.aggregates)||void 0===c||c.forEach(e=>{const t=e.alias?` as ${e.alias.replace(/ /g,"_")}`:"",s=`${e.aggregateType}(${e.column})`;i.push(`${s}${t}`),E.add(t?t.substring(4):s)}),null===(T=e.groupBy)||void 0===T||T.forEach(e=>{E.has(e)}));const p=i.join(", ");l.push("SELECT"),l.push(p),l.push("FROM"),l.push(ie(a,r));const u=Ae(e);u&&(l.push("WHERE"),l.push(u)),n&&((null===(s=e.groupBy)||void 0===s?void 0:s.length)||0)>0&&(l.push("GROUP BY"),l.push(e.groupBy.join(", ")));const m=me(e);m&&(l.push("ORDER BY"),l.push(m));const _=_e(e.limit);return""!==_&&l.push(_),ue(l)},oe=(e,t)=>{var s;return null===(s=e.columns)||void 0===s?void 0:s.find(e=>e.hint===t)},le=e=>{let t=e.name;return t.includes("(")||t.includes(")")||t.includes('"')||t.includes('"')||t.includes(" as ")?t=e.name:t.includes(" ")&&(t=Ee(e.name)),e.alias&&e.alias!==e.name&&Ee(e.alias)!==t?`${t} as "${e.alias}"`:t},ie=(e,t)=>{const s=e&&t?".":"";return`${Ee(e)}${s}${Ee(t)}`},Ee=e=>e?`"${e}"`:"",ce=e=>e.includes("$")||e.includes("(")||e.includes(")")||e.includes("'")||e.includes('"')?e:`'${e}'`,Te=(e,t)=>{const s="duration";switch(t){case T.Seconds:return`multiply(${e}, 1000) as ${s}`;case T.Milliseconds:return`${e} as ${s}`;case T.Microseconds:return`multiply(${e}, 0.001) as ${s}`;case T.Nanoseconds:return`multiply(${e}, 0.000001) as ${s}`;default:return`${e} as ${s}`}},pe=e=>`multiply(toUnixTimestamp64Nano(${e}), 0.000001)`,ue=e=>{let t="";for(let s=0;s<e.length;s++){const a=e[s];a&&(t+=a,s!==e.length-1&&(t+=" "))}return t},me=e=>{var t;const s=[];var a;((null===(t=e.orderBy)||void 0===t?void 0:t.length)||0)>0&&(null===(a=e.orderBy)||void 0===a||a.forEach(t=>{let a=t.name;const r=t.hint&&oe(e,t.hint);r&&(a=r.alias||r.name),a&&s.push(`${a} ${t.dir}`)}));return s.join(", ")},_e=e=>(e=Math.max(0,e||0))>0?"LIMIT "+e:"",Ae=e=>{const t=e.filters||[],s=[];for(const r of t){if(r.operator===m.IsAnything)continue;const t=[];let n=r.key,o=r.type||"";const l=r.hint&&oe(e,r.hint);if(l&&(n=l.alias||l.name,o=l.type||o),!n)continue;if(r.mapKey&&o.startsWith("Map"))n+=`['${r.mapKey}']`;else if(r.mapKey&&o.startsWith("JSON")){n+=`.${r.mapKey.split(".").map(e=>`\`${e}\``).join(".")}`}t.push(n);let i=r.operator,E=!1;if(r.operator===m.IsEmpty||r.operator===m.IsNotEmpty?i="":r.operator===m.NotLike?(i="LIKE",E=!0):r.operator===m.OutsideGrafanaTimeRange?(i="",E=!0):r.operator===m.WithInGrafanaTimeRange&&(i=""),i&&t.push(i),Ne(r.operator));else if(r.operator===m.IsEmpty)t.push("= ''");else if(r.operator===m.IsNotEmpty)t.push("!= ''");else if(be(o))t.push(String(r.value));else if(Ce(o))t.push(String(r.value||"0"));else if(Le(o))if(ye(o,r.operator))Oe(o)&&t.push(">=","$__fromTime","AND",n,"<=","$__toTime");else switch(r.value){case"GRAFANA_START_TIME":Oe(o)&&t.push("$__fromTime");break;case"GRAFANA_END_TIME":Oe(o)&&t.push("$__toTime");break;default:t.push(ce(String(r.value||"TODAY")))}else if(he(o,r.operator))r.operator===m.Like||r.operator===m.NotLike?t.push(`'%${r.value||""}%'`):t.push(ce(r.value||""));else if(fe(o,r.operator)){var a;t.push(`(${null===(a=r.value)||void 0===a?void 0:a.map(e=>ce(e.trim())).join(", ")})`)}else t.push(ce(r.value||""));E&&(t.unshift("NOT","("),t.push(")")),t.unshift("("),s.length>0&&t.unshift(r.condition),t.push(")");const c=ue(t);s.push(c)}return ue(s)},Re=e=>null==e?void 0:e.toLowerCase().startsWith("boolean"),Se=["int","float","decimal"],de=e=>Se.some(t=>null==e?void 0:e.toLowerCase().includes(t)),Oe=e=>(null==e?void 0:e.toLowerCase().startsWith("date"))||(null==e?void 0:e.toLowerCase().startsWith("nullable(date")),Ie=e=>("string"===(e=(e=>e.toLowerCase().replace(/\(/g,"").replace(/\)/g,"").replace(/nullable/g,"").replace(/lowcardinality/g,""))(e.toLowerCase()))||e.startsWith("fixedstring"))&&!(Re(e)||de(e)||Oe(e)),Ne=e=>e===m.IsNull||e===m.IsNotNull,be=e=>Re(e),Ce=e=>de(e),ye=(e,t)=>Oe(e)&&(t===m.WithInGrafanaTimeRange||t===m.OutsideGrafanaTimeRange),Le=e=>Oe(e),he=(e,t)=>Ie(e)&&!(t===m.In||t===m.NotIn),fe=(e,t)=>Ie(e)&&(t===m.In||t===m.NotIn),$e=[["timestamp",E.Time],["body",E.LogMessage],["level",E.LogLevel],["labels",E.LogLabels],["traceID",E.TraceId]],De=new Map($e),Pe=new Map($e.map(e=>[e[1],e[0]]));var ge=c(5959),xe=c.n(ge);const we="4.11.2";function Me(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ue=we,ve=/^(\d+)(?:\.(\d+))?(?:\.(\d+))?(?:-([0-9A-Za-z\.]+))?/;class ke{isGtOrEq(e){const t=new ke(e);for(let e=0;e<this.comparable.length;++e){if(this.comparable[e]>t.comparable[e])return!0;if(this.comparable[e]<t.comparable[e])return!1}return!0}isValid(){return(0,y.isNumber)(this.major)}get comparable(){return[this.major,this.minor,this.patch]}constructor(e){Me(this,"major",void 0),Me(this,"minor",void 0),Me(this,"patch",void 0),Me(this,"meta",void 0),this.major=0,this.minor=0,this.patch=0,this.meta="";const t=ve.exec(e);t&&(this.major=Number(t[1]),this.minor=Number(t[2]||0),this.patch=Number(t[3]||0),this.meta=t[4])}}function Ge(e,t){return new ke(e).isGtOrEq(t)}function Be(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function He(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){Be(e,t,s[t])})}return e}function Fe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Ye=e=>{var t,s,a,r,n;return((null===(t=e.columns)||void 0===t?void 0:t.length)||0)>0||((null===(s=e.filters)||void 0===s?void 0:s.length)||0)>0||((null===(a=e.orderBy)||void 0===a?void 0:a.length)||0)>0||((null===(r=e.aggregates)||void 0===r?void 0:r.length)||0)>0||((null===(n=e.groupBy)||void 0===n?void 0:n.length)||0)>0},Ve=e=>{switch(null==e?void 0:e.queryType){case l.Table:return 1;case l.Logs:return 2;case l.TimeSeries:return 0;case l.Traces:var t;return(null===(t=e.meta)||void 0===t?void 0:t.isTraceIdMode)?3:1;default:return 256}},We=e=>{switch(e){case l.Table:return 1;case l.Logs:return 2;case l.TimeSeries:return 0;case l.Traces:return 3;default:return 256}},Xe=e=>{switch(e){case 0:return l.TimeSeries;case 1:default:return l.Table;case 2:return l.Logs;case 3:return l.Traces}},Ke=(e,t)=>{const s=new Map;t&&t.forEach((e,t)=>{s.set(e.toLowerCase().trim(),t)});for(const t of e){var a;if(t.hint)continue;const e=t.name.toLowerCase().trim(),r=(null===(a=t.alias)||void 0===a?void 0:a.toLowerCase().trim())||"",n=s.get(e)||s.get(r);n?t.hint=n:e.includes("time")&&(t.hint=E.Time)}},qe=e=>e.toLowerCase().replace(/ /g,"_");var je=c(6089);const Je={QueryEditor:{CodeEditor:{input:()=>".monaco-editor textarea",container:"data-testid-code-editor-container",Expand:"data-testid-code-editor-expand-button"},Format:{label:"Format",tooltip:"Query Type",options:{AUTO:"Auto",TABLE:"Table",TIME_SERIES:"Time Series",LOGS:"Logs",TRACE:"Trace"}},Types:{label:"Query Type",tooltip:"Query Type",options:{SQLEditor:"SQL Editor",QueryBuilder:"Query Builder"},switcher:{title:"Are you sure?",body:"Queries that are too complex for the Query Builder will be altered.",confirmText:"Continue",dismissText:"Cancel"},cannotConvert:{title:"Cannot convert",confirmText:"Yes"}},QueryBuilder:{TYPES:{label:"Show as",tooltip:"Show as",options:{LIST:"Table",AGGREGATE:"Aggregate",TREND:"Time Series"}},DATABASE:{label:"Database",tooltip:"Clickhouse database to query from"},FROM:{label:"Table",tooltip:"Clickhouse table to query from"},SELECT:{label:"Fields",tooltipTable:"List of fields to show",tooltipAggregate:"List of metrics to show. Use any of the given aggregation along with the field",ALIAS:{label:"as",tooltip:"alias"},AddLabel:"Field",RemoveLabel:""},AGGREGATES:{label:"Aggregates",tooltipTable:"Aggregate functions to use",tooltipAggregate:"Aggregate functions to use",ALIAS:{label:"as",tooltip:"alias"},AddLabel:"Aggregate",RemoveLabel:""},WHERE:{label:"Filters",tooltip:"List of filters",AddLabel:"Filter",RemoveLabel:""},GROUP_BY:{label:"Group by",tooltip:"Group the results by specific field"},ORDER_BY:{label:"Order by",tooltip:"Order by field",AddLabel:"Order by",RemoveLabel:""},LIMIT:{label:"Limit",tooltip:"Number of records/results to show."},TIME_FIELD:{label:"Time field",tooltip:"Select the time field for trending over time"},LOGS_VOLUME_TIME_FIELD:{label:"Time field",tooltip:"Select the time field for logs volume histogram. If not selected, the histogram will not be shown"},LOG_LEVEL_FIELD:{label:"Log level field",tooltip:"Select the field to extract log level information from"},PREVIEW:{label:"SQL Preview",tooltip:"SQL Preview. You can safely switch to SQL Editor to customize the generated query"}}},Config:{HttpHeaderConfig:{headerEditor:"config__http-header-config__header-editor",addHeaderButton:"config__http-header-config__add-header-button",removeHeaderButton:"config__http-header-config__remove-header-button",headerSecureSwitch:"config__http-header-config__header-secure-switch",headerNameInput:"config__http-header-config__header-name-input",headerValueInput:"config__http-header-config__header-value-input",forwardGrafanaHeadersSwitch:"config__http-header-config__forward-grafana-headers-switch"},AliasTableConfig:{aliasEditor:"config__alias-table-config__alias-editor",addEntryButton:"config__alias-table-config__add-entry-button",removeEntryButton:"config__alias-table-config__remove-entry-button",targetDatabaseInput:"config__alias-table-config__target-database-input",targetTableInput:"config__alias-table-config__target-table-input",aliasDatabaseInput:"config__alias-table-config__alias-database-input",aliasTableInput:"config__alias-table-config__alias-table-input"}},LogsContextPanel:{alert:"logs-context-panel__alert",LogsContextKey:"logs-context-panel__logs-context-key"},QueryBuilder:{expandBuilderButton:"query-builder__expand-builder-button",LogsQueryBuilder:{LogMessageLikeInput:{input:"query-builder__logs-query-builder__log-message-like-input__input"}},AggregateEditor:{sectionLabel:"query-builder__aggregate-editor__section-label",itemWrapper:"query-builder__aggregate-editor__item-wrapper",itemRemoveButton:"query-builder__aggregate-editor-item-remove-button",addButton:"query-builder__aggregate-editor__add-button"},ColumnsEditor:{multiSelectWrapper:"query-builder__columns-editor__multi-select-wrapper"},GroupByEditor:{multiSelectWrapper:"query-builder__group-by__multi-select-wrapper"},LimitEditor:{input:"query-builder__limit-editor__input"},TraceIdInput:{input:"query-builder__trace-id-input__input"}}},Qe=Je,Ze=je.css`
  display: flex;
  justify-content: flex-start;
  flex-wrap: wrap;
  width: 100%;
`,ze=e=>"db"===(e=e.toLowerCase())||"database"===e||e.includes("data")?"database":e.includes("service")?"building":e.includes("error")||e.includes("warn")||e.includes("critical")||e.includes("fatal")?"exclamation-triangle":e.includes("user")||e.includes("admin")?"user":e.includes("email")?"at":e.includes("file")?"file-alt":e.includes("bug")?"bug":e.includes("search")?"search":e.includes("tag")?"tag-alt":e.includes("span")||e.includes("stack")?"brackets-curly":"host"===e||"hostname"===e||e.includes("host")?"cloud":"url"===e||e.includes("url")?"link":e.includes("container")||e.includes("pod")?"cube":"align-left",et=e=>{const{name:t,value:s,primaryColor:a,primaryTextColor:r,secondaryColor:n,secondaryTextColor:o}=e,l={container:je.css`
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0.25em;
      color: ${r};
    `,containerLeft:je.css`
      display: flex;
      align-items: center;
      background-color: ${a};
      border-radius: 2px;
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;

      padding-top: 0.15em;
      padding-bottom: 0.15em;
      padding-left: 0.25em;
      padding-right: 0.25em;
    `,contextName:je.css`
      font-weight: bold;
      padding-left: 0.25em;
      user-select: all;
    `,contextValue:je.css`
      background-color: ${n};
      color: ${o};
      border-radius: 2px;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
      user-select: all;
      font-family: monospace;

      padding-top: 0.15em;
      padding-bottom: 0.15em;
      padding-left: 0.25em;
      padding-right: 0.25em;
    `};return xe().createElement("div",{className:l.container,"data-testid":Je.LogsContextPanel.LogsContextKey},xe().createElement("div",{className:l.containerLeft},xe().createElement($.Icon,{name:ze(t),size:"md"}),xe().createElement("div",null,"test"),xe().createElement("span",{className:l.contextName},t)),xe().createElement("span",{className:l.contextValue},s))},tt=e=>{const{columns:t,datasourceUid:s}=e,a=(0,$.useTheme2)();return t&&0!==t.length?xe().createElement("div",{className:Ze},t.map(e=>xe().createElement(et,{key:e.name,name:e.name,value:e.value,primaryColor:a.colors.secondary.main,primaryTextColor:a.colors.text.primary,secondaryColor:a.colors.background.secondary,secondaryTextColor:a.colors.info.text}))):xe().createElement($.Alert,{"data-testid":Je.LogsContextPanel.alert,title:"",severity:"warning"},xe().createElement($.Stack,{direction:"column"},xe().createElement("div",null,"Unable to match any context columns. Make sure your query returns at least one log context column from your ",xe().createElement("a",{style:{textDecoration:"underline"},href:`/connections/datasources/edit/${encodeURIComponent(s)}#logs-config`},"ClickHouse Data Source settings"))))};function st(e,t,s,a,r,n,o){try{var l=e[n](o),i=l.value}catch(e){return void s(e)}l.done?t(i):Promise.resolve(i).then(a,r)}function at(e){return function(){var t=this,s=arguments;return new Promise(function(a,r){var n=e.apply(t,s);function o(e){st(n,a,r,o,l,"next",e)}function l(e){st(n,a,r,o,l,"throw",e)}o(void 0)})}}function rt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function nt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){rt(e,t,s[t])})}return e}function ot(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}class lt extends r.DataSourceWithBackend{getDataProvider(e,t){if(this.getSupportedSupplementaryQueryTypes().includes(e)&&e===a.SupplementaryQueryType.LogsVolume){const e=(0,y.cloneDeep)(t),s=function(e){if(e.__interval_ms){let t,s=e.__interval_ms.value;return s>g?(s=864e5,t="1d"):s>P?(s=g,t="1h"):s>D?(s=P,t="1m"):(s=D,t="1s"),{interval:t,intervalMs:s}}return{interval:"$__interval"}}(e.scopedVars);e.interval=s.interval,e.scopedVars.__interval={value:s.interval,text:s.interval},e.hideFromInspector=!0,void 0!==s.intervalMs&&(e.intervalMs=s.intervalMs,e.scopedVars.__interval_ms={value:s.intervalMs,text:s.intervalMs});const a=[];if(e.targets.forEach(t=>{const s=this.getSupplementaryLogsVolumeQuery(e,t);void 0!==s&&a.push(s)}),!a.length)return;return U(this,ot(nt({},e),{targets:a}),{range:e.range,targets:e.targets})}}getSupportedSupplementaryQueryTypes(){return[a.SupplementaryQueryType.LogsVolume]}getSupplementaryLogsVolumeQuery(e,t){var s;if(t.editorType!==_.Builder||t.builderOptions.queryType!==l.Logs||t.builderOptions.mode!==o.List||""===t.builderOptions.database||""===t.builderOptions.table)return;const a=oe(t.builderOptions,E.Time);if(void 0===a)return;const r=[],n=[];r.push({name:k(e.scopedVars,a.name),alias:G,hint:E.Time});const c=oe(t.builderOptions,E.LogLevel);if(c){const e=`toString("${c.name}")`;let t;for(t in H)n.push({aggregateType:i.Sum,column:`multiSearchAny(${e}, [${H[t]}])`,alias:t})}else n.push({aggregateType:i.Count,column:"*",alias:B});const T=((null===(s=t.builderOptions.filters)||void 0===s?void 0:s.slice())||[]).map(e=>{if(e.hint&&!e.key){const s=oe(t.builderOptions,e.hint);e.key=(null==s?void 0:s.alias)||(null==s?void 0:s.name)||""}return e}),p={database:t.builderOptions.database,table:t.builderOptions.table,queryType:l.TimeSeries,filters:T,columns:r,aggregates:n,orderBy:[{name:"",hint:E.Time,dir:u.ASC}]},m=z(p);return{pluginVersion:Ue,editorType:_.Builder,builderOptions:p,rawSql:m,refId:""}}getSupplementaryQuery(e,t){}metricFindQuery(e,t){return at(function*(){var s,a,r,n;0===this.adHocFiltersStatus&&(this.adHocFiltersStatus=yield this.canUseAdhocFilters());const o=(0,y.isString)(e)?{rawSql:e,editorType:_.SQL}:e;if(o.editorType!==_.SQL&&o.editorType!==_.Builder&&o.editorType)return[];if(!o.rawSql)return[];const l=yield this.runQuery(o,t);if(0===(null===(s=l.fields)||void 0===s?void 0:s.length))return[];var i;if(1===(null==l||null===(a=l.fields)||void 0===a?void 0:a.length))return null==l||null===(i=l.fields[0])||void 0===i?void 0:i.values.map(e=>({text:e,value:e}));const E=null==l||null===(r=l.fields[0])||void 0===r?void 0:r.values;return null==l||null===(n=l.fields[1])||void 0===n?void 0:n.values.map((e,t)=>({text:e,value:E.get(t)}))}).call(this)}applyTemplateVariables(e,t,s=[]){let a=e.rawSql||"";const n=(0,r.getTemplateSrv)();if(a=this.applyConditionalAll(a,n.getVariables()),a=this.replace(a,t)||"",!this.skipAdHocFilter){if(2===this.adHocFiltersStatus&&s.length>0)throw new Error(`Unable to apply ad hoc filters. Upgrade ClickHouse to >=${this.adHocCHVerReq.major}.${this.adHocCHVerReq.minor} or remove ad hoc filters for the dashboard.`);a=this.adHocFilter.apply(a,s)}return this.skipAdHocFilter=!1,ot(nt({},e),{rawSql:a})}applyConditionalAll(e,t){if(!e)return e;const s="$__conditionalAll(";let a=e.lastIndexOf(s);for(;-1!==a;){const r=this.getMacroArgs(e,a+18-1);if(2!==r.length)return e;const n=r[1].trim(),o=new RegExp(RegExp("(?<=\\$\\{)[\\w\\d]+(?=\\})|(?<=\\$)[\\w\\d]+")).exec(n);let l=r[0];if(o){const e=t.find(e=>e.name===o[0]);let s=null==e?void 0:e.current.value.toString();""!==s&&"$__all"!==s||(l="1=1")}a=(e=e.replace(`${s}${r[0]},${r[1]})`,l)).lastIndexOf(s)}return e}modifyQuery(e,t){var s,a,r;if(e.editorType!==_.Builder||!t.options||!t.options.key||!t.options.value)return e;let n=t.options.key||"";const o=t.frame,l=t.options.value;let i="";if(["ResourceAttributes","ScopeAttributes","LogAttributes"].includes(n.split(".")[0])){const e=n.indexOf(".");i=n.substring(e+1),n=n.substring(0,e)}const c=null===(s=e.builderOptions.columns)||void 0===s?void 0:s.find(e=>e.alias===n),T=null===(a=e.builderOptions.columns)||void 0===a?void 0:a.find(e=>e.name===n),p=De.has(n)?oe(e.builderOptions,De.get(n)):void 0,u=((e,t)=>{if(!e||!e.fields||0===e.fields.length)return!1;const s=Pe.get(E.LogLabels),a=e.fields.find(e=>e.name===s);if(!a||!a.values||a.values.length<1||!a.values.get(0))return!1;const r=a.values.get(0)||{};return Object.keys(r).includes(t)})(o,n)&&oe(e.builderOptions,E.LogLabels),A=c||T||p||u,R=A&&A.type||"",S=""!==i||Boolean(u);let d=(null===(r=e.builderOptions.filters)||void 0===r?void 0:r.slice())||[];"ADD_FILTER"===t.type?(d=d.filter(e=>!("string"===e.type&&(A&&A.hint&&e.hint?e.hint===A.hint:e.key===n)&&(e.operator===m.IsAnything||e.operator===m.Equals||e.operator===m.NotEquals)||(e.type.startsWith("Map")||e.type.startsWith("JSON"))&&A&&S&&e.mapKey===i&&(e.operator===m.IsAnything||e.operator===m.Equals||e.operator===m.NotEquals))),d.push({condition:"AND",key:A&&A.hint?"":n,hint:A&&A.hint?A.hint:void 0,mapKey:S?i:void 0,type:S?R.startsWith("Map")?"Map(String, String)":"JSON":"String",filterType:"custom",operator:m.Equals,value:l})):"ADD_FILTER_OUT"===t.type&&(d=d.filter(e=>!("string"===e.type&&(A&&A.hint&&e.hint?e.hint===A.hint:e.key===n)&&"value"in e&&e.value===l&&(e.operator===m.IsAnything||e.operator===m.NotEquals)||"string"===e.type&&(A&&A.hint&&e.hint?e.hint===A.hint:e.key===n)&&(e.operator===m.IsAnything||e.operator===m.Equals)||(e.type.startsWith("Map")||e.type.startsWith("JSON"))&&A&&S&&e.mapKey===i&&(e.operator===m.IsAnything||e.operator===m.Equals))),d.push({condition:"AND",key:A&&A.hint?"":n,hint:A&&A.hint?A.hint:void 0,mapKey:S?i:void 0,type:S?R.startsWith("Map")?"Map(String, String)":"JSON":"String",filterType:"custom",operator:m.NotEquals,value:l}));const O=ot(nt({},e.builderOptions),{filters:d});return ot(nt({},e),{rawSql:z(O),builderOptions:O})}getMacroArgs(e,t){const s=[],a=/\(|\)|,/g;let r,n=0,o=1;const l=e.substring(t,e.length);for(;null!==(r=a.exec(l));){const e=r[0];if("("===e?n++:")"===e&&n--,","===e&&1===n&&(s.push(l.substring(o,a.lastIndex-1)),o=a.lastIndex),0===n)return s.push(l.substring(o,a.lastIndex-1)),s}return[]}replace(e,t){return void 0!==e?(0,r.getTemplateSrv)().replace(e,t,this.format):e}format(e){return Array.isArray(e)?`'${e.join("','")}'`:e}getDefaultDatabase(){return this.settings.jsonData.defaultDatabase||"default"}getDefaultTable(){return this.settings.jsonData.defaultTable}getDefaultLogsDatabase(){var e;return null===(e=this.settings.jsonData.logs)||void 0===e?void 0:e.defaultDatabase}getDefaultLogsTable(){var e;return null===(e=this.settings.jsonData.logs)||void 0===e?void 0:e.defaultTable}getDefaultLogsColumns(){const e=new Map,t=this.settings.jsonData.logs;if(!t)return e;const s=t.otelEnabled,a=t.otelVersion,r=j.getVersion(a);return s&&r?r.logColumnMap:(t.timeColumn&&e.set(E.Time,t.timeColumn),t.levelColumn&&e.set(E.LogLevel,t.levelColumn),t.messageColumn&&e.set(E.LogMessage,t.messageColumn),e)}shouldSelectLogContextColumns(){var e;return(null===(e=this.settings.jsonData.logs)||void 0===e?void 0:e.selectContextColumns)||!1}getLogContextColumnNames(){var e,t,s;return(null===(t=this.settings.jsonData.logs)||void 0===t||null===(e=t.contextColumns)||void 0===e?void 0:e.length)?null===(s=this.settings.jsonData.logs)||void 0===s?void 0:s.contextColumns:[]}getLogsOtelVersion(){const e=this.settings.jsonData.logs;return(null==e?void 0:e.otelEnabled)&&e.otelVersion||void 0}getDefaultTraceDatabase(){var e;return null===(e=this.settings.jsonData.traces)||void 0===e?void 0:e.defaultDatabase}getDefaultTraceTable(){var e;return null===(e=this.settings.jsonData.traces)||void 0===e?void 0:e.defaultTable}getDefaultTraceColumns(){const e=new Map,t=this.settings.jsonData.traces;if(!t)return e;const s=t.otelEnabled,a=t.otelVersion,r=j.getVersion(a);return s&&r?r.traceColumnMap:(t.traceIdColumn&&e.set(E.TraceId,t.traceIdColumn),t.spanIdColumn&&e.set(E.TraceSpanId,t.spanIdColumn),t.operationNameColumn&&e.set(E.TraceOperationName,t.operationNameColumn),t.parentSpanIdColumn&&e.set(E.TraceParentSpanId,t.parentSpanIdColumn),t.serviceNameColumn&&e.set(E.TraceServiceName,t.serviceNameColumn),t.durationColumn&&e.set(E.TraceDurationTime,t.durationColumn),t.startTimeColumn&&e.set(E.Time,t.startTimeColumn),t.tagsColumn&&e.set(E.TraceTags,t.tagsColumn),t.serviceTagsColumn&&e.set(E.TraceServiceTags,t.serviceTagsColumn),t.kindColumn&&e.set(E.TraceKind,t.kindColumn),t.statusCodeColumn&&e.set(E.TraceStatusCode,t.statusCodeColumn),t.statusMessageColumn&&e.set(E.TraceStatusMessage,t.statusMessageColumn),t.instrumentationLibraryNameColumn&&e.set(E.TraceInstrumentationLibraryName,t.instrumentationLibraryNameColumn),t.instrumentationLibraryVersionColumn&&e.set(E.TraceInstrumentationLibraryVersion,t.instrumentationLibraryVersionColumn),t.stateColumn&&e.set(E.TraceState,t.stateColumn),e)}getTraceOtelVersion(){const e=this.settings.jsonData.traces;return(null==e?void 0:e.otelEnabled)&&e.otelVersion||void 0}getDefaultTraceDurationUnit(){var e;return(null===(e=this.settings.jsonData.traces)||void 0===e?void 0:e.durationUnit)||T.Nanoseconds}getDefaultTraceFlattenNested(){var e;return(null===(e=this.settings.jsonData.traces)||void 0===e?void 0:e.flattenNested)||!1}getDefaultTraceEventsColumnPrefix(){var e;return(null===(e=this.settings.jsonData.traces)||void 0===e?void 0:e.traceEventsColumnPrefix)||"Events"}getDefaultTraceLinksColumnPrefix(){var e;return(null===(e=this.settings.jsonData.traces)||void 0===e?void 0:e.traceLinksColumnPrefix)||"Links"}fetchDatabases(){return at(function*(){return this.fetchData("SHOW DATABASES")}).call(this)}fetchTables(e){return at(function*(){const t=e?`SHOW TABLES FROM "${e}"`:"SHOW TABLES";return this.fetchData(t)}).call(this)}fetchUniqueMapKeys(e,t,s){return at(function*(){const a=`SELECT DISTINCT arrayJoin(${e}.keys) as keys FROM "${t}"."${s}" LIMIT 1000`;return this.fetchData(a)}).call(this)}fetchEntities(){return at(function*(){return this.fetchTables()}).call(this)}fetchFields(e,t){return at(function*(){return this.fetchData(`DESC TABLE "${e}"."${t}"`)}).call(this)}fetchPathsForJSONColumns(e,t,s){return at(function*(){var r;const n=Boolean(e)?`"${e}".`:"",o=`SELECT arrayJoin(distinctJSONPathsAndTypes(${s})) FROM ${n}"${t}" SETTINGS max_execution_time=10`,l=yield this.runQuery({rawSql:o});if(0===(null===(r=l.fields)||void 0===r?void 0:r.length))return[];const i=new a.DataFrameView(l),E=[];for(let e of i){if(!e||!e[0])continue;const t="string"==typeof e[0]?JSON.parse(e[0]):e[0];t.keys&&t.values&&E.push([t.keys,t.values])}const c=[];for(let e of E){const t=e[0],a=e[1];t&&a&&0!==a.length&&c.push({name:`${s}.${t}`,label:`${s}.${t}`,type:a[0],picklistValues:[]})}return c}).call(this)}fetchColumnsFromTable(e,t){return at(function*(){var s;const r=`DESC TABLE ${Boolean(e)?`"${e}".`:""}"${t}"`,n=yield this.runQuery({rawSql:r});if(0===(null===(s=n.fields)||void 0===s?void 0:s.length))return[];const o=new a.DataFrameView(n).map(e=>({name:e[0],type:e[1],label:e[0],picklistValues:[]})),l=yield Promise.all(o.filter(e=>e.type.startsWith("JSON")).map(s=>this.fetchPathsForJSONColumns(e,t,s.name)));return[...o,...l.flat()]}).call(this)}fetchSqlFunctions(){return at(function*(){var e;const t=yield this.runQuery({rawSql:"\n      SELECT\n        name, is_aggregate, case_insensitive, alias_to, origin, description,\n        syntax, arguments, returned_value, examples, categories\n      FROM system.functions\n      LIMIT 10000\n    "});if(0===(null===(e=t.fields)||void 0===e?void 0:e.length))return[];return new a.DataFrameView(t).map(e=>({name:String(e[0]),isAggregate:Boolean(e[1]),caseInsensitive:Boolean(e[2]),aliasTo:String(e[3]),origin:String(e[4]),description:String(e[5]),syntax:String(e[6]),arguments:String(e[7]),returnedValue:String(e[8]),examples:String(e[9]),categories:String(e[10])}))}).call(this)}fetchColumnsFromAliasTable(e){return at(function*(){var t;const s=`SELECT alias, select, "type" FROM ${e}`,r=yield this.runQuery({rawSql:s});if(0===(null===(t=r.fields)||void 0===t?void 0:t.length))return[];return new a.DataFrameView(r).map(e=>({name:e[1],type:e[2],label:e[0],picklistValues:[]}))}).call(this)}getAliasTable(e,t){var s,a;const r=((null===(a=this.settings)||void 0===a||null===(s=a.jsonData)||void 0===s?void 0:s.aliasTables)||[]).find(s=>{const a=!s.targetDatabase||s.targetDatabase===e,r=s.targetTable===t;return a&&r})||null;if(null===r)return null;const n=r.aliasDatabase||e||null,o=r.aliasTable;return`${Boolean(n)?`"${n}".`:""}"${o}"`}fetchColumns(e,t){return at(function*(){const s=this.getAliasTable(e,t);return null!==s?this.fetchColumnsFromAliasTable(s):this.fetchColumnsFromTable(e,t)}).call(this)}fetchData(e){return at(function*(){const t=yield this.runQuery({rawSql:e});return this.values(t)}).call(this)}getTimezone(e){if(e.timezone&&"browser"!==e.timezone)return e.timezone;const t=(0,a.getTimeZoneInfo)((0,a.getTimeZone)(),Date.now());return null==t?void 0:t.ianaName}query(e){const t=e.targets.filter(e=>!0!==e.hide).map(t=>ot(nt({},t),{meta:ot(nt({},null==t?void 0:t.meta),{timezone:this.getTimezone(e)})}));return super.query(ot(nt({},e),{targets:t})).pipe((0,n.map)(t=>((e,t,s)=>(s.data.forEach(s=>{var r,n,o,i;const c=t.targets.find(e=>e.refId===s.refId);if(!c)return;const T=s.fields.find(e=>"traceid"===e.name.toLowerCase()||"trace_id"===e.name.toLowerCase());if(!T)return;const p={datasource:e,editorType:_.Builder,rawSql:"",builderOptions:{},pluginVersion:Ue,refId:"Trace ID"};if(c.editorType===_.Builder&&c.builderOptions.queryType===l.Traces)p.builderOptions=Fe(He({},c.builderOptions),{filters:[],orderBy:[],meta:Fe(He({},c.builderOptions.meta),{minimized:!0,isTraceIdMode:!0,traceId:"${__value.raw}"})});else{const t=e.getTraceOtelVersion(),s=j.getVersion(t),a=e.getDefaultTraceEventsColumnPrefix(),r=e.getDefaultTraceLinksColumnPrefix(),n={database:e.getDefaultTraceDatabase()||p.builderOptions.database||e.getDefaultDatabase(),table:e.getDefaultTraceTable()||e.getDefaultTable()||p.builderOptions.table,queryType:l.Traces,columns:[],filters:[],orderBy:[],meta:{minimized:!0,isTraceIdMode:!0,traceId:"${__value.raw}",traceDurationUnit:e.getDefaultTraceDurationUnit(),otelEnabled:Boolean(t),otelVersion:t,traceEventsColumnPrefix:a,traceLinksColumnPrefix:r}};if(null==s?void 0:s.traceColumnMap)n.columns=Array.from(s.traceColumnMap,([e,t])=>({name:t,hint:e}));else{const t=e.getDefaultTraceColumns();for(let[e,s]of t)n.columns.push({name:s,hint:e})}p.builderOptions=n}const A={datasource:e,editorType:_.Builder,rawSql:"",builderOptions:{},pluginVersion:Ue,refId:"Trace Logs"};if(c.editorType===_.Builder&&c.builderOptions.queryType===l.Logs)A.builderOptions=Fe(He({},c.builderOptions),{filters:[{type:"string",operator:m.Equals,filterType:"custom",key:"",hint:E.TraceId,condition:"AND",value:"${__value.raw}"}],orderBy:[{name:"",hint:E.Time,dir:u.ASC}],meta:Fe(He({},c.builderOptions.meta),{minimized:!0})});else{const t=e.getLogsOtelVersion(),s={database:e.getDefaultLogsDatabase()||A.builderOptions.database||e.getDefaultDatabase(),table:e.getDefaultLogsTable()||e.getDefaultTable()||A.builderOptions.table,queryType:l.Logs,columns:[],orderBy:[{name:"",hint:E.Time,dir:u.ASC}],filters:[{type:"string",operator:m.Equals,filterType:"custom",key:"",hint:E.TraceId,condition:"AND",value:"${__value.raw}"}],meta:{minimized:!0,otelEnabled:Boolean(t),otelVersion:t}},a=e.getDefaultLogsColumns();for(let[e,t]of a)s.columns.push({name:t,hint:e});A.builderOptions=s}const R=t.app!==a.CoreApp.Explore;T.config.links=[],T.config.links.push({title:"View trace",targetBlank:R,url:"",internal:{query:p,datasourceUid:null===(r=p.datasource)||void 0===r?void 0:r.uid,datasourceName:null===(n=p.datasource)||void 0===n?void 0:n.type,panelsState:{trace:{spanId:"${__value.raw}"}}}}),T.config.links.push({title:"View logs",targetBlank:R,url:"",internal:{query:A,datasourceUid:null===(o=A.datasource)||void 0===o?void 0:o.uid,datasourceName:null===(i=A.datasource)||void 0===i?void 0:i.type}})}),s))(this,e,t)))}runQuery(e,t){return new Promise(s=>{const a={targets:[ot(nt({},e),{refId:String(Math.random())})],range:t?t.range:(0,r.getTemplateSrv)().timeRange};this.query(a).subscribe(e=>{s(e.data[0]||{fields:[]})})})}values(e){var t,s;return 0===(null===(t=e.fields)||void 0===t?void 0:t.length)?[]:null==e||null===(s=e.fields[0])||void 0===s?void 0:s.values.map(e=>e)}getTagKeys(){return at(function*(){if((2===this.adHocFiltersStatus||0===this.adHocFiltersStatus)&&(this.adHocFiltersStatus=yield this.canUseAdhocFilters(),2===this.adHocFiltersStatus))return{};const{type:e,frame:t}=yield this.fetchTags();if(0===e)return t.fields.map(e=>({text:e.name}));return new a.DataFrameView(t).map(e=>({text:`${e[2]}.${e[0]}`}))}).call(this)}getTagValues(e){return at(function*({key:e}){const{type:t}=this.getTagSource();return this.skipAdHocFilter=!0,0===t?this.fetchTagValuesFromQuery(e):this.fetchTagValuesFromSchema(e)}).apply(this,arguments)}fetchTagValuesFromSchema(e){return at(function*(){var t;const{from:s}=this.getTagSource(),[a,r]=e.split("."),n=`select distinct ${r} from ${(null==s?void 0:s.includes("."))?`${s.split(".")[0]}.${a}`:a} limit 1000`,o=yield this.runQuery({rawSql:n});if(0===(null===(t=o.fields)||void 0===t?void 0:t.length))return[];return o.fields[0].values.filter(e=>null!==e).map(e=>({text:String(e)}))}).call(this)}fetchTagValuesFromQuery(e){return at(function*(){const{frame:t}=yield this.fetchTags(),s=t.fields.find(t=>t.name===e);return s?s.values.filter(e=>null!==e).map(e=>({text:String(e)})):[]}).call(this)}fetchTags(){return at(function*(){const e=this.getTagSource();if(this.skipAdHocFilter=!0,void 0===e.source){const e="SELECT name, type, table FROM system.columns";return{type:1,frame:yield this.runQuery({rawSql:e})}}0===e.type&&this.adHocFilter.setTargetTableFromQuery(e.source);const t=yield this.runQuery({rawSql:e.source});return{type:e.type,frame:t}}).call(this)}getTagSource(){const e="$clickhouse_adhoc_query",t=this.getDefaultDatabase();let s=(0,r.getTemplateSrv)().replace(e);if(s===e&&(0,y.isEmpty)(t))return{type:1,source:void 0};if(s=s===e?t:s,s.toLowerCase().startsWith("select"))return{type:0,source:s};if(!s.includes(".")){return{type:1,source:`SELECT name, type, table FROM system.columns WHERE database IN ('${s}')`,from:s}}const[a,n]=s.split(".");return{type:1,source:`SELECT name, type, table FROM system.columns WHERE database IN ('${a}') AND table = '${n}'`,from:s}}canUseAdhocFilters(){return at(function*(){this.skipAdHocFilter=!0;const e=yield this.fetchData("SELECT version()");try{const t=e[0].split("."),s={major:Number.parseInt(t[0],10),minor:Number.parseInt(t[1],10)};return s.major>this.adHocCHVerReq.major||s.major===this.adHocCHVerReq.major&&s.minor>=this.adHocCHVerReq.minor?1:2}catch(e){throw console.error(`Unable to parse ClickHouse version: ${e}`),e}}).call(this)}getLogContextColumnsFromLogRow(e){const t=this.getLogContextColumnNames(),s=[];for(let a of t){const t=a.includes("['")&&a.includes("']");let r="",n="";t&&(r=a.substring(0,a.indexOf("[")),n=a.substring(a.indexOf("['")+2,a.lastIndexOf("']")));const o=e.dataFrame.fields.find(e=>e.name===a||t&&(e.name===r||e.name===`arrayElement(${r}, '${n}')`));if(!o)continue;let l,i=o.values.get(e.rowIndex);(i&&"other"===o.type&&t&&(i=i[n]),i)&&(l=t?`${r}['${n}']`:a,s.push({name:l,value:i}))}return s}getLogRowContext(e,t,s,r){return at(function*(){if(!s)throw new Error("Missing query for log context");if(!t||!t.direction||void 0===t.limit)throw new Error("Missing log context options for query");if(s.editorType===_.SQL||!s.builderOptions)throw new Error("Log context feature only works for builder queries");const r=(0,y.cloneDeep)(s);r.refId="";const o=r.builderOptions;if(o.limit=t.limit,!oe(o,E.Time))throw new Error("Missing time column for log context");o.orderBy=[],o.orderBy.push({name:"",hint:E.Time,dir:t.direction===a.LogRowContextQueryDirection.Forward?u.ASC:u.DESC}),o.filters=[],o.filters.push({operator:t.direction===a.LogRowContextQueryDirection.Forward?m.GreaterThanOrEqual:m.LessThanOrEqual,filterType:"custom",hint:E.Time,key:"",value:`fromUnixTimestamp64Nano(${e.timeEpochNs})`,type:"datetime",condition:"AND"});const l=this.getLogContextColumnsFromLogRow(e);if(l.length<1)throw new Error("Unable to match any log context columns");const i=l.map(e=>({operator:m.Equals,filterType:"custom",key:e.name,value:e.value,type:"string",condition:"AND"}));o.filters.push(...i),r.rawSql=z(o);const c={targets:[r]};return yield(0,n.firstValueFrom)(this.query(c))}).call(this)}showContextToggle(e){return!0}getLogRowContextUi(e,t,s){const a=this.getLogContextColumnsFromLogRow(e);return(0,ge.createElement)(tt,{columns:a,datasourceUid:this.uid})}constructor(e){super(e),rt(this,"annotations",{}),rt(this,"settings",void 0),rt(this,"adHocFilter",void 0),rt(this,"skipAdHocFilter",!1),rt(this,"adHocFiltersStatus",0),rt(this,"adHocCHVerReq",{major:22,minor:7}),this.settings=e,this.adHocFilter=new C}}const it=({hasCert:e,label:t,onChange:s,onClick:a,placeholder:r})=>xe().createElement($.Field,{label:t},e?xe().createElement(xe().Fragment,null,xe().createElement($.Input,{type:"text",disabled:!0,value:"configured",width:24}),xe().createElement($.Button,{variant:"secondary",onClick:a,style:{marginLeft:4}},"Reset")):xe().createElement($.TextArea,{rows:7,onChange:s,placeholder:r,required:!0}));var Et=function(e){return e.Native="native",e.Http="http",e}({}),ct=c(8449);function Tt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function pt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){Tt(e,t,s[t])})}return e}function ut(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const mt=({children:e,title:t,description:s,isCollapsible:a=!1,isInitiallyOpen:r=!0,kind:n="section",className:o})=>{const{colors:l,typography:i,spacing:E}=(0,$.useTheme2)(),[c,T]=(0,ge.useState)(!a||r),p=c?"angle-up":"angle-down",u="sub-section"===n,m=`${c?"Collapse":"Expand"} section ${t}`,_={header:(0,je.css)({display:"flex",justifyContent:"space-between",alignItems:"center"}),title:(0,je.css)({margin:0}),subtitle:(0,je.css)({margin:0,fontWeight:i.fontWeightRegular}),descriptionText:(0,je.css)(ut(pt({marginTop:E(u?.25:.5),marginBottom:0},i.bodySmall),{color:l.text.secondary})),content:(0,je.css)({marginTop:E(2)})};return xe().createElement("div",{className:o},xe().createElement("div",{className:_.header},"section"===n?xe().createElement("h3",{className:_.title},t):xe().createElement("h6",{className:_.subtitle},t),a&&xe().createElement($.IconButton,{name:p,onClick:()=>T(!c),type:"button",size:"xl","aria-label":m})),s&&xe().createElement("p",{className:_.descriptionText},s),c&&xe().createElement("div",{className:_.content},e))};function _t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function At(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}function Rt(e,t){if(null==e)return{};var s,a,r=function(e,t){if(null==e)return{};var s,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}const St=e=>{var{children:t}=e,s=Rt(e,["children"]);return xe().createElement(mt,At(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){_t(e,t,s[t])})}return e}({},s),{kind:"section"}),t)};function dt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ot(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}function It(e,t){if(null==e)return{};var s,a,r=function(e,t){if(null==e)return{};var s,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}const Nt=e=>{var{children:t}=e,s=It(e,["children"]);return xe().createElement(mt,Ot(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){dt(e,t,s[t])})}return e}({},s),{kind:"sub-section"}),t)};function bt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ct(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){bt(e,t,s[t])})}return e}function yt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Lt=({dataSourceName:e,docsLink:t,hasRequiredFields:s=!0,className:a})=>{const r=(0,$.useTheme2)(),n={container:(0,je.css)({p:{margin:0},"p + p":{marginTop:r.spacing(2)}}),text:(0,je.css)(yt(Ct({},r.typography.body),{color:r.colors.text.secondary,a:(0,je.css)({color:r.colors.text.link,textDecoration:"underline","&:hover":{textDecoration:"none"}})}))};return xe().createElement("div",{className:(0,je.cx)(n.container,a)},xe().createElement("p",{className:n.text},"Before you can use the ",e," data source, you must configure it below or in the config file. For detailed instructions,"," ",xe().createElement("a",{href:t,target:"_blank",rel:"noreferrer"},"view the documentation"),"."),s&&xe().createElement("p",{className:n.text},xe().createElement("i",null,"Fields marked with * are required")))};function ht(){const e=(0,$.useTheme2)();return Ge(r.config.buildInfo.version,"10.1.0")?xe().createElement($.Divider,null):xe().createElement("div",{style:{borderTop:`1px solid ${e.colors.border.weak}`,margin:e.spacing(2,0),width:"100%"}})}const ft={components:{Config:{ConfigEditor:{serverAddress:{label:"Server address",placeholder:"Server address",tooltip:"ClickHouse host address",error:"Server address required"},serverPort:{label:"Server port",insecureNativePort:"9000",insecureHttpPort:"8123",secureNativePort:"9440",secureHttpPort:"8443",tooltip:"ClickHouse server port",error:"Port is required"},path:{label:"HTTP URL Path",tooltip:"Additional URL path for HTTP requests",placeholder:"additional-path"},protocol:{label:"Protocol",tooltip:"Native or HTTP for server protocol"},username:{label:"Username",placeholder:"default",tooltip:"ClickHouse username"},password:{label:"Password",placeholder:"password",tooltip:"ClickHouse password"},tlsSkipVerify:{label:"Skip TLS Verify",tooltip:"Skip TLS Verify"},tlsClientAuth:{label:"TLS Client Auth",tooltip:"TLS Client Auth"},tlsAuthWithCACert:{label:"With CA Cert",tooltip:"Needed for verifying self-signed TLS Certs"},tlsCACert:{label:"CA Cert",placeholder:"CA Cert. Begins with -----BEGIN CERTIFICATE-----"},tlsClientCert:{label:"Client Cert",placeholder:"Client Cert. Begins with -----BEGIN CERTIFICATE-----"},tlsClientKey:{label:"Client Key",placeholder:"Client Key. Begins with -----BEGIN RSA PRIVATE KEY-----"},secure:{label:"Secure Connection",tooltip:"Toggle on if the connection is secure"},secureSocksProxy:{label:"Enable Secure Socks Proxy",tooltip:"Enable proxying the datasource connection through the secure socks proxy to a different network."},enableRowLimit:{label:"Enable row limit",testid:"data-testid enable-row-limit-switch",tooltip:"Enable using the Grafana row limit setting to limit the number of rows returned from Clickhouse. Ensure the appropriate permissions are set for your user. Only supported for Grafana >= 11.0.0. Defaults to false."}},HttpHeadersConfig:{title:"HTTP Headers",label:"Custom HTTP Headers",description:"Add Custom HTTP headers when querying the database",headerNameLabel:"Header Name",headerNamePlaceholder:"X-Custom-Header",insecureHeaderValueLabel:"Header Value",secureHeaderValueLabel:"Secure Header Value",secureLabel:"Secure",addHeaderLabel:"Add Header",forwardGrafanaHeaders:{label:"Forward Grafana HTTP Headers",tooltip:"Forward Grafana HTTP Headers to datasource."}},AliasTableConfig:{title:"Column Alias Tables",descriptionParts:["Provide alias tables with a","(`alias` String, `select` String, `type` String)","schema to use as a source for column selection."],addTableLabel:"Add Table",targetDatabaseLabel:"Target Database",targetDatabasePlaceholder:"(optional)",targetTableLabel:"Target Table",aliasDatabaseLabel:"Alias Database",aliasDatabasePlaceholder:"(optional)",aliasTableLabel:"Alias Table"},DefaultDatabaseTableConfig:{title:"Default DB and table",database:{label:"Default database",description:"the default database used by the query builder",name:"defaultDatabase",placeholder:"default"},table:{label:"Default table",description:"the default table used by the query builder",name:"defaultTable",placeholder:"table"}},QuerySettingsConfig:{title:"Query settings",connMaxLifetime:{label:"Connection Max Lifetime (minutes)",name:"connMaxLifetime",placeholder:"5",tooltip:"Maximum lifetime of a connection in minutes"},dialTimeout:{label:"Dial Timeout (seconds)",name:"dialTimeout",placeholder:"10",tooltip:"Timeout in seconds for connection"},maxIdleConns:{label:"Max Idle Connections",name:"maxIdleConns",placeholder:"25",tooltip:"Maximum number of idle connections"},maxOpenConns:{label:"Max Open Connections",name:"maxOpenConns",placeholder:"50",tooltip:"Maximum number of open connections"},queryTimeout:{label:"Query Timeout (seconds)",name:"queryTimeout",placeholder:"60",tooltip:"Timeout in seconds for read queries"},validateSql:{label:"Validate SQL",tooltip:"Validate SQL in the editor."}},TracesConfig:{title:"Traces configuration",description:"(Optional) Default settings for trace queries",defaultDatabase:{label:"Default trace database",description:"the default database used by the trace query builder",name:"defaultDatabase",placeholder:"default"},defaultTable:{label:"Default trace table",description:"the default table used by the trace query builder",name:"defaultTable"},columns:{title:"Default columns",description:"Default columns for trace queries. Leave empty to disable.",traceId:{label:"Trace ID column",tooltip:"Column for the trace ID"},spanId:{label:"Span ID column",tooltip:"Column for the span ID"},parentSpanId:{label:"Parent Span ID column",tooltip:"Column for the parent span ID"},serviceName:{label:"Service Name column",tooltip:"Column for the service name"},operationName:{label:"Operation Name column",tooltip:"Column for the operation name"},startTime:{label:"Start Time column",tooltip:"Column for the start time"},durationTime:{label:"Duration Time column",tooltip:"Column for the duration time"},tags:{label:"Tags column",tooltip:"Column for the trace tags"},serviceTags:{label:"Service Tags column",tooltip:"Column for the service tags"},flattenNested:{label:"Use Flatten Nested",tooltip:"Enable if your traces table was created with flatten_nested=1"},eventsPrefix:{label:"Events prefix",tooltip:"Prefix for the events column (Events.Timestamp, Events.Name, etc.)"},linksPrefix:{label:"Links prefix",tooltip:"Prefix for the trace references column (Links.TraceId, Links.TraceState, etc.)"},kind:{label:"Kind column",tooltip:"Column for the trace kind"},statusCode:{label:"Status Code column",tooltip:"Column for the trace status code"},statusMessage:{label:"Status Message column",tooltip:"Column for the trace status message"},instrumentationLibraryName:{label:"Library Name column",tooltip:"Column for the instrumentation library name"},instrumentationLibraryVersion:{label:"Library Version column",tooltip:"Column for the instrumentation library version"},state:{label:"State column",tooltip:"Column for the trace state"}}},LogsConfig:{title:"Logs configuration",description:"(Optional) default settings for log queries",defaultDatabase:{label:"Default log database",description:"the default database used by the logs query builder",name:"defaultDatabase",placeholder:"default"},defaultTable:{label:"Default log table",description:"the default table used by the logs query builder",name:"defaultTable"},columns:{title:"Default columns",description:"Default columns for log queries. Leave empty to disable.",time:{label:"Time column",tooltip:"Column for the log timestamp"},level:{label:"Log Level column",tooltip:"Column for the log level"},message:{label:"Log Message column",tooltip:"Column for log message"}},contextColumns:{title:"Context columns",description:"These columns are used to narrow down a single log row to its original service/container/pod source. At least one is required for the log context feature to work.",selectContextColumns:{label:"Auto-Select Columns",tooltip:"When enabled, will always include context columns in log queries"},columns:{label:"Context Columns",tooltip:"Comma separated list of column names to use for identifying a log's source",placeholder:"Column name (enter key to add)"}}}},EditorTypeSwitcher:{label:"Editor Type",tooltip:"Switches between the raw SQL Editor and the Query Builder.",switcher:{title:"Are you sure?",body:"Queries that are too complex for the Query Builder will be altered.",confirmText:"Continue",dismissText:"Cancel"},cannotConvert:{title:"Cannot convert",message:"Do you want to delete your current query and use the query builder?",confirmText:"Yes"}},expandBuilderButton:{label:"Show full query",tooltip:"Shows the full query builder"},QueryTypeSwitcher:{label:"Query Type",tooltip:"Sets the layout for the query builder",sqlTooltip:"Sets the panel type for explore view"},DatabaseSelect:{label:"Database",tooltip:"ClickHouse database to query from",empty:"<select database>"},TableSelect:{label:"Table",tooltip:"ClickHouse table to query from",empty:"<select table>"},ColumnsEditor:{label:"Columns",tooltip:"A list of columns to include in the query"},OtelVersionSelect:{label:"Use OTel",tooltip:"Enables Open Telemetry schema versioning"},LimitEditor:{label:"Limit",tooltip:"Limits the number of rows returned by the query"},SqlPreview:{label:"SQL Preview",tooltip:"Preview of the generated SQL. You can safely switch to SQL Editor to customize the generated query"},AggregatesEditor:{label:"Aggregates",tooltip:"Aggregate functions to use",aliasLabel:"as",aliasTooltip:"alias for this aggregate function",addLabel:"Aggregate"},OrderByEditor:{label:"Order By",tooltip:"Order by column",addLabel:"Order By"},FilterEditor:{label:"Filters",tooltip:"List of filters",addLabel:"Filter",mapKeyPlaceholder:"map key"},GroupByEditor:{label:"Group By",tooltip:"Group the results by specific column"},LogsQueryBuilder:{logTimeColumn:{label:"Time",tooltip:"Column that contains the log timestamp"},logLevelColumn:{label:"Log Level",tooltip:"Column that contains the log level"},logMessageColumn:{label:"Message",tooltip:"Column that contains the log message"},logLabelsColumn:{label:"Labels",tooltip:"A column with a key/value structure for log labels"},liveView:{label:"Live View",tooltip:"Enable to update logs in real time"},logMessageFilter:{label:"Message Filter",tooltip:"Applies a LIKE filter to the log message body",clearButton:"Clear"},logLevelFilter:{label:"Level Filter",tooltip:"Applies a filter to the log level"}},TimeSeriesQueryBuilder:{simpleQueryModeLabel:"Simple",aggregateQueryModeLabel:"Aggregate",builderModeLabel:"Builder Mode",builderModeTooltip:"Switches the query builder between the simple and aggregate modes",timeColumn:{label:"Time",tooltip:"Column to use for the time series"}},TableQueryBuilder:{simpleQueryModeLabel:"Simple",aggregateQueryModeLabel:"Aggregate",builderModeLabel:"Builder Mode",builderModeTooltip:"Switches the query builder between the simple and aggregate modes"},TraceQueryBuilder:{traceIdModeLabel:"Trace ID",traceSearchModeLabel:"Trace Search",traceModeLabel:"Trace Mode",traceModeTooltip:"Switches between trace ID and trace search mode",columnsSection:"Columns",filtersSection:"Filters",columns:{traceId:{label:"Trace ID Column",tooltip:"Column that contains the trace ID"},spanId:{label:"Span ID Column",tooltip:"Column that contains the span ID"},parentSpanId:{label:"Parent Span ID Column",tooltip:"Column that contains the parent span ID"},serviceName:{label:"Service Name Column",tooltip:"Column that contains the service name"},operationName:{label:"Operation Name Column",tooltip:"Column that contains the operation name"},startTime:{label:"Start Time Column",tooltip:"Column that contains the start time"},durationTime:{label:"Duration Time Column",tooltip:"Column that contains the duration time"},durationUnit:{label:"Duration Unit",tooltip:"The unit of time used for the duration time"},tags:{label:"Tags Column",tooltip:"Column that contains the trace tags"},serviceTags:{label:"Service Tags Column",tooltip:"Column that contains the service tags"},flattenNested:{label:"Use Flatten Nested",tooltip:"Enable if your traces table was created with flatten_nested=1"},eventsPrefix:{label:"Events Prefix",tooltip:"Prefix for the events column"},linksPrefix:{label:"Links Prefix",tooltip:"Prefix for the trace references column"},kind:{label:"Kind Column",tooltip:"Column that contains the trace kind"},statusCode:{label:"Status Code Column",tooltip:"Column that contains the trace status code"},statusMessage:{label:"Status Message Column",tooltip:"Column that contains the trace status message"},instrumentationLibraryName:{label:"Library Name Column",tooltip:"Column that contains the instrumentation library name (Optional)"},instrumentationLibraryVersion:{label:"Library Version Column",tooltip:"Column that contains the instrumentation library version (Optional)"},state:{label:"State Column",tooltip:"Column that contains the trace state"},traceIdFilter:{label:"Trace ID",tooltip:"filter by a specific trace ID"}}}},types:{EditorType:{sql:"SQL Editor",builder:"Query Builder"},QueryType:{table:"Table",logs:"Logs",timeseries:"Time Series",traces:"Traces"},ColumnHint:{[E.Time]:"Time",[E.LogLevel]:"Level",[E.LogMessage]:"Message",[E.LogLabels]:"Labels",[E.TraceId]:"Trace ID",[E.TraceSpanId]:"Span ID",[E.TraceParentSpanId]:"Parent Span ID",[E.TraceServiceName]:"Service Name",[E.TraceOperationName]:"Operation Name",[E.TraceDurationTime]:"Duration Time",[E.TraceTags]:"Tags",[E.TraceServiceTags]:"Service Tags",[E.TraceStatusCode]:"Status Code",[E.TraceKind]:"Kind",[E.TraceStatusMessage]:"Status Message",[E.TraceInstrumentationLibraryName]:"Instrumentation Library Name",[E.TraceInstrumentationLibraryVersion]:"Instrumentation Library Version",[E.TraceState]:"State"}}},$t=e=>{const{defaultDatabase:t,defaultTable:s,onDefaultDatabaseChange:a,onDefaultTableChange:r}=e,n=ft.components.Config.DefaultDatabaseTableConfig;return xe().createElement(St,{title:n.title},xe().createElement($.Field,{label:n.database.label,description:n.database.description},xe().createElement($.Input,{name:n.database.name,width:40,value:t||"",onChange:a,label:n.database.label,"aria-label":n.database.label,placeholder:n.database.placeholder,type:"text"})),xe().createElement($.Field,{label:n.table.label,description:n.table.description},xe().createElement($.Input,{name:n.table.name,width:40,value:s||"",onChange:r,label:n.table.label,"aria-label":n.table.label,placeholder:n.table.placeholder,type:"text"})))},Dt=e=>{const{connMaxLifetime:t,dialTimeout:s,maxIdleConns:a,maxOpenConns:r,queryTimeout:n,validateSql:o,onConnMaxIdleConnsChange:l,onConnMaxLifetimeChange:i,onConnMaxOpenConnsChange:E,onDialTimeoutChange:c,onQueryTimeoutChange:T,onValidateSqlChange:p}=e,u=ft.components.Config.QuerySettingsConfig;return xe().createElement(St,{title:u.title},xe().createElement($.Field,{label:u.dialTimeout.label,description:u.dialTimeout.tooltip},xe().createElement($.Input,{name:u.dialTimeout.name,width:40,value:s||"",onChange:c,label:u.dialTimeout.label,"aria-label":u.dialTimeout.label,placeholder:u.dialTimeout.placeholder,type:"number"})),xe().createElement($.Field,{label:u.queryTimeout.label,description:u.queryTimeout.tooltip},xe().createElement($.Input,{name:u.queryTimeout.name,width:40,value:n||"",onChange:T,label:u.queryTimeout.label,"aria-label":u.queryTimeout.label,placeholder:u.queryTimeout.placeholder,type:"number"})),xe().createElement($.Field,{label:u.connMaxLifetime.label,description:u.connMaxLifetime.tooltip},xe().createElement($.Input,{name:u.connMaxLifetime.name,width:40,value:t||"",onChange:i,label:u.connMaxLifetime.label,"aria-label":u.connMaxLifetime.label,placeholder:u.connMaxLifetime.placeholder,type:"number"})),xe().createElement($.Field,{label:u.maxIdleConns.label,description:u.maxIdleConns.tooltip},xe().createElement($.Input,{name:u.maxIdleConns.name,width:40,value:a||"",onChange:l,label:u.maxIdleConns.label,"aria-label":u.maxIdleConns.label,placeholder:u.maxIdleConns.placeholder,type:"number"})),xe().createElement($.Field,{label:u.maxOpenConns.label,description:u.maxOpenConns.tooltip},xe().createElement($.Input,{name:u.maxOpenConns.name,width:40,value:r||"",onChange:E,label:u.maxOpenConns.label,"aria-label":u.maxOpenConns.label,placeholder:u.maxOpenConns.placeholder,type:"number"})),xe().createElement($.Field,{label:u.validateSql.label,description:u.validateSql.tooltip},xe().createElement($.Switch,{className:"gf-form",value:o||!1,onChange:p,role:"checkbox"})))},Pt=e=>{const{enabled:t,onEnabledChange:s,selectedVersion:a,onVersionChange:r,wide:n}=e,{label:o,tooltip:l}=ft.components.OtelVersionSelect,i=j.versions.map(e=>({label:e.name,value:e.version}));(0,ge.useEffect)(()=>{""!==a&&j.getVersion(a)||r(j.getLatestVersion().version)},[a,r]);const E=(0,$.useTheme)(),c={padding:`0 ${E.spacing.sm}`,height:`${E.spacing.formInputHeight}px`,display:"flex",alignItems:"center"};return xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:n?12:8,className:"query-keyword",tooltip:l},o),xe().createElement("div",{style:c},xe().createElement($.Switch,{className:"gf-form",value:t,onChange:e=>s(e.currentTarget.checked),role:"checkbox"})),xe().createElement($.Select,{disabled:!t,options:i,width:20,onChange:e=>r(e.value),value:a,menuPlacement:"bottom"}))};function gt(e){const{label:t,tooltip:s,placeholder:a,disabled:r,value:n,onChange:o}=e;return xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:12,className:"query-keyword",tooltip:s||t},t),xe().createElement($.Input,{disabled:r,width:30,value:n,onChange:e=>o(e.currentTarget.value),placeholder:a}))}const xt={Common:{check:je.css`
      margin-top: 5px;
    `,wrapper:je.css`
      position: relative;
      width: 100%;
    `,smallBtn:je.css`
      margin-top: 5px;
      margin-inline: 5px;
    `,selectWrapper:je.css`
      width: 100%;
    `,inlineSelect:je.css`
      margin-right: 5px;
    `,firstLabel:je.css`
      margin-right: 5px;
    `,expand:je.css`
      position: absolute;
      top: 2px;
      left: 6px;
      z-index: 100;
      color: gray;
    `},ConfigEditor:{container:je.css`
      justify-content: space-between;
      h5 {
        line-height: 34px;
        margin-bottom: 5px;
      }
      button {
        margin-right: 5px;
      }
    `,wide:je.css`
      width: 75%;
    `,subHeader:je.css`
      padding: 5px 0 5px 0;
    `},QueryEditor:{queryType:je.css`
      justify-content: space-between;
      span {
        display: flex;
      }
    `,inlineField:je.css`
      margin-left: 7px;
    `},FormatSelector:{formatSelector:je.css`
      display: flex;
    `},VariablesEditor:{}},wt=e=>{const{value:t,onChange:s,label:a,tooltip:r,disabled:n,inline:o,wide:l}=e,i=(0,$.useTheme)(),E={padding:`0 ${i.spacing.sm}`,height:`${i.spacing.formInputHeight}px`,display:"flex",alignItems:"center"},c="query-keyword "+(o?xt.QueryEditor.inlineField:"");return xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:l?12:8,className:c,tooltip:r},a),xe().createElement("div",{style:E},xe().createElement($.Switch,{disabled:n,className:"gf-form",value:t,onChange:e=>s(e.currentTarget.checked)})))},Mt=e=>{const{onDefaultDatabaseChange:t,onDefaultTableChange:s,onOtelEnabledChange:a,onOtelVersionChange:r,onTimeColumnChange:n,onLevelColumnChange:o,onMessageColumnChange:l,onSelectContextColumnsChange:i,onContextColumnsChange:c}=e;let{defaultDatabase:T,defaultTable:p,otelEnabled:u,otelVersion:m,timeColumn:_,levelColumn:A,messageColumn:R,selectContextColumns:S,contextColumns:d}=e.logsConfig||{};const O=ft.components.Config.LogsConfig,I=j.getVersion(m);u&&I&&(_=I.logColumnMap.get(E.Time),A=I.logColumnMap.get(E.LogLevel),R=I.logColumnMap.get(E.LogMessage));return xe().createElement(St,{title:O.title,description:O.description},xe().createElement("div",{id:"logs-config"}),xe().createElement($.Field,{label:O.defaultDatabase.label,description:O.defaultDatabase.description},xe().createElement($.Input,{name:O.defaultDatabase.name,width:40,value:T||"",onChange:e=>t(e.currentTarget.value),label:O.defaultDatabase.label,"aria-label":O.defaultDatabase.label,placeholder:O.defaultDatabase.placeholder})),xe().createElement($.Field,{label:O.defaultTable.label,description:O.defaultTable.description},xe().createElement($.Input,{name:O.defaultTable.name,width:40,value:p||"",onChange:e=>s(e.currentTarget.value),label:O.defaultTable.label,"aria-label":O.defaultTable.label,placeholder:Y})),xe().createElement(Nt,{title:O.columns.title,description:O.columns.description},xe().createElement(Pt,{enabled:u||!1,selectedVersion:m||"",onEnabledChange:a,onVersionChange:r,wide:!0}),xe().createElement(gt,{disabled:u,label:O.columns.time.label,placeholder:qe(O.columns.time.label),tooltip:O.columns.time.tooltip,value:_||"",onChange:n}),xe().createElement(gt,{disabled:u,label:O.columns.level.label,placeholder:qe(O.columns.level.label),tooltip:O.columns.level.tooltip,value:A||"",onChange:o}),xe().createElement(gt,{disabled:u,label:O.columns.message.label,placeholder:qe(O.columns.message.label),tooltip:O.columns.message.tooltip,value:R||"",onChange:l})),xe().createElement("br",null),xe().createElement(Nt,{title:O.contextColumns.title,description:O.contextColumns.description},xe().createElement(wt,{label:O.contextColumns.selectContextColumns.label,tooltip:O.contextColumns.selectContextColumns.tooltip,value:S||!1,onChange:i,wide:!0}),xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:12,className:"query-keyword",tooltip:O.contextColumns.columns.tooltip},O.contextColumns.columns.label),xe().createElement($.TagsInput,{placeholder:O.contextColumns.columns.placeholder,tags:d||[],onChange:e=>c(e.map(e=>e.trim()).filter(e=>e)),width:60}))))},Ut=[{label:T.Seconds,value:T.Seconds},{label:T.Milliseconds,value:T.Milliseconds},{label:T.Microseconds,value:T.Microseconds},{label:T.Nanoseconds,value:T.Nanoseconds}],vt=e=>{const{unit:t,onChange:s,disabled:a,inline:r}=e,{label:n,tooltip:o}=ft.components.TraceQueryBuilder.columns.durationUnit;return xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:12,className:`query-keyword ${r?xt.QueryEditor.inlineField:""}`,tooltip:o},n),xe().createElement($.Select,{disabled:a,options:Ut,value:t,onChange:e=>s(e.value),width:r?25:30,menuPlacement:"bottom"}))},kt=e=>{const{onDefaultDatabaseChange:t,onDefaultTableChange:s,onOtelEnabledChange:a,onOtelVersionChange:r,onTraceIdColumnChange:n,onSpanIdColumnChange:o,onOperationNameColumnChange:l,onParentSpanIdColumnChange:i,onServiceNameColumnChange:c,onDurationColumnChange:p,onDurationUnitChange:u,onStartTimeColumnChange:m,onTagsColumnChange:_,onServiceTagsColumnChange:A,onKindColumnChange:R,onStatusCodeColumnChange:S,onStatusMessageColumnChange:d,onStateColumnChange:O,onInstrumentationLibraryNameColumnChange:I,onInstrumentationLibraryVersionColumnChange:N,onFlattenNestedChange:b,onEventsColumnPrefixChange:C,onLinksColumnPrefixChange:y}=e;let{defaultDatabase:L,defaultTable:h,otelEnabled:f,otelVersion:D,traceIdColumn:P,spanIdColumn:g,operationNameColumn:x,parentSpanIdColumn:w,serviceNameColumn:M,durationColumn:U,durationUnit:v,startTimeColumn:k,tagsColumn:G,serviceTagsColumn:B,kindColumn:H,statusCodeColumn:F,statusMessageColumn:Y,stateColumn:W,instrumentationLibraryNameColumn:X,instrumentationLibraryVersionColumn:K,flattenNested:q,traceEventsColumnPrefix:J,traceLinksColumnPrefix:Q}=e.tracesConfig||{};const Z=ft.components.Config.TracesConfig,z=j.getVersion(D);return f&&z&&(k=z.traceColumnMap.get(E.Time),P=z.traceColumnMap.get(E.TraceId),g=z.traceColumnMap.get(E.TraceSpanId),w=z.traceColumnMap.get(E.TraceParentSpanId),M=z.traceColumnMap.get(E.TraceServiceName),x=z.traceColumnMap.get(E.TraceOperationName),U=z.traceColumnMap.get(E.TraceDurationTime),G=z.traceColumnMap.get(E.TraceTags),B=z.traceColumnMap.get(E.TraceServiceTags),H=z.traceColumnMap.get(E.TraceKind),F=z.traceColumnMap.get(E.TraceStatusCode),Y=z.traceColumnMap.get(E.TraceStatusMessage),W=z.traceColumnMap.get(E.TraceState),X=z.traceColumnMap.get(E.TraceInstrumentationLibraryName),K=z.traceColumnMap.get(E.TraceInstrumentationLibraryVersion),v=z.traceDurationUnit.toString(),q=z.flattenNested,J=z.traceEventsColumnPrefix,Q=z.traceLinksColumnPrefix),xe().createElement(St,{title:Z.title,description:Z.description},xe().createElement("div",{id:"traces-config"}),xe().createElement($.Field,{label:Z.defaultDatabase.label,description:Z.defaultDatabase.description},xe().createElement($.Input,{name:Z.defaultDatabase.name,width:40,value:L||"",onChange:e=>t(e.currentTarget.value),label:Z.defaultDatabase.label,"aria-label":Z.defaultDatabase.label,placeholder:Z.defaultDatabase.placeholder})),xe().createElement($.Field,{label:Z.defaultTable.label,description:Z.defaultTable.description},xe().createElement($.Input,{name:Z.defaultTable.name,width:40,value:h||"",onChange:e=>s(e.currentTarget.value),label:Z.defaultTable.label,"aria-label":Z.defaultTable.label,placeholder:V})),xe().createElement(Nt,{title:Z.columns.title,description:Z.columns.description},xe().createElement(Pt,{enabled:f||!1,selectedVersion:D||"",onEnabledChange:a,onVersionChange:r,wide:!0}),xe().createElement(gt,{disabled:f,label:Z.columns.traceId.label,placeholder:qe(Z.columns.traceId.label),tooltip:Z.columns.traceId.tooltip,value:P||"",onChange:n}),xe().createElement(gt,{disabled:f,label:Z.columns.spanId.label,placeholder:qe(Z.columns.spanId.label),tooltip:Z.columns.spanId.tooltip,value:g||"",onChange:o}),xe().createElement(gt,{disabled:f,label:Z.columns.operationName.label,placeholder:qe(Z.columns.operationName.label),tooltip:Z.columns.operationName.tooltip,value:x||"",onChange:l}),xe().createElement(gt,{disabled:f,label:Z.columns.parentSpanId.label,placeholder:qe(Z.columns.parentSpanId.label),tooltip:Z.columns.parentSpanId.tooltip,value:w||"",onChange:i}),xe().createElement(gt,{disabled:f,label:Z.columns.serviceName.label,placeholder:qe(Z.columns.serviceName.label),tooltip:Z.columns.serviceName.tooltip,value:M||"",onChange:c}),xe().createElement(gt,{disabled:f,label:Z.columns.durationTime.label,placeholder:qe(Z.columns.durationTime.label),tooltip:Z.columns.durationTime.tooltip,value:U||"",onChange:p}),xe().createElement(vt,{disabled:f,unit:v||T.Nanoseconds,onChange:u}),xe().createElement(gt,{disabled:f,label:Z.columns.startTime.label,placeholder:qe(Z.columns.startTime.label),tooltip:Z.columns.startTime.tooltip,value:k||"",onChange:m}),xe().createElement(gt,{disabled:f,label:Z.columns.tags.label,placeholder:qe(Z.columns.tags.label),tooltip:Z.columns.tags.tooltip,value:G||"",onChange:_}),xe().createElement(gt,{disabled:f,label:Z.columns.serviceTags.label,placeholder:qe(Z.columns.serviceTags.label),tooltip:Z.columns.serviceTags.tooltip,value:B||"",onChange:A}),xe().createElement(gt,{disabled:f,label:Z.columns.kind.label,placeholder:qe(Z.columns.kind.label),tooltip:Z.columns.kind.tooltip,value:H||"",onChange:R}),xe().createElement(gt,{disabled:f,label:Z.columns.statusCode.label,placeholder:qe(Z.columns.statusCode.label),tooltip:Z.columns.statusCode.tooltip,value:F||"",onChange:S}),xe().createElement(gt,{disabled:f,label:Z.columns.statusMessage.label,placeholder:qe(Z.columns.statusMessage.label),tooltip:Z.columns.statusMessage.tooltip,value:Y||"",onChange:d}),xe().createElement(gt,{disabled:f,label:Z.columns.state.label,placeholder:qe(Z.columns.state.label),tooltip:Z.columns.state.tooltip,value:W||"",onChange:O}),xe().createElement(gt,{disabled:f,label:Z.columns.instrumentationLibraryName.label,placeholder:qe(Z.columns.instrumentationLibraryName.label),tooltip:Z.columns.instrumentationLibraryName.tooltip,value:X||"",onChange:I}),xe().createElement(gt,{disabled:f,label:Z.columns.instrumentationLibraryVersion.label,placeholder:qe(Z.columns.instrumentationLibraryVersion.label),tooltip:Z.columns.instrumentationLibraryVersion.tooltip,value:K||"",onChange:N}),xe().createElement(wt,{disabled:f,label:Z.columns.flattenNested.label,tooltip:Z.columns.flattenNested.tooltip,value:q||!1,onChange:b,wide:!0}),xe().createElement(gt,{disabled:f,label:Z.columns.eventsPrefix.label,placeholder:qe(Z.columns.eventsPrefix.label),tooltip:Z.columns.eventsPrefix.tooltip,value:J||"",onChange:C}),xe().createElement(gt,{disabled:f,label:Z.columns.linksPrefix.label,placeholder:qe(Z.columns.linksPrefix.label),tooltip:Z.columns.linksPrefix.tooltip,value:Q||"",onChange:y})))},Gt=e=>{const{secureFields:t,onHttpHeadersChange:s}=e,a=Ht(t),[r,n]=(0,ge.useState)(e.headers||[]),[o,l]=(0,ge.useState)(e.forwardGrafanaHeaders||!1),i=ft.components.Config.HttpHeadersConfig,E=Qe.Config.HttpHeaderConfig;return xe().createElement(St,{title:i.title},xe().createElement($.Field,{label:i.label,description:i.description},xe().createElement(xe().Fragment,null,r.map((e,t)=>xe().createElement(Bt,{key:e.name+t,name:e.name,value:e.value,secure:e.secure,isSecureConfigured:a.has(e.name),onHeaderChange:e=>((e,t)=>{const a=r.slice();t.name=t.name.trim(),a[e]=t,n(a),s(a)})(t,e),onRemove:()=>(e=>{const t=r.slice();t.splice(e,1),n(t),s(t)})(t)})),xe().createElement($.Button,{"data-testid":E.addHeaderButton,icon:"plus-circle",variant:"secondary",size:"sm",onClick:()=>n([...r,{name:"",value:"",secure:!1}]),className:xt.Common.smallBtn},i.addHeaderLabel))),xe().createElement($.Field,{label:i.forwardGrafanaHeaders.label,description:i.forwardGrafanaHeaders.tooltip},xe().createElement($.Switch,{"data-testid":E.forwardGrafanaHeadersSwitch,className:"gf-form",value:o,onChange:t=>(t=>{l(t),e.onForwardGrafanaHeadersChange(t)})(t.currentTarget.checked)})))},Bt=e=>{const{onHeaderChange:t,onRemove:s}=e,[a,r]=(0,ge.useState)(e.name),[n,o]=(0,ge.useState)(e.value),[l,i]=(0,ge.useState)(e.secure),[E,c]=(0,ge.useState)(e.isSecureConfigured),T=ft.components.Config.HttpHeadersConfig,p=Qe.Config.HttpHeaderConfig,u=()=>{t({name:a,value:n,secure:l})};let m;m=l?xe().createElement($.SecretInput,{"data-testid":p.headerValueInput,width:65,placeholder:T.secureHeaderValueLabel,value:n,isConfigured:E,onReset:()=>c(!1),onChange:e=>o(e.target.value),onBlur:()=>u()}):xe().createElement($.Input,{"data-testid":p.headerValueInput,width:65,value:n,placeholder:T.insecureHeaderValueLabel,onChange:e=>o(e.target.value),onBlur:()=>u()});const _=l?T.secureHeaderValueLabel:T.insecureHeaderValueLabel;return xe().createElement("div",{"data-testid":p.headerEditor},xe().createElement($.Stack,null,xe().createElement($.Field,{label:T.headerNameLabel,"aria-label":T.headerNameLabel},xe().createElement($.Input,{"data-testid":p.headerNameInput,value:a,disabled:E,placeholder:T.headerNamePlaceholder,onChange:e=>r(e.target.value),onBlur:()=>u()})),xe().createElement($.Field,{label:_,"aria-label":_},m),!E&&xe().createElement($.Field,{label:T.secureLabel},xe().createElement($.Switch,{"data-testid":p.headerSecureSwitch,className:"gf-form",value:l,onChange:e=>i(e.currentTarget.checked),onBlur:()=>u()})),s&&xe().createElement($.Button,{"data-testid":p.removeHeaderButton,className:xt.Common.smallBtn,variant:"destructive",size:"sm",icon:"trash-alt",onClick:s})))},Ht=e=>(0,ge.useMemo)(()=>{const t=new Set;for(let s in e)s.startsWith("secureHttpHeaders.")&&e[s]&&t.add(s.substring(s.indexOf(".")+1));return t},[e]);function Ft(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Yt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){Ft(e,t,s[t])})}return e}function Vt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Wt=(e,t,s)=>{const a=[],r={},n={};for(let t of e)if(t.name){if(t.secure){const e=`secureHttpHeaders.${t.name}`;r[e]=!0,t.value&&(n[e]=t.value,t.value="")}a.push(t)}const o=Yt({},t.secureJsonFields);for(let e in o)!r[e]&&e.startsWith("secureHttpHeaders.")&&(r[e]=!1,n[e]="");s(Vt(Yt({},t),{jsonData:Vt(Yt({},t.jsonData),{httpHeaders:a}),secureJsonFields:Yt({},t.secureJsonFields,r),secureJsonData:Yt({},t.secureJsonData,n)}))},Xt=(e,t)=>{const s=(0,ge.useRef)(!1);(0,ge.useEffect)(()=>{if(s.current)return;const a=Yt({},e.jsonData);a.version=Ue;const r=a.server;r&&!a.host&&(a.host=r),delete a.server;const n=a.timeout;n&&!a.dialTimeout&&(a.dialTimeout=n),delete a.timeout,a.protocol||(a.protocol=Et.Native),a.logs&&void 0!==a.logs.defaultTable||(a.logs=Vt(Yt({},a.logs),{defaultTable:Y,selectContextColumns:!0,contextColumns:[]})),a.traces&&void 0!==a.traces.defaultTable||(a.traces=Vt(Yt({},a.traces),{defaultTable:V})),t(Vt(Yt({},e),{jsonData:a})),s.current=!0},[e,t])},Kt=()=>{(0,r.reportInteraction)("clickhouse_config_v2_feedback_button_clicked")},qt=()=>{(0,r.reportInteraction)("clickhouse_config_v2_host_input")},jt=()=>{(0,r.reportInteraction)("clickhouse_config_v2_database_credentials_user_input")},Jt=()=>{(0,r.reportInteraction)("clickhouse_config_v2_database_credentials_password_input")},Qt=e=>{(0,r.reportInteraction)("clickhouse_config_v2_query_settings",e)},Zt=e=>{const{onAliasTablesChange:t}=e,[s,a]=(0,ge.useState)(e.aliasTables||[]),n=ft.components.Config.AliasTableConfig,o=Qe.Config.AliasTableConfig,l=e=>`"${e.targetDatabase}"."${e.targetTable}":"${e.aliasDatabase}"."${e.aliasTable}"`,i=e=>{const t=new Set;return e.filter(e=>{const s=l(e);return!t.has(s)&&(t.add(s),!0)})};return xe().createElement(St,{title:n.title},xe().createElement("div",null,xe().createElement("span",null,n.descriptionParts[0]),xe().createElement("code",null,n.descriptionParts[1]),xe().createElement("span",null,n.descriptionParts[2])),xe().createElement("br",null),s.map((e,r)=>xe().createElement(zt,{key:l(e),targetDatabase:e.targetDatabase,targetTable:e.targetTable,aliasDatabase:e.aliasDatabase,aliasTable:e.aliasTable,onEntryChange:e=>((e,r)=>{let n=s.slice();r.targetDatabase=r.targetDatabase.trim(),r.targetTable=r.targetTable.trim(),r.aliasDatabase=r.aliasDatabase.trim(),r.aliasTable=r.aliasTable.trim(),n[e]=r,n=i(n),a(n),t(n)})(r,e),onRemove:()=>(e=>{let r=s.slice();r.splice(e,1),r=i(r),a(r),t(r)})(r)})),xe().createElement($.Button,{"data-testid":o.addEntryButton,icon:"plus-circle",variant:"secondary",size:"sm",onClick:()=>{a(i([...s,{targetDatabase:"",targetTable:"",aliasDatabase:"",aliasTable:""}])),(0,r.reportInteraction)("clickhouse_config_v2_column_alias_table_added")},className:xt.Common.smallBtn},n.addTableLabel))},zt=e=>{const{onEntryChange:t,onRemove:s}=e,[a,r]=(0,ge.useState)(e.targetDatabase),[n,o]=(0,ge.useState)(e.targetTable),[l,i]=(0,ge.useState)(e.aliasDatabase),[E,c]=(0,ge.useState)(e.aliasTable),T=ft.components.Config.AliasTableConfig,p=Qe.Config.AliasTableConfig,u=()=>{t({targetDatabase:a,targetTable:n,aliasDatabase:l,aliasTable:E})};return xe().createElement("div",{"data-testid":p.aliasEditor},xe().createElement($.Stack,null,xe().createElement($.Field,{label:T.targetDatabaseLabel,"aria-label":T.targetDatabaseLabel},xe().createElement($.Input,{"data-testid":p.targetDatabaseInput,value:a,placeholder:T.targetDatabasePlaceholder,onChange:e=>r(e.target.value),onBlur:()=>u()})),xe().createElement($.Field,{label:T.targetTableLabel,"aria-label":T.targetTableLabel},xe().createElement($.Input,{"data-testid":p.targetTableInput,value:n,placeholder:T.targetTableLabel,onChange:e=>o(e.target.value),onBlur:()=>u()})),xe().createElement($.Field,{label:T.aliasDatabaseLabel,"aria-label":T.aliasDatabaseLabel},xe().createElement($.Input,{"data-testid":p.aliasDatabaseInput,value:l,placeholder:T.aliasDatabasePlaceholder,onChange:e=>i(e.target.value),onBlur:()=>u()})),xe().createElement($.Field,{label:T.aliasTableLabel,"aria-label":T.aliasTableLabel},xe().createElement($.Input,{"data-testid":p.aliasTableInput,value:E,placeholder:T.aliasTableLabel,onChange:e=>c(e.target.value),onBlur:()=>u()})),s&&xe().createElement($.Button,{"data-testid":p.removeEntryButton,className:xt.Common.smallBtn,variant:"destructive",size:"sm",icon:"trash-alt",onClick:s})))},es=()=>{(0,r.reportInteraction)("clickhouse_config_v1_host_input")},ts=e=>{(0,r.reportInteraction)("clickhouse_config_v1_query_settings",e)},ss=e=>{(0,r.reportInteraction)("clickhouse_config_v1_logs_config",e)},as=e=>{(0,r.reportInteraction)("clickhouse_config_v1_traces_config",e)};function rs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ns(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){rs(e,t,s[t])})}return e}function os(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const ls={Config:{ConfigEditor:{serverAddress:{label:"Server address",placeholder:"Server address",tooltip:"ClickHouse host address",error:"Server address required"},serverPort:{label:"Server port",insecureNativePort:"9000",insecureHttpPort:"8123",secureNativePort:"9440",secureHttpPort:"8443",tooltip:"ClickHouse server port",error:"Port is required"},path:{label:"HTTP URL Path",tooltip:"Additional URL path for HTTP requests. Default: /",placeholder:"additional-path"},protocol:{label:"Protocol",tooltip:"Native is the default protocol"},username:{label:"Username",placeholder:"default",tooltip:"We recommend configuring"},password:{label:"Password",placeholder:"password",tooltip:"ClickHouse password"},tlsSkipVerify:{label:"Skip TLS Verify",tooltip:"Skip TLS Verify"},tlsClientAuth:{label:"TLS Client Auth",tooltip:"TLS Client Auth"},tlsAuthWithCACert:{label:"With CA Cert",tooltip:"Needed for verifying self-signed TLS Certs"},tlsCACert:{label:"CA Cert",placeholder:"CA Cert. Begins with -----BEGIN CERTIFICATE-----"},tlsClientCert:{label:"Client Cert",placeholder:"Client Cert. Begins with -----BEGIN CERTIFICATE-----"},tlsClientKey:{label:"Client Key",placeholder:"Client Key. Begins with -----BEGIN RSA PRIVATE KEY-----"},secure:{label:"Secure Connection",tooltip:"Check to connect securely with TLS"},secureSocksProxy:{label:"Enable Secure Socks Proxy",tooltip:"Enable proxying the datasource connection through the secure socks proxy to a different network."},enableRowLimit:{label:"Enable row limit",testid:"data-testid enable-row-limit-switch",tooltip:"Enable using the Grafana row limit setting to limit the number of rows returned from Clickhouse. Ensure the appropriate permissions are set for your user. Only supported for Grafana >= 11.0.0. Defaults to false."}},HttpHeadersConfig:{title:"HTTP Headers",label:"Custom HTTP Headers",description:"Add Custom HTTP headers when querying the database",headerNameLabel:"Header Name",headerNamePlaceholder:"X-Custom-Header",insecureHeaderValueLabel:"Header Value",secureHeaderValueLabel:"Secure Header Value",secureLabel:"Secure",addHeaderLabel:"Add Header",forwardGrafanaHeaders:{label:"Forward Grafana HTTP Headers to data source",tooltip:"Forward Grafana HTTP Headers to data source."}},AliasTableConfig:{title:"Column Alias Tables",descriptionParts:["Provide alias tables with a","(`alias` String, `select` String, `type` String)","schema to use as a source for column selection."],addTableLabel:"Add Table",targetDatabaseLabel:"Target Database",targetDatabasePlaceholder:"(optional)",targetTableLabel:"Target Table",aliasDatabaseLabel:"Alias Database",aliasDatabasePlaceholder:"(optional)",aliasTableLabel:"Alias Table"},DefaultDatabaseTableConfig:{title:"Default DB and table",database:{label:"Default database",description:"the default database used by the query builder",name:"defaultDatabase",placeholder:"default"},table:{label:"Default table",description:"the default table used by the query builder",name:"defaultTable",placeholder:"table"}},QuerySettingsConfig:{title:"Query settings",connMaxLifetime:{label:"Connection Max Lifetime (minutes)",name:"connMaxLifetime",placeholder:"5",tooltip:"Maximum lifetime of a connection in minutes"},dialTimeout:{label:"Dial Timeout (seconds)",name:"dialTimeout",placeholder:"10",tooltip:"Timeout in seconds for connection"},maxIdleConns:{label:"Max Idle Connections",name:"maxIdleConns",placeholder:"25",tooltip:"Maximum number of idle connections"},maxOpenConns:{label:"Max Open Connections",name:"maxOpenConns",placeholder:"50",tooltip:"Maximum number of open connections"},queryTimeout:{label:"Query Timeout (seconds)",name:"queryTimeout",placeholder:"60",tooltip:"Timeout in seconds for read queries"},validateSql:{label:"Validate SQL",tooltip:"Validate SQL in the editor."}},TracesConfig:{title:"Traces configuration",description:"(Optional) Default settings for trace queries",defaultDatabase:{label:"Default trace database",description:"the default database used by the trace query builder",name:"defaultDatabase",placeholder:"default"},defaultTable:{label:"Default trace table",description:"the default table used by the trace query builder",name:"defaultTable"},columns:{title:"Default columns",description:"Default columns for trace queries. Leave empty to disable.",traceId:{label:"Trace ID column",tooltip:"Column for the trace ID"},spanId:{label:"Span ID column",tooltip:"Column for the span ID"},parentSpanId:{label:"Parent Span ID column",tooltip:"Column for the parent span ID"},serviceName:{label:"Service Name column",tooltip:"Column for the service name"},operationName:{label:"Operation Name column",tooltip:"Column for the operation name"},startTime:{label:"Start Time column",tooltip:"Column for the start time"},durationTime:{label:"Duration Time column",tooltip:"Column for the duration time"},tags:{label:"Tags column",tooltip:"Column for the trace tags"},serviceTags:{label:"Service Tags column",tooltip:"Column for the service tags"},flattenNested:{label:"Use Flatten Nested",tooltip:"Enable if your traces table was created with flatten_nested=1"},eventsPrefix:{label:"Events prefix",tooltip:"Prefix for the events column (Events.Timestamp, Events.Name, etc.)"},linksPrefix:{label:"Links prefix",tooltip:"Prefix for the trace references column (Links.TraceId, Links.TraceState, etc.)"},kind:{label:"Kind column",tooltip:"Column for the trace kind"},statusCode:{label:"Status Code column",tooltip:"Column for the trace status code"},statusMessage:{label:"Status Message column",tooltip:"Column for the trace status message"},instrumentationLibraryName:{label:"Library Name column",tooltip:"Column for the instrumentation library name"},instrumentationLibraryVersion:{label:"Library Version column",tooltip:"Column for the instrumentation library version"},state:{label:"State column",tooltip:"Column for the trace state"}}},LogsConfig:{title:"Logs configuration",description:"(Optional) default settings for log queries",defaultDatabase:{label:"Default log database",description:"the default database used by the logs query builder",name:"defaultDatabase",placeholder:"default"},defaultTable:{label:"Default log table",description:"the default table used by the logs query builder",name:"defaultTable"},columns:{title:"Default columns",description:"Default columns for log queries. Leave empty to disable.",time:{label:"Time column",tooltip:"Column for the log timestamp"},level:{label:"Log Level column",tooltip:"Column for the log level"},message:{label:"Log Message column",tooltip:"Column for log message"}},contextColumns:{title:"Context columns",description:"These columns are used to narrow down a single log row to its original service/container/pod source. At least one is required for the log context feature to work.",selectContextColumns:{label:"Auto-Select Columns",tooltip:"When enabled, will always include context columns in log queries"},columns:{label:"Context Columns",tooltip:"Comma separated list of column names to use for identifying a log's source",placeholder:"Column name (enter key to add)"}}}},EditorTypeSwitcher:{label:"Editor Type",tooltip:"Switches between the raw SQL Editor and the Query Builder.",switcher:{title:"Are you sure?",body:"Queries that are too complex for the Query Builder will be altered.",confirmText:"Continue",dismissText:"Cancel"},cannotConvert:{title:"Cannot convert",message:"Do you want to delete your current query and use the query builder?",confirmText:"Yes"}},expandBuilderButton:{label:"Show full query",tooltip:"Shows the full query builder"},QueryTypeSwitcher:{label:"Query Type",tooltip:"Sets the layout for the query builder",sqlTooltip:"Sets the panel type for explore view"},DatabaseSelect:{label:"Database",tooltip:"ClickHouse database to query from",empty:"<select database>"},TableSelect:{label:"Table",tooltip:"ClickHouse table to query from",empty:"<select table>"},ColumnsEditor:{label:"Columns",tooltip:"A list of columns to include in the query"},OtelVersionSelect:{label:"Use OTel",tooltip:"Enables Open Telemetry schema versioning"},LimitEditor:{label:"Limit",tooltip:"Limits the number of rows returned by the query"},SqlPreview:{label:"SQL Preview",tooltip:"Preview of the generated SQL. You can safely switch to SQL Editor to customize the generated query"},AggregatesEditor:{label:"Aggregates",tooltip:"Aggregate functions to use",aliasLabel:"as",aliasTooltip:"alias for this aggregate function",addLabel:"Aggregate"},OrderByEditor:{label:"Order By",tooltip:"Order by column",addLabel:"Order By"},FilterEditor:{label:"Filters",tooltip:"List of filters",addLabel:"Filter",mapKeyPlaceholder:"map key"},GroupByEditor:{label:"Group By",tooltip:"Group the results by specific column"},LogsQueryBuilder:{logTimeColumn:{label:"Time",tooltip:"Column that contains the log timestamp"},logLevelColumn:{label:"Log Level",tooltip:"Column that contains the log level"},logMessageColumn:{label:"Message",tooltip:"Column that contains the log message"},logLabelsColumn:{label:"Labels",tooltip:"A column with a key/value structure for log labels"},liveView:{label:"Live View",tooltip:"Enable to update logs in real time"},logMessageFilter:{label:"Message Filter",tooltip:"Applies a LIKE filter to the log message body",clearButton:"Clear"},logLevelFilter:{label:"Level Filter",tooltip:"Applies a filter to the log level"}},TimeSeriesQueryBuilder:{simpleQueryModeLabel:"Simple",aggregateQueryModeLabel:"Aggregate",builderModeLabel:"Builder Mode",builderModeTooltip:"Switches the query builder between the simple and aggregate modes",timeColumn:{label:"Time",tooltip:"Column to use for the time series"}},TableQueryBuilder:{simpleQueryModeLabel:"Simple",aggregateQueryModeLabel:"Aggregate",builderModeLabel:"Builder Mode",builderModeTooltip:"Switches the query builder between the simple and aggregate modes"},TraceQueryBuilder:{traceIdModeLabel:"Trace ID",traceSearchModeLabel:"Trace Search",traceModeLabel:"Trace Mode",traceModeTooltip:"Switches between trace ID and trace search mode",columnsSection:"Columns",filtersSection:"Filters",columns:{traceId:{label:"Trace ID Column",tooltip:"Column that contains the trace ID"},spanId:{label:"Span ID Column",tooltip:"Column that contains the span ID"},parentSpanId:{label:"Parent Span ID Column",tooltip:"Column that contains the parent span ID"},serviceName:{label:"Service Name Column",tooltip:"Column that contains the service name"},operationName:{label:"Operation Name Column",tooltip:"Column that contains the operation name"},startTime:{label:"Start Time Column",tooltip:"Column that contains the start time"},durationTime:{label:"Duration Time Column",tooltip:"Column that contains the duration time"},durationUnit:{label:"Duration Unit",tooltip:"The unit of time used for the duration time"},tags:{label:"Tags Column",tooltip:"Column that contains the trace tags"},serviceTags:{label:"Service Tags Column",tooltip:"Column that contains the service tags"},flattenNested:{label:"Use Flatten Nested",tooltip:"Enable if your traces table was created with flatten_nested=1"},eventsPrefix:{label:"Events Prefix",tooltip:"Prefix for the events column"},linksPrefix:{label:"Links Prefix",tooltip:"Prefix for the trace references column"},kind:{label:"Kind Column",tooltip:"Column that contains the trace kind"},statusCode:{label:"Status Code Column",tooltip:"Column that contains the trace status code"},statusMessage:{label:"Status Message Column",tooltip:"Column that contains the trace status message"},instrumentationLibraryName:{label:"Library Name Column",tooltip:"Column that contains the instrumentation library name (Optional)"},instrumentationLibraryVersion:{label:"Library Version Column",tooltip:"Column that contains the instrumentation library version (Optional)"},state:{label:"State Column",tooltip:"Column that contains the trace state"},traceIdFilter:{label:"Trace ID",tooltip:"filter by a specific trace ID"}}}};E.Time,E.LogLevel,E.LogMessage,E.LogLabels,E.TraceId,E.TraceSpanId,E.TraceParentSpanId,E.TraceServiceName,E.TraceOperationName,E.TraceDurationTime,E.TraceTags,E.TraceServiceTags,E.TraceStatusCode,E.TraceKind,E.TraceStatusMessage,E.TraceInstrumentationLibraryName,E.TraceInstrumentationLibraryVersion,E.TraceState;function is(e,t="latest"){return Es(e,t.replace(/\-.*/,""))}function Es(e,t){const s={};for(const[a,r]of Object.entries(e))cs(r)?s[a]=Es(r,t):(ps(r,a),s[a]=Ts(r,t));return s}function cs(e){if("object"==typeof e){const[t]=Object.keys(e);return!(0,ct.valid)(t)}return!1}function Ts(e,t){let s,a=Object.keys(e).sort(ct.compare);if("latest"===t)return e[a[a.length-1]];for(const e of a)(0,ct.gte)(t,e)&&(s=e);return s||(s=a[a.length-1]),e[s]}function ps(e,t){if(!Object.keys(e).every(e=>(0,ct.valid)(e)))throw new Error(`Invalid semver version: '${t}'`)}const us="8.5.0",ms={RadioButton:{container:{"10.2.3":"data-testid radio-button"}},Breadcrumbs:{breadcrumb:{"9.4.0":e=>`data-testid ${e} breadcrumb`}},CanvasGridAddActions:{addPanel:{"12.1.0":"data-testid CanvasGridAddActions add-panel"},groupPanels:{"12.1.0":"data-testid CanvasGridAddActions group-panels"},ungroup:{"12.1.0":"data-testid CanvasGridAddActions ungroup"},addRow:{"12.1.0":"data-testid CanvasGridAddActions add-row"},pasteRow:{"12.1.0":"data-testid CanvasGridAddActions paste-row"},addTab:{"12.1.0":"data-testid CanvasGridAddActions add-tab"},pasteTab:{"12.1.0":"data-testid CanvasGridAddActions paste-tab"}},DashboardEditPaneSplitter:{primaryBody:{"12.1.0":"data-testid DashboardEditPaneSplitter primary body"}},EditPaneHeader:{deleteButton:{"12.1.0":"data-testid EditPaneHeader delete panel"},copyDropdown:{"12.1.0":"data-testid EditPaneHeader copy dropdown"},copy:{"12.1.0":"data-testid EditPaneHeader copy"},duplicate:{"12.1.0":"data-testid EditPaneHeader duplicate"},backButton:{"12.1.0":"data-testid EditPaneHeader back"}},TimePicker:{openButton:{[us]:"data-testid TimePicker Open Button"},overlayContent:{"10.2.3":"data-testid TimePicker Overlay Content"},fromField:{"10.2.3":"data-testid Time Range from field",[us]:"Time Range from field"},toField:{"10.2.3":"data-testid Time Range to field",[us]:"Time Range to field"},applyTimeRange:{[us]:"data-testid TimePicker submit button"},copyTimeRange:{"10.4.0":"data-testid TimePicker copy button"},pasteTimeRange:{"10.4.0":"data-testid TimePicker paste button"},calendar:{label:{"10.2.3":"data-testid Time Range calendar",[us]:"Time Range calendar"},openButton:{"10.2.3":"data-testid Open time range calendar",[us]:"Open time range calendar"},closeButton:{"10.2.3":"data-testid Close time range Calendar",[us]:"Close time range Calendar"}},absoluteTimeRangeTitle:{[us]:"data-testid-absolute-time-range-narrow"}},DataSourcePermissions:{form:{"9.5.0":()=>'form[name="addPermission"]'},roleType:{"9.5.0":"Role to add new permission to"},rolePicker:{"9.5.0":"Built-in role picker"},permissionLevel:{"12.0.0":"Permission level","9.5.0":"Permission Level"}},DateTimePicker:{input:{"10.2.3":"data-testid date-time-input"}},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:{[us]:"Test Data Query scenario select container"},scenarioSelect:{[us]:"Test Data Query scenario select"},max:{[us]:"TestData max"},min:{[us]:"TestData min"},noise:{[us]:"TestData noise"},seriesCount:{[us]:"TestData series count"},spread:{[us]:"TestData spread"},startValue:{[us]:"TestData start value"},drop:{[us]:"TestData drop values"}}},DataSourceHttpSettings:{urlInput:{"10.4.0":"data-testid Datasource HTTP settings url",[us]:"Datasource HTTP settings url"}},Jaeger:{traceIDInput:{[us]:"Trace ID"}},Prometheus:{configPage:{connectionSettings:{[us]:"Data source connection URL"},manageAlerts:{"10.4.0":"prometheus-alerts-manager"},allowAsRecordingRulesTarget:{"12.1.0":"prometheus-recording-rules-target"},scrapeInterval:{"10.4.0":"data-testid scrape interval"},queryTimeout:{"10.4.0":"data-testid query timeout"},defaultEditor:{"10.4.0":"data-testid default editor"},disableMetricLookup:{"10.4.0":"disable-metric-lookup"},prometheusType:{"10.4.0":"data-testid prometheus type"},prometheusVersion:{"10.4.0":"data-testid prometheus version"},cacheLevel:{"10.4.0":"data-testid cache level"},incrementalQuerying:{"10.4.0":"prometheus-incremental-querying"},queryOverlapWindow:{"10.4.0":"data-testid query overlap window"},disableRecordingRules:{"10.4.0":"disable-recording-rules"},customQueryParameters:{"10.4.0":"data-testid custom query parameters"},httpMethod:{"10.4.0":"data-testid http method"},exemplarsAddButton:{"10.3.0":"data-testid Add exemplar config button",[us]:"Add exemplar config button"},internalLinkSwitch:{"10.3.0":"data-testid Internal link switch",[us]:"Internal link switch"},codeModeMetricNamesSuggestionLimit:{"11.1.0":"data-testid code mode metric names suggestion limit"},seriesLimit:{"12.0.2":"data-testid maximum series limit"}},queryEditor:{explain:{"10.4.0":"data-testid prometheus explain switch wrapper"},editorToggle:{"10.4.0":"data-testid QueryEditorModeToggle"},options:{"10.4.0":"data-testid prometheus options"},legend:{"10.4.0":"data-testid prometheus legend wrapper"},format:{"10.4.0":"data-testid prometheus format"},step:{"10.4.0":"data-testid prometheus-step"},type:{"10.4.0":"data-testid prometheus type"},exemplars:{"10.4.0":"data-testid prometheus-exemplars"},builder:{metricSelect:{"10.4.0":"data-testid metric select"},hints:{"10.4.0":"data-testid prometheus hints"},metricsExplorer:{"10.4.0":"data-testid metrics explorer"},queryAdvisor:{"10.4.0":"data-testid query advisor"}},code:{queryField:{"10.4.0":"data-testid prometheus query field"},metricsCountInfo:{"11.1.0":"data-testid metrics count disclaimer"},metricsBrowser:{openButton:{"10.4.0":"data-testid open metrics browser"},selectMetric:{"10.4.0":"data-testid select a metric"},seriesLimit:{"10.3.1":"data-testid series limit"},metricList:{"10.4.0":"data-testid metric list"},labelNamesFilter:{"10.4.0":"data-testid label names filter"},labelValuesFilter:{"10.4.0":"data-testid label values filter"},useQuery:{"10.4.0":"data-testid use query"},useAsRateQuery:{"10.4.0":"data-testid use as rate query"},validateSelector:{"10.4.0":"data-testid validate selector"},clear:{"10.4.0":"data-testid clear"}}}},exemplarMarker:{"10.3.0":"data-testid Exemplar marker",[us]:"Exemplar marker"},variableQueryEditor:{queryType:{"10.4.0":"data-testid query type"},labelnames:{metricRegex:{"10.4.0":"data-testid label names metric regex"}},labelValues:{labelSelect:{"10.4.0":"data-testid label values label select"}},metricNames:{metricRegex:{"10.4.0":"data-testid metric names metric regex"}},varQueryResult:{"10.4.0":"data-testid variable query result"},seriesQuery:{"10.4.0":"data-testid prometheus series query"},classicQuery:{"10.4.0":"data-testid prometheus classic query"}},annotations:{minStep:{"10.4.0":"data-testid prometheus-annotation-min-step"},title:{"10.4.0":"data-testid prometheus annotation title"},tags:{"10.4.0":"data-testid prometheus annotation tags"},text:{"10.4.0":"data-testid prometheus annotation text"},seriesValueAsTimestamp:{"10.4.0":"data-testid prometheus annotation series value as timestamp"}}}},Menu:{MenuComponent:{[us]:e=>`${e} menu`},MenuGroup:{[us]:e=>`${e} menu group`},MenuItem:{[us]:e=>`${e} menu item`},SubMenu:{container:{"10.3.0":"data-testid SubMenu container",[us]:"SubMenu container"},icon:{"10.3.0":"data-testid SubMenu icon",[us]:"SubMenu icon"}}},Panels:{Panel:{title:{[us]:e=>`data-testid Panel header ${e}`},content:{"11.1.0":"data-testid panel content"},headerContainer:{"9.5.0":"data-testid header-container"},headerItems:{"10.2.0":e=>`data-testid Panel header item ${e}`},menuItems:{"9.5.0":e=>`data-testid Panel menu item ${e}`},menu:{"9.5.0":e=>`data-testid Panel menu ${e}`},containerByTitle:{[us]:e=>`${e} panel`},headerCornerInfo:{[us]:e=>`Panel header ${e}`},status:{"10.2.0":e=>`data-testid Panel status ${e}`,[us]:e=>"Panel status"},loadingBar:{"10.0.0":()=>"Panel loading bar"},HoverWidget:{container:{"10.1.0":"data-testid hover-header-container",[us]:"hover-header-container"},dragIcon:{"10.0.0":"data-testid drag-icon"}},PanelDataErrorMessage:{"10.4.0":"data-testid Panel data error message"}},Visualization:{Graph:{container:{"9.5.0":"Graph container"},VisualizationTab:{legendSection:{[us]:"Legend section"}},Legend:{legendItemAlias:{[us]:e=>`gpl alias ${e}`},showLegendSwitch:{[us]:"gpl show legend"}},xAxis:{labels:{[us]:()=>"div.flot-x-axis > div.flot-tick-label"}}},BarGauge:{valueV2:{[us]:"data-testid Bar gauge value"}},PieChart:{svgSlice:{"10.3.0":"data testid Pie Chart Slice"}},Text:{container:{[us]:()=>".markdown-html"}},Table:{header:{[us]:"table header"},footer:{[us]:"table-footer"},body:{"10.2.0":"data-testid table body"}},TableNG:{Filters:{HeaderButton:{"12.1.0":"data-testid tableng header filter"},Container:{"12.1.0":"data-testid tablenf filter container"},SelectAll:{"12.1.0":"data-testid tableng filter select-all"}},Tooltip:{Wrapper:{"12.2.0":"data-testid tableng tooltip wrapper"},Caret:{"12.2.0":"data-testid tableng tooltip caret"}},Footer:{ReducerLabel:{"12.2.0":"data-testid tableng footer reducer-label"},Value:{"12.2.0":"data-testid tableng footer value"}}}}},VizLegend:{seriesName:{"10.3.0":e=>`data-testid VizLegend series ${e}`}},Drawer:{General:{title:{[us]:e=>`Drawer title ${e}`},expand:{[us]:"Drawer expand"},contract:{[us]:"Drawer contract"},close:{"10.3.0":"data-testid Drawer close",[us]:"Drawer close"},rcContentWrapper:{"9.4.0":()=>".rc-drawer-content-wrapper"},subtitle:{"10.4.0":"data-testid drawer subtitle"}},DashboardSaveDrawer:{saveButton:{"11.1.0":"data-testid Save dashboard drawer button"},saveAsButton:{"11.1.0":"data-testid Save as dashboard drawer button"},saveAsTitleInput:{"11.1.0":"Save dashboard title field"}}},PanelEditor:{General:{content:{"11.1.0":"data-testid Panel editor content","8.0.0":"Panel editor content"}},OptionsPane:{content:{"11.1.0":"data-testid Panel editor option pane content",[us]:"Panel editor option pane content"},select:{[us]:"Panel editor option pane select"},fieldLabel:{[us]:e=>`${e} field property editor`},fieldInput:{"11.0.0":e=>`data-testid Panel editor option pane field input ${e}`}},DataPane:{content:{"11.1.0":"data-testid Panel editor data pane content",[us]:"Panel editor data pane content"}},applyButton:{"9.2.0":"data-testid Apply changes and go back to dashboard","9.1.0":"Apply changes and go back to dashboard","8.0.0":"panel editor apply"},toggleVizPicker:{"10.0.0":"data-testid toggle-viz-picker","8.0.0":"toggle-viz-picker"},toggleVizOptions:{"10.1.0":"data-testid toggle-viz-options",[us]:"toggle-viz-options"},toggleTableView:{"11.1.0":"data-testid toggle-table-view",[us]:"toggle-table-view"},showZoomField:{"10.2.0":"Map controls Show zoom control field property editor"},showAttributionField:{"10.2.0":"Map controls Show attribution field property editor"},showScaleField:{"10.2.0":"Map controls Show scale field property editor"},showMeasureField:{"10.2.0":"Map controls Show measure tools field property editor"},showDebugField:{"10.2.0":"Map controls Show debug field property editor"},measureButton:{"12.1.0":"data-testid panel-editor-measure-button","9.2.0":"show measure tools"},Outline:{section:{"12.0.0":"data-testid Outline section"},node:{"12.0.0":e=>`data-testid outline node ${e}`},item:{"12.0.0":e=>`data-testid outline item ${e}`}},ElementEditPane:{variableType:{"12.0.0":e=>`data-testid variable type ${e}`},addVariableButton:{"12.0.0":"data-testid add variable button"},variableNameInput:{"12.0.0":"data-testid variable name input"},variableLabelInput:{"12.0.0":"data-testid variable label input"},AutoGridLayout:{minColumnWidth:{"12.1.0":"data-testid min column width selector"},customMinColumnWidth:{"12.1.0":"data-testid custom min column width input"},clearCustomMinColumnWidth:{"12.1.0":"data-testid clear custom min column width input"},maxColumns:{"12.1.0":"data-testid max columns selector"},rowHeight:{"12.1.0":"data-testid row height selector"},customRowHeight:{"12.1.0":"data-testid custom row height input"},clearCustomRowHeight:{"12.1.0":"data-testid clear custom row height input"},fillScreen:{"12.1.0":"data-testid fill screen switch"}}}},PanelInspector:{Data:{content:{[us]:"Panel inspector Data content"}},Stats:{content:{[us]:"Panel inspector Stats content"}},Json:{content:{"11.1.0":"data-testid Panel inspector Json content",[us]:"Panel inspector Json content"}},Query:{content:{[us]:"Panel inspector Query content"},refreshButton:{[us]:"Panel inspector Query refresh button"},jsonObjectKeys:{[us]:()=>".json-formatter-key"}}},Tab:{title:{"11.2.0":e=>`data-testid Tab ${e}`},active:{[us]:()=>'[class*="-activeTabStyle"]'}},RefreshPicker:{runButtonV2:{[us]:"data-testid RefreshPicker run button"},intervalButtonV2:{[us]:"data-testid RefreshPicker interval button"}},QueryTab:{content:{[us]:"Query editor tab content"},queryInspectorButton:{[us]:"Query inspector button"},queryHistoryButton:{"10.2.0":"data-testid query-history-button",[us]:"query-history-button"},addQuery:{"10.2.0":"data-testid query-tab-add-query",[us]:"Query editor add query button"},addQueryFromLibrary:{"11.5.0":"data-testid query-tab-add-query-from-library"},queryGroupTopSection:{"11.2.0":"data-testid query group top section"},addExpression:{"11.2.0":"data-testid query-tab-add-expression"}},QueryHistory:{queryText:{"9.0.0":"Query text"}},QueryEditorRows:{rows:{[us]:"Query editor row"}},QueryEditorRow:{actionButton:{"10.4.0":e=>`data-testid ${e}`},title:{[us]:e=>`Query editor row title ${e}`},container:{[us]:e=>`Query editor row ${e}`}},AlertTab:{content:{"10.2.3":"data-testid Alert editor tab content",[us]:"Alert editor tab content"}},AlertRules:{groupToggle:{"11.0.0":"data-testid group-collapse-toggle"},toggle:{"11.0.0":"data-testid collapse-toggle"},expandedContent:{"11.0.0":"data-testid expanded-content"},previewButton:{"11.1.0":"data-testid alert-rule preview-button"},ruleNameField:{"11.1.0":"data-testid alert-rule name-field"},newFolderButton:{"11.1.0":"data-testid alert-rule new-folder-button"},newFolderNameField:{"11.1.0":"data-testid alert-rule name-folder-name-field"},newFolderNameCreateButton:{"11.1.0":"data-testid alert-rule name-folder-name-create-button"},newEvaluationGroupButton:{"11.1.0":"data-testid alert-rule new-evaluation-group-button"},newEvaluationGroupName:{"11.1.0":"data-testid alert-rule new-evaluation-group-name"},newEvaluationGroupInterval:{"11.1.0":"data-testid alert-rule new-evaluation-group-interval"},newEvaluationGroupCreate:{"11.1.0":"data-testid alert-rule new-evaluation-group-create-button"},step:{"11.5.0":e=>`data-testid alert-rule step-${e}`},stepAdvancedModeSwitch:{"11.5.0":e=>`data-testid advanced-mode-switch step-${e}`}},Alert:{alertV2:{[us]:e=>`data-testid Alert ${e}`}},TransformTab:{content:{"10.1.0":"data-testid Transform editor tab content",[us]:"Transform editor tab content"},newTransform:{"10.1.0":e=>`data-testid New transform ${e}`},transformationEditor:{"10.1.0":e=>`data-testid Transformation editor ${e}`},transformationEditorDebugger:{"10.1.0":e=>`data-testid Transformation editor debugger ${e}`}},Transforms:{card:{"10.1.0":e=>`data-testid New transform ${e}`},disableTransformationButton:{"10.4.0":"data-testid Disable transformation button"},Reduce:{modeLabel:{"10.2.3":"data-testid Transform mode label",[us]:"Transform mode label"},calculationsLabel:{"10.2.3":"data-testid Transform calculations label",[us]:"Transform calculations label"}},SpatialOperations:{actionLabel:{"9.1.2":"root Action field property editor"},locationLabel:{"10.2.0":"root Location Mode field property editor"},location:{autoOption:{"9.1.2":"Auto location option"},coords:{option:{"9.1.2":"Coords location option"},latitudeFieldLabel:{"9.1.2":"root Latitude field field property editor"},longitudeFieldLabel:{"9.1.2":"root Longitude field field property editor"}},geohash:{option:{"9.1.2":"Geohash location option"},geohashFieldLabel:{"9.1.2":"root Geohash field field property editor"}},lookup:{option:{"9.1.2":"Lookup location option"},lookupFieldLabel:{"9.1.2":"root Lookup field field property editor"},gazetteerFieldLabel:{"9.1.2":"root Gazetteer field property editor"}}}},searchInput:{"10.2.3":"data-testid search transformations",[us]:"search transformations"},noTransformationsMessage:{"10.2.3":"data-testid no transformations message"},addTransformationButton:{"10.1.0":"data-testid add transformation button",[us]:"add transformation button"},removeAllTransformationsButton:{"10.4.0":"data-testid remove all transformations button"}},NavBar:{Configuration:{button:{"9.5.0":"Configuration"}},Toggle:{button:{"10.2.3":"data-testid Toggle menu",[us]:"Toggle menu"}},Reporting:{button:{"9.5.0":"Reporting"}}},NavMenu:{Menu:{"10.2.3":"data-testid navigation mega-menu"},item:{"9.5.0":"data-testid Nav menu item"}},NavToolbar:{container:{"9.4.0":"data-testid Nav toolbar"},commandPaletteTrigger:{"11.5.0":"data-testid Command palette trigger"},shareDashboard:{"11.1.0":"data-testid Share dashboard"},markAsFavorite:{"11.1.0":"data-testid Mark as favorite"},editDashboard:{editButton:{"11.1.0":"data-testid Edit dashboard button"},saveButton:{"11.1.0":"data-testid Save dashboard button"},exitButton:{"11.1.0":"data-testid Exit edit mode button"},settingsButton:{"11.1.0":"data-testid Dashboard settings"},addRowButton:{"11.1.0":"data-testid Add row button"},addLibraryPanelButton:{"11.1.0":"data-testid Add a panel from the panel library button"},addVisualizationButton:{"11.1.0":"data-testid Add new visualization menu item"},pastePanelButton:{"11.1.0":"data-testid Paste panel button"},discardChangesButton:{"11.1.0":"data-testid Discard changes button"},discardLibraryPanelButton:{"11.1.0":"data-testid Discard library panel button"},unlinkLibraryPanelButton:{"11.1.0":"data-testid Unlink library panel button"},saveLibraryPanelButton:{"11.1.0":"data-testid Save library panel button"},backToDashboardButton:{"11.1.0":"data-testid Back to dashboard button"}}},PageToolbar:{container:{[us]:()=>".page-toolbar"},item:{[us]:e=>`${e}`},itemButton:{"9.5.0":e=>`data-testid ${e}`}},QueryEditorToolbarItem:{button:{[us]:e=>`QueryEditor toolbar item button ${e}`}},BackButton:{backArrow:{"10.3.0":"data-testid Go Back",[us]:"Go Back"}},OptionsGroup:{group:{"11.1.0":e=>e?`data-testid Options group ${e}`:"data-testid Options group",[us]:e=>e?`Options group ${e}`:"Options group"},toggle:{"11.1.0":e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle",[us]:e=>e?`Options group ${e} toggle`:"Options group toggle"}},PluginVisualization:{item:{[us]:e=>`Plugin visualization item ${e}`},current:{[us]:()=>'[class*="-currentVisualizationItem"]'}},Select:{menu:{"11.5.0":"data-testid Select menu",[us]:"Select options menu"},option:{"11.1.0":"data-testid Select option",[us]:"Select option"},toggleAllOptions:{"11.3.0":"data-testid toggle all options"},input:{[us]:()=>'input[id*="time-options-input"]'},singleValue:{[us]:()=>'div[class*="-singleValue"]'}},FieldConfigEditor:{content:{[us]:"Field config editor content"}},OverridesConfigEditor:{content:{[us]:"Field overrides editor content"}},FolderPicker:{containerV2:{[us]:"data-testid Folder picker select container"},input:{"10.4.0":"data-testid folder-picker-input"}},ReadonlyFolderPicker:{container:{[us]:"data-testid Readonly folder picker select container"}},DataSourcePicker:{container:{"10.0.0":"data-testid Data source picker select container","8.0.0":"Data source picker select container"},inputV2:{"10.1.0":"data-testid Select a data source",[us]:"Select a data source"},dataSourceList:{"10.4.0":"data-testid Data source list dropdown"},advancedModal:{dataSourceList:{"10.4.0":"data-testid Data source list"},builtInDataSourceList:{"10.4.0":"data-testid Built in data source list"}}},TimeZonePicker:{containerV2:{[us]:"data-testid Time zone picker select container"},changeTimeSettingsButton:{"11.0.0":"data-testid Time zone picker Change time settings button"}},WeekStartPicker:{containerV2:{[us]:"data-testid Choose starting day of the week"},placeholder:{[us]:"Choose starting day of the week"}},TraceViewer:{spanBar:{"9.0.0":"data-testid SpanBar--wrapper"}},QueryField:{container:{"10.3.0":"data-testid Query field",[us]:"Query field"}},QueryBuilder:{queryPatterns:{"10.3.0":"data-testid Query patterns",[us]:"Query patterns"},labelSelect:{"10.3.0":"data-testid Select label",[us]:"Select label"},inputSelect:{"11.1.0":"data-testid Select label-input"},valueSelect:{"10.3.0":"data-testid Select value",[us]:"Select value"},matchOperatorSelect:{"10.3.0":"data-testid Select match operator",[us]:"Select match operator"}},ValuePicker:{button:{"10.3.0":e=>`data-testid Value picker button ${e}`},select:{"10.3.0":e=>`data-testid Value picker select ${e}`}},Search:{sectionV2:{[us]:"data-testid Search section"},itemsV2:{[us]:"data-testid Search items"},cards:{[us]:"data-testid Search cards"},collapseFolder:{[us]:e=>`data-testid Collapse folder ${e}`},expandFolder:{[us]:e=>`data-testid Expand folder ${e}`},dashboardItem:{[us]:e=>`data-testid Dashboard search item ${e}`},dashboardCard:{[us]:e=>`data-testid Search card ${e}`},folderHeader:{"9.3.0":e=>`data-testid Folder header ${e}`},folderContent:{"9.3.0":e=>`data-testid Folder content ${e}`},dashboardItems:{[us]:"data-testid Dashboard search item"}},DashboardLinks:{container:{[us]:"data-testid Dashboard link container"},dropDown:{[us]:"data-testid Dashboard link dropdown"},link:{[us]:"data-testid Dashboard link"}},LoadingIndicator:{icon:{"10.4.0":"data-testid Loading indicator",[us]:"Loading indicator"}},CallToActionCard:{buttonV2:{[us]:e=>`data-testid Call to action button ${e}`}},DataLinksContextMenu:{singleLink:{"10.3.0":"data-testid Data link",[us]:"Data link"}},DataLinksActionsTooltip:{tooltipWrapper:{"12.1.0":"data-testid Data links actions tooltip wrapper"}},CodeEditor:{container:{"10.2.3":"data-testid Code editor container",[us]:"Code editor container"}},ReactMonacoEditor:{editorLazy:{"11.1.0":"data-testid ReactMonacoEditor editorLazy"}},DashboardImportPage:{textarea:{[us]:"data-testid-import-dashboard-textarea"},submit:{[us]:"data-testid-load-dashboard"}},ImportDashboardForm:{name:{[us]:"data-testid-import-dashboard-title"},submit:{[us]:"data-testid-import-dashboard-submit"}},PanelAlertTabContent:{content:{"10.2.3":"data-testid Unified alert editor tab content",[us]:"Unified alert editor tab content"}},VisualizationPreview:{card:{[us]:e=>`data-testid suggestion-${e}`}},ColorSwatch:{name:{[us]:"data-testid-colorswatch"}},DashboardRow:{title:{[us]:e=>`data-testid dashboard-row-title-${e}`},wrapper:{"12.1.0":e=>`data-testid dashboard-row-wrapper-for-${e}`}},UserProfile:{profileSaveButton:{[us]:"data-testid-user-profile-save"},preferencesSaveButton:{[us]:"data-testid-shared-prefs-save"},orgsTable:{[us]:"data-testid-user-orgs-table"},sessionsTable:{[us]:"data-testid-user-sessions-table"},extensionPointTabs:{"10.2.3":"data-testid-extension-point-tabs"},extensionPointTab:{"10.2.3":e=>`data-testid-extension-point-tab-${e}`}},FileUpload:{inputField:{"9.0.0":"data-testid-file-upload-input-field"},fileNameSpan:{"9.0.0":"data-testid-file-upload-file-name"}},DebugOverlay:{wrapper:{"9.2.0":"debug-overlay"}},OrgRolePicker:{input:{"9.5.0":"Role"}},AnalyticsToolbarButton:{button:{"9.5.0":"Dashboard insights"}},Variables:{variableOption:{"9.5.0":"data-testid variable-option"},variableLinkWrapper:{"11.1.1":"data-testid variable-link-wrapper"}},Annotations:{annotationsTypeInput:{"11.1.0":"data-testid annotations-type-input",[us]:"annotations-type-input"},annotationsChoosePanelInput:{"11.1.0":"data-testid choose-panels-input",[us]:"choose-panels-input"},editor:{testButton:{"11.0.0":"data-testid annotations-test-button"},resultContainer:{"11.0.0":"data-testid annotations-query-result-container"}}},Tooltip:{container:{"10.2.0":"data-testid tooltip"}},ReturnToPrevious:{buttonGroup:{"11.0.0":"data-testid dismissable button group"},backButton:{"11.0.0":"data-testid back"},dismissButton:{"11.0.0":"data-testid dismiss"}},SQLQueryEditor:{selectColumn:{"11.0.0":"data-testid select-column"},selectColumnInput:{"11.0.0":"data-testid select-column-input"},selectFunctionParameter:{"11.0.0":e=>`data-testid select-function-parameter-${e}`},selectAggregation:{"11.0.0":"data-testid select-aggregation"},selectAggregationInput:{"11.0.0":"data-testid select-aggregation-input"},selectAlias:{"11.0.0":"data-testid select-alias"},selectAliasInput:{"11.0.0":"data-testid select-alias-input"},selectInputParameter:{"11.0.0":"data-testid select-input-parameter"},filterConjunction:{"11.0.0":"data-testid filter-conjunction"},filterField:{"11.0.0":"data-testid filter-field"},filterOperator:{"11.0.0":"data-testid filter-operator"},headerTableSelector:{"11.0.0":"data-testid header-table-selector"},headerFilterSwitch:{"11.0.0":"data-testid header-filter-switch"},headerGroupSwitch:{"11.0.0":"data-testid header-group-switch"},headerOrderSwitch:{"11.0.0":"data-testid header-order-switch"},headerPreviewSwitch:{"11.0.0":"data-testid header-preview-switch"}},EntityNotFound:{container:{"11.2.0":"data-testid entity-not-found"}},Portal:{container:{"11.5.0":"data-testid portal-container"}},ExportImage:{formatOptions:{container:{"12.1.0":"data-testid export-image-format-options"},png:{"12.1.0":"data-testid export-image-format-png"},jpg:{"12.1.0":"data-testid export-image-format-jpg"}},rendererAlert:{container:{"12.1.0":"data-testid export-image-renderer-alert"},title:{"12.1.0":"data-testid export-image-renderer-alert-title"},description:{"12.1.0":"data-testid export-image-renderer-alert-description"}},buttons:{generate:{"12.1.0":"data-testid export-image-generate-button"},download:{"12.1.0":"data-testid export-image-download-button"},cancel:{"12.1.0":"data-testid export-image-cancel-button"}},preview:{container:{"12.1.0":"data-testid export-image-preview-container"},loading:{"12.1.0":"data-testid export-image-preview-loading"},image:{"12.1.0":"data-testid export-image-preview"},error:{container:{"12.1.0":"data-testid export-image-error"},title:{"12.1.0":"data-testid export-image-error-title"},message:{"12.1.0":"data-testid export-image-error-message"}}}}},_s=is({Alerting:{AddAlertRule:{url:{"10.1.0":"/alerting/new/alerting",[us]:"/alerting/new"}},EditAlertRule:{url:{[us]:e=>`alerting/${e}/edit`}}},Login:{url:{[us]:"/login"},username:{"10.2.3":"data-testid Username input field",[us]:"Username input field"},password:{"10.2.3":"data-testid Password input field",[us]:"Password input field"},submit:{"10.2.3":"data-testid Login button",[us]:"Login button"},skip:{"10.2.3":"data-testid Skip change password button"}},PasswordlessLogin:{url:{[us]:"/login/passwordless/authenticate"},email:{"10.2.3":"data-testid Email input field",[us]:"Email input field"},submit:{"10.2.3":"data-testid PasswordlessLogin button",[us]:"PasswordlessLogin button"}},Home:{url:{[us]:"/"}},DataSource:{name:{"10.3.0":"data-testid Data source settings page name input field",[us]:"Data source settings page name input field"},delete:{[us]:"Data source settings page Delete button"},readOnly:{"10.3.0":"data-testid Data source settings page read only message",[us]:"Data source settings page read only message"},saveAndTest:{"10.0.0":"data-testid Data source settings page Save and Test button",[us]:"Data source settings page Save and Test button"},alert:{"10.3.0":"data-testid Data source settings page Alert",[us]:"Data source settings page Alert"}},DataSources:{url:{[us]:"/datasources"},dataSources:{[us]:e=>`Data source list item ${e}`}},EditDataSource:{url:{"9.5.0":e=>`/datasources/edit/${e}`},settings:{"9.5.0":"Datasource settings page basic settings"}},AddDataSource:{url:{[us]:"/datasources/new"},dataSourcePluginsV2:{"9.3.1":e=>`Add new data source ${e}`,[us]:e=>`Data source plugin item ${e}`}},ConfirmModal:{delete:{"10.0.0":"data-testid Confirm Modal Danger Button",[us]:"Confirm Modal Danger Button"},input:{"12.2.0":"data-testid Confirm Modal Input"}},SecretsManagement:{SecretForm:{"12.2.0":"data-testid Secret Form"}},AddDashboard:{url:{[us]:"/dashboard/new"},itemButton:{"9.5.0":e=>`data-testid ${e}`},addNewPanel:{"11.1.0":"data-testid Add new panel","8.0.0":"Add new panel",[us]:"Add new panel"},itemButtonAddViz:{[us]:"Add new visualization menu item"},addNewRow:{"11.1.0":"data-testid Add new row",[us]:"Add new row"},addNewPanelLibrary:{"11.1.0":"data-testid Add new panel from panel library",[us]:"Add new panel from panel library"},Settings:{Annotations:{List:{url:{[us]:"/dashboard/new?orgId=1&editview=annotations"}},Edit:{url:{[us]:e=>`/dashboard/new?editview=annotations&editIndex=${e}`}}},Variables:{List:{url:{"11.3.0":"/dashboard/new?orgId=1&editview=variables",[us]:"/dashboard/new?orgId=1&editview=templating"}},Edit:{url:{"11.3.0":e=>`/dashboard/new?orgId=1&editview=variables&editIndex=${e}`,[us]:e=>`/dashboard/new?orgId=1&editview=templating&editIndex=${e}`}}}}},ImportDashboard:{url:{[us]:"/dashboard/import"}},Dashboard:{url:{[us]:e=>`/d/${e}`},DashNav:{nav:{[us]:"Dashboard navigation"},navV2:{[us]:"data-testid Dashboard navigation"},publicDashboardTag:{"9.1.0":"data-testid public dashboard tag"},shareButton:{"10.4.0":"data-testid share-button"},scrollContainer:{"11.1.0":"data-testid Dashboard canvas scroll container"},newShareButton:{container:{"11.1.0":"data-testid new share button"},shareLink:{"11.1.0":"data-testid new share link-button"},arrowMenu:{"11.1.0":"data-testid new share button arrow menu"},menu:{container:{"11.1.0":"data-testid new share button menu"},shareInternally:{"11.1.0":"data-testid new share button share internally"},shareExternally:{"11.1.1":"data-testid new share button share externally"},shareSnapshot:{"11.2.0":"data-testid new share button share snapshot"}}},NewExportButton:{container:{"11.2.0":"data-testid new export button"},arrowMenu:{"11.2.0":"data-testid new export button arrow menu"},Menu:{container:{"11.2.0":"data-testid new export button menu"},exportAsJson:{"11.2.0":"data-testid new export button export as json"},exportAsImage:{"12.1.0":"data-testid new export button export as image"}}},playlistControls:{prev:{"11.0.0":"data-testid playlist previous dashboard button"},stop:{"11.0.0":"data-testid playlist stop dashboard button"},next:{"11.0.0":"data-testid playlist next dashboard button"}}},Controls:{"11.1.0":"data-testid dashboard controls"},SubMenu:{submenu:{[us]:"Dashboard submenu"},submenuItem:{[us]:"data-testid template variable"},submenuItemLabels:{[us]:e=>`data-testid Dashboard template variables submenu Label ${e}`},submenuItemValueDropDownValueLinkTexts:{[us]:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`},submenuItemValueDropDownDropDown:{[us]:"Variable options"},submenuItemValueDropDownOptionTexts:{[us]:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Annotations:{annotationsWrapper:{"10.0.0":"data-testid annotation-wrapper"},annotationLabel:{"10.0.0":e=>`data-testid Dashboard annotations submenu Label ${e}`},annotationToggle:{"10.0.0":e=>`data-testid Dashboard annotations submenu Toggle ${e}`}}},Settings:{Actions:{close:{"9.5.0":"data-testid dashboard-settings-close"}},General:{deleteDashBoard:{"11.1.0":"data-testid Dashboard settings page delete dashboard button"},sectionItems:{[us]:e=>`Dashboard settings section item ${e}`},saveDashBoard:{[us]:"Dashboard settings aside actions Save button"},saveAsDashBoard:{[us]:"Dashboard settings aside actions Save As button"},title:{"11.2.0":"General"}},Annotations:{Edit:{urlParams:{[us]:e=>`editview=annotations&editIndex=${e}`}},List:{url:{[us]:e=>`/d/${e}?editview=annotations`},addAnnotationCTAV2:{[us]:"data-testid Call to action button Add annotation query"},annotations:{"10.4.0":"data-testid list-annotations"}},Settings:{name:{"11.1.0":"data-testid Annotations settings name input",[us]:"Annotations settings name input"}},NewAnnotation:{panelFilterSelect:{"10.0.0":"data-testid annotations-panel-filter"},showInLabel:{"11.1.0":"data-testid show-in-label"},previewInDashboard:{"10.0.0":"data-testid annotations-preview"},delete:{"10.4.0":"data-testid annotations-delete"},apply:{"10.4.0":"data-testid annotations-apply"},enable:{"10.4.0":"data-testid annotation-enable"},hide:{"10.4.0":"data-testid annotation-hide"}}},Variables:{List:{url:{"11.3.0":e=>`/d/${e}?editview=variables`,[us]:e=>`/d/${e}?editview=templating`},addVariableCTAV2:{[us]:"data-testid Call to action button Add variable"},newButton:{[us]:"Variable editor New variable button"},table:{[us]:"Variable editor Table"},tableRowNameFields:{[us]:e=>`Variable editor Table Name field ${e}`},tableRowDefinitionFields:{"10.1.0":e=>`Variable editor Table Definition field ${e}`},tableRowArrowUpButtons:{[us]:e=>`Variable editor Table ArrowUp button ${e}`},tableRowArrowDownButtons:{[us]:e=>`Variable editor Table ArrowDown button ${e}`},tableRowDuplicateButtons:{[us]:e=>`Variable editor Table Duplicate button ${e}`},tableRowRemoveButtons:{[us]:e=>`Variable editor Table Remove button ${e}`}},Edit:{urlParams:{"11.3.0":e=>`editview=variables&editIndex=${e}`,[us]:e=>`editview=templating&editIndex=${e}`},General:{headerLink:{[us]:"Variable editor Header link"},modeLabelNew:{[us]:"Variable editor Header mode New"},modeLabelEdit:{[us]:"Variable editor Header mode Edit"},generalNameInput:{[us]:"Variable editor Form Name field"},generalNameInputV2:{[us]:"data-testid Variable editor Form Name field"},generalTypeSelect:{[us]:"Variable editor Form Type select"},generalTypeSelectV2:{[us]:"data-testid Variable editor Form Type select"},generalLabelInput:{[us]:"Variable editor Form Label field"},generalLabelInputV2:{[us]:"data-testid Variable editor Form Label field"},generalHideSelect:{[us]:"Variable editor Form Hide select"},generalHideSelectV2:{[us]:"data-testid Variable editor Form Hide select"},selectionOptionsAllowCustomValueSwitch:{[us]:"data-testid Variable editor Form Allow Custom Value switch"},selectionOptionsMultiSwitch:{"10.4.0":"data-testid Variable editor Form Multi switch",[us]:"Variable editor Form Multi switch"},selectionOptionsIncludeAllSwitch:{"10.4.0":"data-testid Variable editor Form IncludeAll switch",[us]:"Variable editor Form IncludeAll switch"},selectionOptionsCustomAllInput:{"10.4.0":"data-testid Variable editor Form IncludeAll field",[us]:"Variable editor Form IncludeAll field"},previewOfValuesOption:{"10.4.0":"data-testid Variable editor Preview of Values option",[us]:"Variable editor Preview of Values option"},submitButton:{"10.4.0":"data-testid Variable editor Run Query button",[us]:"Variable editor Submit button"},applyButton:{"9.3.0":"data-testid Variable editor Apply button"}},QueryVariable:{closeButton:{[us]:"data-testid Query Variable editor close button"},editor:{[us]:"data-testid Query Variable editor"},previewButton:{[us]:"data-testid Query Variable editor preview button"},queryOptionsDataSourceSelect:{"10.4.0":"data-testid Select a data source","10.0.0":"data-testid Data source picker select container",[us]:"Data source picker select container"},queryOptionsOpenButton:{[us]:"data-testid Query Variable editor open button"},queryOptionsRefreshSelect:{[us]:"Variable editor Form Query Refresh select"},queryOptionsRefreshSelectV2:{[us]:"data-testid Variable editor Form Query Refresh select"},queryOptionsRegExInput:{[us]:"Variable editor Form Query RegEx field"},queryOptionsRegExInputV2:{[us]:"data-testid Variable editor Form Query RegEx field"},queryOptionsSortSelect:{[us]:"Variable editor Form Query Sort select"},queryOptionsSortSelectV2:{[us]:"data-testid Variable editor Form Query Sort select"},queryOptionsQueryInput:{"10.4.0":"data-testid Variable editor Form Default Variable Query Editor textarea"},queryOptionsStaticOptionsRow:{[us]:"Variable editor Form Query Static Options row"},queryOptionsStaticOptionsToggle:{[us]:"Variable editor Form Query Static Options toggle"},queryOptionsStaticOptionsLabelInput:{[us]:"Variable editor Form Query Static Options Label input"},queryOptionsStaticOptionsValueInput:{[us]:"Variable editor Form Query Static Options Value input"},queryOptionsStaticOptionsDeleteButton:{[us]:"Variable editor Form Query Static Options Delete button"},queryOptionsStaticOptionsAddButton:{[us]:"Variable editor Form Query Static Options Add button"},queryOptionsStaticOptionsOrderDropdown:{[us]:"Variable editor Form Query Static Options Order dropdown"},valueGroupsTagsEnabledSwitch:{[us]:"Variable editor Form Query UseTags switch"},valueGroupsTagsTagsQueryInput:{[us]:"Variable editor Form Query TagsQuery field"},valueGroupsTagsTagsValuesQueryInput:{[us]:"Variable editor Form Query TagsValuesQuery field"}},ConstantVariable:{constantOptionsQueryInput:{[us]:"Variable editor Form Constant Query field"},constantOptionsQueryInputV2:{[us]:"data-testid Variable editor Form Constant Query field"}},DatasourceVariable:{datasourceSelect:{[us]:"data-testid datasource variable datasource type"},nameFilter:{[us]:"data-testid datasource variable datasource name filter"}},TextBoxVariable:{textBoxOptionsQueryInput:{[us]:"Variable editor Form TextBox Query field"},textBoxOptionsQueryInputV2:{[us]:"data-testid Variable editor Form TextBox Query field"}},CustomVariable:{customValueInput:{[us]:"data-testid custom-variable-input"}},IntervalVariable:{intervalsValueInput:{[us]:"data-testid interval variable intervals input"},autoEnabledCheckbox:{"10.4.0":"data-testid interval variable auto value checkbox"},stepCountIntervalSelect:{"10.4.0":"data-testid interval variable step count input"},minIntervalInput:{"10.4.0":"data-testid interval variable mininum interval input"}},GroupByVariable:{dataSourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid group by variable info text"},modeToggle:{"10.4.0":"data-testid group by variable mode toggle"}},AdHocFiltersVariable:{datasourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid ad-hoc filters variable info text"},modeToggle:{"11.0.0":"data-testid ad-hoc filters variable mode toggle"}}}}},Annotations:{marker:{"10.0.0":"data-testid annotation-marker"}},Rows:{Repeated:{ConfigSection:{warningMessage:{"10.2.0":"data-testid Repeated rows warning message"}}}}},Dashboards:{url:{[us]:"/dashboards"},dashboards:{"10.2.0":e=>`Dashboard search item ${e}`},toggleView:{[us]:"data-testid radio-button"}},SaveDashboardAsModal:{newName:{"10.2.0":"Save dashboard title field"},save:{"10.2.0":"Save dashboard button"}},SaveDashboardModal:{save:{"10.2.0":"Dashboard settings Save Dashboard Modal Save button"},saveVariables:{"10.2.0":"Dashboard settings Save Dashboard Modal Save variables checkbox"},saveTimerange:{"10.2.0":"Dashboard settings Save Dashboard Modal Save timerange checkbox"},saveRefresh:{"11.1.0":"Dashboard settings Save Dashboard Modal Save refresh checkbox"},variablesWarningAlert:{"12.2.0":"Dashboard settings Save Dashboard Modal Save variables Variables With Errors Warning Alert"}},SharePanelModal:{linkToRenderedImage:{[us]:"Link to rendered image"}},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:{"9.1.0":"data-testid public dashboard will be public checkbox"},LimitedDSCheckbox:{"9.1.0":"data-testid public dashboard limited datasources checkbox"},CostIncreaseCheckbox:{"9.1.0":"data-testid public dashboard cost may increase checkbox"},PauseSwitch:{"9.5.0":"data-testid public dashboard pause switch"},EnableAnnotationsSwitch:{"9.3.0":"data-testid public dashboard on off switch for annotations"},CreateButton:{"9.5.0":"data-testid public dashboard create button"},DeleteButton:{"9.3.0":"data-testid public dashboard delete button"},CopyUrlInput:{"9.1.0":"data-testid public dashboard copy url input"},CopyUrlButton:{"9.1.0":"data-testid public dashboard copy url button"},SettingsDropdown:{"10.1.0":"data-testid public dashboard settings dropdown"},TemplateVariablesWarningAlert:{"9.1.0":"data-testid public dashboard disabled template variables alert"},UnsupportedDataSourcesWarningAlert:{"9.5.0":"data-testid public dashboard unsupported data sources alert"},NoUpsertPermissionsWarningAlert:{"9.5.0":"data-testid public dashboard no upsert permissions alert"},EnableTimeRangeSwitch:{"9.4.0":"data-testid public dashboard on off switch for time range"},EmailSharingConfiguration:{Container:{"9.5.0":"data-testid email sharing config container"},ShareType:{"9.5.0":"data-testid public dashboard share type"},EmailSharingInput:{"9.5.0":"data-testid public dashboard email sharing input"},EmailSharingInviteButton:{"9.5.0":"data-testid public dashboard email sharing invite button"},EmailSharingList:{"9.5.0":"data-testid public dashboard email sharing list"},DeleteEmail:{"9.5.0":"data-testid public dashboard delete email button"},ReshareLink:{"9.5.0":"data-testid public dashboard reshare link button"}}},SnapshotScene:{url:{"11.1.0":e=>`/dashboard/snapshot/${e}`},PublishSnapshot:{"11.1.0":"data-testid publish snapshot button"},CopyUrlButton:{"11.1.0":"data-testid snapshot copy url button"},CopyUrlInput:{"11.1.0":"data-testid snapshot copy url input"}}},ShareDashboardDrawer:{ShareInternally:{container:{"11.3.0":"data-testid share internally drawer container"},lockTimeRangeSwitch:{"11.3.0":"data-testid share internally lock time range switch"},shortenUrlSwitch:{"11.3.0":"data-testid share internally shorten url switch"},copyUrlButton:{"11.3.0":"data-testid share internally copy url button"},SharePanel:{preview:{"11.5.0":"data-testid share panel internally image generation preview"},widthInput:{"11.5.0":"data-testid share panel internally width input"},heightInput:{"11.5.0":"data-testid share panel internally height input"},scaleFactorInput:{"11.5.0":"data-testid share panel internally scale factor input"},generateImageButton:{"11.5.0":"data-testid share panel internally generate image button"},downloadImageButton:{"11.5.0":"data-testid share panel internally download image button"}}},ShareExternally:{container:{"11.3.0":"data-testid share externally drawer container"},publicAlert:{"11.3.0":"data-testid public share alert"},emailSharingAlert:{"11.3.0":"data-testid email share alert"},shareTypeSelect:{"11.3.0":"data-testid share externally share type select"},Creation:{PublicShare:{createButton:{"11.3.0":"data-testid public share dashboard create button"},cancelButton:{"11.3.0":"data-testid public share dashboard cancel button"}},EmailShare:{createButton:{"11.3.0":"data-testid email share dashboard create button"},cancelButton:{"11.3.0":"data-testid email share dashboard cancel button"}},willBePublicCheckbox:{"11.3.0":"data-testid share dashboard will be public checkbox"}},Configuration:{enableTimeRangeSwitch:{"11.3.0":"data-testid share externally enable time range switch"},enableAnnotationsSwitch:{"11.3.0":"data-testid share externally enable annotations switch"},copyUrlButton:{"11.3.0":"data-testid share externally copy url button"},revokeAccessButton:{"11.3.0":"data-testid share externally revoke access button"},toggleAccessButton:{"11.3.0":"data-testid share externally pause or resume access button"}}},ShareSnapshot:{url:{"11.3.0":e=>`/dashboard/snapshot/${e}`},container:{"11.3.0":"data-testid share snapshot drawer container"},publishSnapshot:{"11.3.0":"data-testid share snapshot publish button"},copyUrlButton:{"11.3.0":"data-testid share snapshot copy url button"}}},ExportDashboardDrawer:{ExportAsJson:{container:{"11.3.0":"data-testid export as json drawer container"},codeEditor:{"11.3.0":"data-testid export as json code editor"},exportExternallyToggle:{"11.3.0":"data-testid export as json externally switch"},saveToFileButton:{"11.3.0":"data-testid export as json save to file button"},copyToClipboardButton:{"11.3.0":"data-testid export as json copy to clipboard button"},cancelButton:{"11.3.0":"data-testid export as json cancel button"}}},PublicDashboard:{page:{"9.5.0":"public-dashboard-page"},NotAvailable:{container:{"9.5.0":"public-dashboard-not-available"},title:{"9.5.0":"public-dashboard-title"},pausedDescription:{"9.5.0":"public-dashboard-paused-description"}},footer:{"11.0.0":"public-dashboard-footer"}},PublicDashboardScene:{loadingPage:{"11.0.0":"public-dashboard-scene-loading-page"},page:{"11.0.0":"public-dashboard-scene-page"},controls:{"11.0.0":"public-dashboard-controls"}},RequestViewAccess:{form:{"9.5.0":"request-view-access-form"},recipientInput:{"9.5.0":"request-view-access-recipient-input"},submitButton:{"9.5.0":"request-view-access-submit-button"}},PublicDashboardConfirmAccess:{submitButton:{"10.2.0":"data-testid confirm-access-submit-button"}},Explore:{url:{[us]:"/explore"},General:{container:{[us]:"data-testid Explore"},graph:{[us]:"Explore Graph"},table:{[us]:"Explore Table"},scrollView:{"9.0.0":"data-testid explorer scroll view"},addFromQueryLibrary:{"11.5.0":"data-testid explore add from query library button"}},QueryHistory:{container:{"11.1.0":"data-testid QueryHistory"}}},SoloPanel:{url:{[us]:e=>`/d-solo/${e}`}},PluginsList:{page:{[us]:"Plugins list page"},list:{[us]:"Plugins list"},listItem:{[us]:"Plugins list item"},signatureErrorNotice:{"10.3.0":"data-testid Unsigned plugins notice",[us]:"Unsigned plugins notice"}},PluginPage:{page:{[us]:"Plugin page"},signatureInfo:{"10.3.0":"data-testid Plugin signature info",[us]:"Plugin signature info"},disabledInfo:{"10.3.0":"data-testid Plugin disabled info",[us]:"Plugin disabled info"}},PlaylistForm:{name:{[us]:"Playlist name"},interval:{[us]:"Playlist interval"},itemDelete:{"10.2.0":"data-testid playlist-form-delete-item"}},BrowseDashboards:{table:{body:{"10.2.0":"data-testid browse-dashboards-table"},row:{"10.2.0":e=>`data-testid browse dashboards row ${e}`},checkbox:{"10.0.0":e=>`data-testid ${e} checkbox`}},NewFolderForm:{form:{"10.2.0":"data-testid new folder form"},nameInput:{"10.2.0":"data-testid new-folder-name-input"},createButton:{"10.2.0":"data-testid new-folder-create-button"}}},SearchDashboards:{table:{"10.2.0":"Search results table"}},Search:{url:{"9.3.0":"/?search=openn"},FolderView:{url:{"9.3.0":"/?search=open&layout=folders"}}},PublicDashboards:{ListItem:{linkButton:{"9.3.0":"public-dashboard-link-button"},configButton:{"9.3.0":"public-dashboard-configuration-button"},trashcanButton:{"9.3.0":"public-dashboard-remove-button"},pauseSwitch:{"10.1.0":"data-testid public dashboard pause switch"}}},UserListPage:{tabs:{allUsers:{"10.0.0":"data-testid all-users-tab"},orgUsers:{"10.0.0":"data-testid org-users-tab"},anonUserDevices:{"10.2.3":"data-testid anon-user-devices-tab"},publicDashboardsUsers:{"10.0.0":"data-testid public-dashboards-users-tab"},users:{"10.0.0":"data-testid users-tab"}},org:{url:{"10.2.0":"/admin/users","9.5.0":"/org/users"}},admin:{url:{"9.5.0":"/admin/users"}},publicDashboards:{container:{"11.1.0":"data-testid public-dashboards-users-list"}},UserListAdminPage:{container:{"10.0.0":"data-testid user-list-admin-page"}},UsersListPage:{container:{"10.0.0":"data-testid users-list-page"}},UserAnonListPage:{container:{"10.4.0":"data-testid user-anon-list-page"}},UsersListPublicDashboardsPage:{container:{"10.0.0":"data-testid users-list-public-dashboards-page"},DashboardsListModal:{listItem:{"10.0.0":e=>`data-testid dashboards-list-item-${e}`}}}},ProfilePage:{url:{"10.2.0":"/profile"}},Plugin:{url:{[us]:e=>`/plugins/${e}`}},MigrateToCloud:{url:{"11.2.0":"/admin/migrate-to-cloud"}}}),As=(is(ms),"450px"),Rs=[{label:"Server and encryption",id:"server",isOpen:!0,isOptional:!1},{label:"Database credentials",id:"credentials",isOpen:!0,isOptional:!1},{label:"TLS/SSL settings",id:"tls",isOpen:!1,isOptional:!0},{label:"Additional settings",id:"additional",isOpen:!1,isOptional:!0},{label:"Save & test",id:`${_s.DataSource.saveAndTest}`,isOpen:void 0,isOptional:null}],Ss=[{label:"Server and encryption",id:"server",isOpen:!0,isOptional:!1},{label:"Database credentials",id:"credentials",isOpen:!0,isOptional:!1},{label:"TLS/SSL settings",id:"tls",isOpen:!1,isOptional:!0},{label:"Additional settings",id:"additional",isOpen:!1,isOptional:!0},{label:"Private data source connect",id:"pdc",isOpen:!1,isOptional:!0},{label:"Save & test",id:`${_s.DataSource.saveAndTest}`,isOpen:void 0,isOptional:null}],ds=[{label:"Native",value:Et.Native},{label:"HTTP",value:Et.Http}];function Os(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Is(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){Os(e,t,s[t])})}return e}function Ns(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const bs=e=>{const{secureFields:t,onHttpHeadersChange:s}=e,a=ys(t),[r,n]=(0,ge.useState)(e.headers||[]),[o,l]=(0,ge.useState)(e.forwardGrafanaHeaders||!1),i=ls.Config.HttpHeadersConfig,E=Qe.Config.HttpHeaderConfig;return xe().createElement("div",{style:{marginLeft:"30px"}},xe().createElement($.Field,{label:i.label},xe().createElement(xe().Fragment,null,r.map((e,t)=>xe().createElement(Cs,{key:e.name+t,name:e.name,value:e.value,secure:e.secure,isSecureConfigured:a.has(e.name),onHeaderChange:e=>((e,t)=>{const a=[...r.slice(0,e),Ns(Is({},t),{name:t.name.trim()}),...r.slice(e+1)];n(a),s(a)})(t,e),onRemove:()=>(e=>{const t=[...r.slice(0,e),...r.slice(e+1)];n(t),s(t)})(t)})),xe().createElement($.Button,{"data-testid":E.addHeaderButton,icon:"plus",variant:"secondary",size:"sm",onClick:()=>n([...r,{name:"",value:"",secure:!1}]),className:xt.Common.smallBtn},i.addHeaderLabel))),xe().createElement($.Checkbox,{label:i.forwardGrafanaHeaders.label,checked:o,onChange:t=>(t=>{l(t),e.onForwardGrafanaHeadersChange(t)})(t.currentTarget.checked)}))},Cs=e=>{const{onHeaderChange:t,onRemove:s}=e,[a,r]=(0,ge.useState)(e.name),[n,o]=(0,ge.useState)(e.value),[l,i]=(0,ge.useState)(e.secure),[E,c]=(0,ge.useState)(e.isSecureConfigured),T=ls.Config.HttpHeadersConfig,p=Qe.Config.HttpHeaderConfig,u=()=>{t({name:a,value:n,secure:l})},m=l?T.secureHeaderValueLabel:T.insecureHeaderValueLabel;return xe().createElement("div",{"data-testid":p.headerEditor,style:{marginTop:"10px"}},xe().createElement($.Stack,{direction:"row",alignItems:"center",gap:1},xe().createElement($.Field,{label:T.headerNameLabel,"aria-label":T.headerNameLabel},xe().createElement($.Input,{"data-testid":p.headerNameInput,value:a,disabled:E,placeholder:T.headerNamePlaceholder,onChange:e=>r(e.target.value),onBlur:u})),xe().createElement($.Box,{flex:"1 1 auto"},xe().createElement($.Field,{label:m,"aria-label":m},l?xe().createElement($.SecretInput,{"data-testid":p.headerValueInput,placeholder:T.secureHeaderValueLabel,value:n,isConfigured:E,onReset:()=>c(!1),onChange:e=>o(e.target.value),onBlur:u}):xe().createElement($.Input,{"data-testid":p.headerValueInput,value:n,placeholder:T.insecureHeaderValueLabel,onChange:e=>o(e.target.value),onBlur:u}))),!E&&xe().createElement($.Checkbox,{label:T.secureLabel,checked:l,onChange:e=>i(e.currentTarget.checked),"data-testid":p.forwardGrafanaHeadersSwitch}),s&&xe().createElement($.Button,{"data-testid":p.removeHeaderButton,className:xt.Common.smallBtn,variant:"destructive",size:"sm",icon:"trash-alt",onClick:s})))},ys=e=>(0,ge.useMemo)(()=>{const t=new Set;for(const s in e)s.startsWith("secureHttpHeaders.")&&e[s]&&t.add(s.substring(s.indexOf(".")+1));return t},[e]),Ls=e=>{var t;const{options:s,onOptionsChange:r,onSwitchToggle:n}=e,{jsonData:o,secureJsonFields:l}=s,i=ls.Config.ConfigEditor,[E,c]=(0,ge.useState)(Boolean((null===(t=o.httpHeaders)||void 0===t?void 0:t.length)||o.forwardGrafanaHeaders)),T=(0,$.useTheme2)(),p={httpSettingsSection:(0,je.css)({marginTop:T.spacing(2)}),httpSettingsButton:(0,je.css)({marginBottom:T.spacing(2)})};var u;return o.protocol===Et.Http?xe().createElement("div",{className:p.httpSettingsSection},xe().createElement($.Field,{label:i.path.label,description:i.path.tooltip},xe().createElement($.Input,{value:null!==(u=o.path)&&void 0!==u?u:"/",name:"path",onChange:(0,a.onUpdateDatasourceJsonDataOption)(e,"path"),"aria-label":i.path.label,placeholder:i.path.placeholder})),xe().createElement($.Button,{icon:E?"angle-down":"angle-right",size:"sm",variant:"secondary",onClick:()=>c(!E),className:p.httpSettingsButton},"Optional HTTP settings"),E&&xe().createElement(bs,{headers:o.httpHeaders,forwardGrafanaHeaders:o.forwardGrafanaHeaders,secureFields:l,onHttpHeadersChange:e=>Wt(e,s,r),onForwardGrafanaHeadersChange:e=>n("forwardGrafanaHeaders",e)})):null};function hs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function fs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){hs(e,t,s[t])})}return e}function $s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Ds=e=>{const{options:t,onOptionsChange:s}=e,{jsonData:n}=t,o=ls.Config.ConfigEditor,l=n.secure?n.protocol===Et.Native?o.serverPort.secureNativePort:o.serverPort.secureHttpPort:n.protocol===Et.Native?o.serverPort.insecureNativePort:o.serverPort.insecureHttpPort,i=`${o.serverPort.tooltip} (default for ${n.secure?"secure":""} ${n.protocol}: ${l})`,E=(0,$.useStyles2)(Ps),c=(e,a)=>{s($s(fs({},t),{jsonData:$s(fs({},t.jsonData),{[e]:a})}))};return xe().createElement($.Box,{borderStyle:"solid",borderColor:"weak",padding:2,marginBottom:4,id:`${Rs[0].id}`,minWidth:As},xe().createElement($.CollapsableSection,{label:xe().createElement($.Text,{variant:"h3"},"1. ",Rs[0].label),isOpen:!!Rs[0].isOpen},xe().createElement($.Text,{variant:"body",color:"secondary"},"Enter the server address of your Clickhouse instance. Then select your protocol, port and security options. If you need further guidance, visit the"," ",xe().createElement($.TextLink,{href:"https://grafana.com/grafana/plugins/grafana-clickhouse-datasource/",icon:"external-link-alt",external:!0},"Grafana docs")),xe().createElement($.Field,{required:!0,label:o.serverAddress.label,style:{marginTop:"30px"}},xe().createElement($.Input,{name:"host",value:n.host||"",onChange:t=>(0,a.onUpdateDatasourceJsonDataOption)(e,"host")(t),label:o.serverAddress.label,"aria-label":o.serverAddress.label,"data-testid":"clickhouse-v2-config-host-input",placeholder:o.serverAddress.placeholder,onBlur:qt})),xe().createElement("div",{className:E.protocolPortRow},xe().createElement("div",{className:E.protocolSection},xe().createElement("div",{className:E.protocolLabel},xe().createElement($.Text,{variant:"bodySmall",weight:"bold"},o.protocol.label),xe().createElement($.Toggletip,{theme:"info",placement:"top",content:xe().createElement("div",{className:E.toggleTipText},xe().createElement($.Text,null,"ClickHouse supports two server protocols: Native TCP and HTTP. Both protocols can be secured with TLS.",xe().createElement("br",null),xe().createElement("br",null),xe().createElement($.TextLink,{href:"https://clickhouse.com/docs/interfaces/tcp",variant:"bodySmall",external:!0},"Native TCP")," ","is the default and recommended option.",xe().createElement("br",null),xe().createElement($.TextLink,{href:"https://clickhouse.com/docs/interfaces/http",variant:"bodySmall",external:!0},"HTTP")," ","is for servers configured to accept HTTP connections."))},xe().createElement($.IconButton,{name:"question-circle","aria-label":"More info about Protocol",size:"xs",className:E.toggleTipIcon}))),xe().createElement($.Field,{label:"",description:xe().createElement("div",{className:E.toggleTipText},o.protocol.tooltip)},xe().createElement($.RadioButtonGroup,{options:ds,value:n.protocol||Et.Native,onChange:e=>{var a;(e=>{(0,r.reportInteraction)("clickhouse_config_v2_native_http_toggle_clicked",e)})({nativeHttpToggle:e}),a=e,s($s(fs({},t),{jsonData:$s(fs({},t.jsonData),{protocol:a})}))}}))),xe().createElement("div",{className:E.portSection},xe().createElement($.Field,{required:!0,label:o.serverPort.label,description:i},xe().createElement($.Input,{name:"port",type:"number",value:n.port||"",onChange:e=>{return a=e.currentTarget.value,void s($s(fs({},t),{jsonData:$s(fs({},t.jsonData),{port:+a})}));var a},label:o.serverPort.label,"aria-label":o.serverPort.label,"data-testid":"clickhouse-v2-config-port-input",placeholder:l,onBlur:e=>(e=>{(0,r.reportInteraction)("clickhouse_config_v2_port_input",e)})({port:e.currentTarget.value})})))),xe().createElement("div",{className:E.secureToggle},xe().createElement($.Checkbox,{label:o.secure.label,description:o.secure.tooltip,checked:n.secure||!1,onChange:e=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v2_secure_connection_checked",e)})({secureConnection:e.currentTarget.checked}),c("secure",e.currentTarget.checked)}})),xe().createElement(Ls,fs({onSwitchToggle:c},e))))},Ps=e=>({protocolPortRow:(0,je.css)({display:"flex",alignItems:"center"}),protocolLabel:(0,je.css)({display:"flex",height:15,width:"205px"}),protocolSection:(0,je.css)({display:"flex",flexDirection:"column",justifyContent:"center",gap:e.spacing(0),marginRight:e.spacing(5)}),toggleTipIcon:(0,je.css)({marginLeft:e.spacing(.5),padding:0}),portSection:(0,je.css)({width:"100%"}),toggleTipText:(0,je.css)({whiteSpace:"pre-line"}),secureToggle:(0,je.css)({display:"flex",alignItems:"center",marginTop:e.spacing(1)})}),gs=({pdcInjected:e})=>{const t=e?Ss:Rs,s=(0,$.useStyles2)(xs);return xe().createElement($.Stack,null,xe().createElement($.Box,{flex:1,marginY:10},xe().createElement($.Box,{height:"75px"}),xe().createElement($.Text,{element:"h4"},"Connect data source"),xe().createElement($.Box,{paddingTop:2},t.map((e,t)=>xe().createElement("div",{key:t,"data-testid":`${e.label}-sidebar`},xe().createElement($.InlineField,{label:`${t+1}`,className:s.inlineField,labelWidth:3,grow:!0},xe().createElement($.LinkButton,{variant:"secondary",fill:"text",onClick:t=>{t.preventDefault();const s=document.getElementById(e.id);if(s){const e=s.getBoundingClientRect().top+window.scrollY-60;window.scrollTo({top:e,behavior:"smooth"})}}},xe().createElement("div",{className:s.sidebarText},xe().createElement("div",{className:s.sidebarLabel},e.label),e.isOptional&&xe().createElement("div",{className:s.sidebarOptional},xe().createElement($.Text,{color:"secondary",variant:"bodySmall"},"optional"))))),xe().createElement($.Space,{v:1}))))))},xs=()=>({inlineField:(0,je.css)({display:"flex",alignItems:"center",justifyContent:"center"}),sidebarText:(0,je.css)({display:"flex",flexDirection:"column"}),sidebarLabel:(0,je.css)({display:"flex",alignItems:"center",justifyContent:"center",marginBottom:0,lineHeight:1}),sidebarOptional:(0,je.css)({marginTop:0,marginBottom:0,lineHeight:1})});function ws(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ms(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){ws(e,t,s[t])})}return e}function Us(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const vs=e=>{const{options:t,onOptionsChange:s}=e,{jsonData:n}=t,o=ls.Config.ConfigEditor,l=(0,$.useStyles2)(ks);Xt(t,s);const[i,E]=(0,ge.useState)(n.customSettings||[]),c=(e,a)=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v2_logs_config",e)})({[e]:a}),((e,a)=>{s(Us(Ms({},t),{jsonData:Us(Ms({},t.jsonData),{logs:Us(Ms({},t.jsonData.logs),{[e]:a})})}))})(e,a)},p=(e,a)=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v2_traces_config",e)})({[e]:a}),((e,a)=>{var r;s(Us(Ms({},t),{jsonData:Us(Ms({},t.jsonData),{traces:Us(Ms({},t.jsonData.traces),{durationUnit:(null===(r=t.jsonData.traces)||void 0===r?void 0:r.durationUnit)||T.Nanoseconds,[e]:a})})}))})(e,a)},u=e=>{s(Us(Ms({},t),{jsonData:Us(Ms({},t.jsonData),{customSettings:e.filter(e=>!!e.setting&&!!e.value)})}))};return xe().createElement($.Box,{borderStyle:"solid",borderColor:"weak",padding:2,marginBottom:4,id:`${Rs[3].id}`,minWidth:As},xe().createElement($.CollapsableSection,{label:xe().createElement(xe().Fragment,null,xe().createElement($.Text,{variant:"h3"},"4. ",Rs[3].label),xe().createElement($.Badge,{text:"optional",color:"blue",className:l.badge})),isOpen:!!Rs[3].isOpen},xe().createElement($t,{defaultDatabase:n.defaultDatabase,defaultTable:n.defaultTable,onDefaultDatabaseChange:t=>{(0,r.reportInteraction)("clickhouse_config_v2_default_db_input"),(0,a.onUpdateDatasourceJsonDataOption)(e,"defaultDatabase")(t)},onDefaultTableChange:t=>{(0,r.reportInteraction)("clickhouse_config_v2_default_table_input"),(0,a.onUpdateDatasourceJsonDataOption)(e,"defaultTable")(t)}}),xe().createElement($.Divider,null),xe().createElement(Dt,{connMaxLifetime:n.connMaxLifetime,dialTimeout:n.dialTimeout,maxIdleConns:n.maxIdleConns,maxOpenConns:n.maxOpenConns,queryTimeout:n.queryTimeout,validateSql:n.validateSql,onDialTimeoutChange:t=>{Qt({dialTimeout:Number(t.currentTarget.value)}),(0,a.onUpdateDatasourceJsonDataOption)(e,"dialTimeout")(t)},onQueryTimeoutChange:t=>{Qt({queryTimeout:Number(t.currentTarget.value)}),(0,a.onUpdateDatasourceJsonDataOption)(e,"queryTimeout")(t)},onConnMaxLifetimeChange:t=>{Qt({connMaxLifetime:Number(t.currentTarget.value)}),(0,a.onUpdateDatasourceJsonDataOption)(e,"connMaxLifetime")(t)},onConnMaxIdleConnsChange:t=>{Qt({maxIdleConns:Number(t.currentTarget.value)}),(0,a.onUpdateDatasourceJsonDataOption)(e,"maxIdleConns")(t)},onConnMaxOpenConnsChange:t=>{Qt({maxOpenConns:Number(t.currentTarget.value)}),(0,a.onUpdateDatasourceJsonDataOption)(e,"maxOpenConns")(t)},onValidateSqlChange:t=>{Qt({validateSql:t.currentTarget.checked}),(0,a.onUpdateDatasourceJsonDataOption)(e,"validateSql")(t)}}),xe().createElement($.Divider,null),xe().createElement(Mt,{logsConfig:n.logs,onDefaultDatabaseChange:e=>c("defaultDatabase",e),onDefaultTableChange:e=>c("defaultTable",e),onOtelEnabledChange:e=>c("otelEnabled",e),onOtelVersionChange:e=>c("otelVersion",e),onTimeColumnChange:e=>c("timeColumn",e),onLevelColumnChange:e=>c("levelColumn",e),onMessageColumnChange:e=>c("messageColumn",e),onSelectContextColumnsChange:e=>c("selectContextColumns",e),onContextColumnsChange:e=>c("contextColumns",e)}),xe().createElement($.Divider,null),xe().createElement(kt,{tracesConfig:n.traces,onDefaultDatabaseChange:e=>p("defaultDatabase",e),onDefaultTableChange:e=>p("defaultTable",e),onOtelEnabledChange:e=>p("otelEnabled",e),onOtelVersionChange:e=>p("otelVersion",e),onTraceIdColumnChange:e=>p("traceIdColumn",e),onSpanIdColumnChange:e=>p("spanIdColumn",e),onOperationNameColumnChange:e=>p("operationNameColumn",e),onParentSpanIdColumnChange:e=>p("parentSpanIdColumn",e),onServiceNameColumnChange:e=>p("serviceNameColumn",e),onDurationColumnChange:e=>p("durationColumn",e),onDurationUnitChange:e=>p("durationUnit",e),onStartTimeColumnChange:e=>p("startTimeColumn",e),onTagsColumnChange:e=>p("tagsColumn",e),onServiceTagsColumnChange:e=>p("serviceTagsColumn",e),onKindColumnChange:e=>p("kindColumn",e),onStatusCodeColumnChange:e=>p("statusCodeColumn",e),onStatusMessageColumnChange:e=>p("statusMessageColumn",e),onStateColumnChange:e=>p("stateColumn",e),onInstrumentationLibraryNameColumnChange:e=>p("instrumentationLibraryNameColumn",e),onInstrumentationLibraryVersionColumnChange:e=>p("instrumentationLibraryVersionColumn",e),onFlattenNestedChange:e=>p("flattenNested",e),onEventsColumnPrefixChange:e=>p("traceEventsColumnPrefix",e),onLinksColumnPrefixChange:e=>p("traceLinksColumnPrefix",e)}),xe().createElement($.Divider,null),xe().createElement(Zt,{aliasTables:n.aliasTables,onAliasTablesChange:e=>{s(Us(Ms({},t),{jsonData:Us(Ms({},t.jsonData),{aliasTables:e})}))}}),xe().createElement($.Divider,null),xe().createElement($.Field,{label:o.enableRowLimit.label,description:o.enableRowLimit.tooltip},xe().createElement($.Switch,{value:n.enableRowLimit||!1,"data-testid":o.enableRowLimit.testid,onChange:t=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v2_enable_row_limit_toggle",e)})({rowLimitEnabled:t.currentTarget.checked}),(0,a.onUpdateDatasourceJsonDataOption)(e,"enableRowLimit")(t)}})),r.config.secureSocksDSProxyEnabled&&(0,ct.gte)(r.config.buildInfo.version,"10.0.0")&&xe().createElement($.Field,{label:o.secureSocksProxy.label,description:o.secureSocksProxy.tooltip},xe().createElement($.Switch,{value:n.enableSecureSocksProxy||!1,onChange:t=>(0,a.onUpdateDatasourceJsonDataOption)(e,"enableSecureSocksProxy")(t)})),xe().createElement(Nt,{title:"Custom Settings"},i.map(({setting:e,value:t},s)=>xe().createElement($.Stack,{key:s,direction:"row"},xe().createElement($.Field,{label:"Setting","aria-label":"Setting"},xe().createElement($.Input,{value:e,placeholder:"Setting",onChange:e=>{let a=i.concat();a[s]={setting:e.target.value,value:t},E(a)},onBlur:()=>u(i)})),xe().createElement($.Field,{label:"Value","aria-label":"Value"},xe().createElement($.Input,{value:t,placeholder:"Value",onChange:t=>{let a=i.concat();a[s]={setting:e,value:t.target.value},E(a)},onBlur:()=>{u(i)}})))),xe().createElement($.Button,{variant:"secondary",icon:"plus",type:"button",onClick:()=>{(0,r.reportInteraction)("clickhouse_config_v2_custom_setting_clicked"),E([...i,{setting:"",value:""}])}},"Add custom setting"))))},ks=()=>({badge:(0,je.css)({marginLeft:"auto"})});function Gs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Bs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){Gs(e,t,s[t])})}return e}function Hs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Fs=e=>{const{options:t,onOptionsChange:s}=e,{jsonData:r,secureJsonFields:n}=t,o=t.secureJsonData||{},l=ls.Config.ConfigEditor,i=(0,$.useStyles2)(Ys);return xe().createElement($.Box,{borderStyle:"solid",borderColor:"weak",padding:2,marginBottom:4,id:`${Rs[1].id}`,minWidth:As},xe().createElement($.CollapsableSection,{label:xe().createElement($.Text,{variant:"h3"},"2. ",Rs[1].label),isOpen:!!Rs[1].isOpen},xe().createElement("div",{className:i.credentialsSection},xe().createElement($.Field,{label:l.username.label,description:xe().createElement(xe().Fragment,null,l.username.tooltip," ",xe().createElement($.TextLink,{variant:"bodySmall",href:"https://clickhouse.com/docs/en/operations/settings/permissions-for-queries#readonly",external:!0},"a read-only user")),required:!0},xe().createElement($.Input,{name:"user",value:r.username||"",onChange:(0,a.onUpdateDatasourceJsonDataOption)(e,"username"),label:l.username.label,"aria-label":l.username.label,placeholder:l.username.placeholder,onBlur:jt})),xe().createElement($.Field,{label:l.password.label,description:l.password.tooltip},xe().createElement($.SecretInput,{name:"pwd",label:l.password.label,"aria-label":l.password.label,placeholder:l.password.placeholder,value:o.password||"",isConfigured:n&&n.password,onReset:()=>{s(Hs(Bs({},t),{secureJsonFields:Hs(Bs({},t.secureJsonFields),{password:!1}),secureJsonData:Hs(Bs({},t.secureJsonData),{password:""})}))},onChange:(0,a.onUpdateDatasourceSecureJsonDataOption)(e,"password"),onBlur:Jt})))))},Ys=()=>({credentialsSection:(0,je.css)({display:"flex",flexWrap:"wrap",gap:"8px","& > div":{flex:"1 1 300px",minWidth:0}})});function Vs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ws(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){Vs(e,t,s[t])})}return e}function Xs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Ks=e=>{const{options:t,onOptionsChange:s}=e,{jsonData:n,secureJsonFields:o}=t,l=t.secureJsonData||{},i=ls.Config.ConfigEditor,E=o&&o.tlsCACert,c=o&&o.tlsClientCert,T=o&&o.tlsClientKey,p=(0,$.useStyles2)(qs),u=(e,a)=>{s(Xs(Ws({},t),{secureJsonData:Xs(Ws({},l),{[e]:a})}))},m=e=>{s(Xs(Ws({},t),{secureJsonFields:Xs(Ws({},o),{[e]:!1}),secureJsonData:Xs(Ws({},l),{[e]:""})}))};return xe().createElement($.Box,{borderStyle:"solid",borderColor:"weak",padding:2,marginBottom:4,id:`${Rs[2].id}`,minWidth:As},xe().createElement($.CollapsableSection,{label:xe().createElement(xe().Fragment,null,xe().createElement($.Text,{variant:"h3"},"3. ",Rs[2].label),xe().createElement($.Badge,{text:"optional",color:"blue",className:p.badge})),isOpen:!!(n.tlsSkipVerify||n.tlsAuth||n.tlsAuthWithCACert)},xe().createElement($.Text,{variant:"body",color:"secondary"},"TLS/SSL certificates are used to prove identity and encrypt traffic between Grafana and ClickHouse."),xe().createElement("div",{className:p.contentSection},xe().createElement($.Stack,{direction:n.tlsAuth||n.tlsAuthWithCACert?"column":"row",gap:3,alignItems:"flex-start"},xe().createElement($.Checkbox,{className:(0,je.css)({margin:0}),label:i.tlsSkipVerify.label,value:n.tlsSkipVerify||!1,onChange:t=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v2_skip_tls_verify_toggle_clicked",e)})({skipTlsVerifyToggle:t.currentTarget.checked}),(0,a.onUpdateDatasourceJsonDataOption)(e,"tlsSkipVerify")(t)}}),xe().createElement($.Checkbox,{className:(0,je.css)({margin:0}),label:i.tlsClientAuth.label,value:n.tlsAuth||!1,onChange:t=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v2_tls_client_auth_toggle_clicked",e)})({clientAuthToggle:t.currentTarget.checked}),(0,a.onUpdateDatasourceJsonDataOption)(e,"tlsAuth")(t)}}),n.tlsAuth&&xe().createElement("div",{className:p.certsSection},xe().createElement($.CertificationKey,{hasCert:!!c,onChange:e=>u("tlsClientCert",e.currentTarget.value),placeholder:i.tlsClientCert.placeholder,label:i.tlsClientCert.label,onClick:()=>m("tlsClientCert"),"data-testid":"tls-client-cert"}),xe().createElement($.CertificationKey,{hasCert:!!T,placeholder:i.tlsClientKey.placeholder,label:i.tlsClientKey.label,onChange:e=>u("tlsClientKey",e.currentTarget.value),onClick:()=>m("tlsClientKey"),"data-testid":"tls-client-key"})),xe().createElement($.Checkbox,{label:i.tlsAuthWithCACert.label,value:n.tlsAuthWithCACert||!1,onChange:t=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v2_with_ca_cert_toggle_clicked",e)})({caCertToggle:t.currentTarget.checked}),(0,a.onUpdateDatasourceJsonDataOption)(e,"tlsAuthWithCACert")(t)}}),xe().createElement("div",{className:p.certsSection},n.tlsAuthWithCACert&&xe().createElement($.CertificationKey,{hasCert:!!E,onChange:e=>u("tlsCACert",e.currentTarget.value),placeholder:i.tlsCACert.placeholder,label:i.tlsCACert.label,onClick:()=>m("tlsCACert"),"data-testid":"tls-ca-cert"}))))))},qs=()=>({contentSection:(0,je.css)({marginTop:"30px"}),optionsRow:(0,je.css)({display:"flex",gap:"50px"}),certsSection:(0,je.css)({marginTop:"10px"}),badge:(0,je.css)({marginLeft:"auto"})}),js=e=>({hideOnSmallScreen:(0,je.css)({width:"250px",flex:"0 0 250px",[e.breakpoints.down("sm")]:{display:"none"}}),leftSticky:(0,je.css)({position:"sticky",top:"100px",alignSelf:"flex-start",maxHeight:"calc(100vh - 100px)",overflowY:"auto"}),requiredFields:(0,je.css)({marginBottom:e.spacing(2)}),alertHeight:(0,je.css)({height:"100px"})});function Js(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Qs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){Js(e,t,s[t])})}return e}function Zs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const zs=e=>["boolean"].includes(null==e?void 0:e.toLowerCase()),ea=e=>["int","float","decimal"].some(t=>null==e?void 0:e.toLowerCase().includes(t)),ta=e=>{const t=null==e?void 0:e.toLowerCase();return(null==t?void 0:t.startsWith("date"))||(null==t?void 0:t.startsWith("nullable(date"))},sa=e=>!(zs(e)||ea(e)||ta(e)),aa=e=>sa(e.type)&&[m.In,m.NotIn].includes(e.operator);function ra(e,t,s){var a,r,n,i,c;const T=N(e);if(!T)throw new Error("The query is not valid SQL.");if("select"!==T.type)throw new Error("The query is not a select statement.");if(!T.from||1!==T.from.length)throw new Error("The query has too many 'FROM' clauses.");if("table"!==T.from[0].type)throw new Error("The 'FROM' clause is not a table.");const p=T.from[0],u=function(e){if(!e)return{columns:[],aggregates:[]};const t=[],s=[];for(let r of e)switch(r.expr.type){case"ref":var a;t.push({name:r.expr.name,alias:null===(a=r.alias)||void 0===a?void 0:a.name});break;case"call":const[e,n]=pa(r);if(!e)break;(0,y.isString)(e)?t.push({name:e,type:"datetime",alias:n,hint:E.Time}):s.push(e)}return{columns:t,aggregates:s}}(T.columns||null),m={database:p.name.schema||"",table:p.name.name||"",queryType:t||l.Table,mode:o.List,columns:[],aggregates:[]};u.columns.length>0&&(m.columns=u.columns||[]),t===l.Logs?(Ke(m.columns,null==s?void 0:s.getDefaultLogsColumns()),Ke(m.columns,Pe)):t===l.Traces&&Ke(m.columns,null==s?void 0:s.getDefaultTraceColumns()),u.aggregates.length>0&&(m.mode=o.Aggregate,m.aggregates=u.aggregates);const _=oe(m,E.Time);var A;!t&&_&&(m.queryType=l.TimeSeries,(null===(A=m.aggregates)||void 0===A?void 0:A.length)&&(m.mode=o.Trend));T.where&&(m.filters=function(e,t){const s=[];let a=0,r=!1;return(0,R.astVisitor)(e=>({expr:n=>{switch(n===null||n===void 0?void 0:n.type){case"binary":r=Ta(n,s,a,r);e.super().expr(n);break;case"ref":({i:a,notFlag:r}=na(n,s,a,r));break;case"string":a=Ea(s,a,n);break;case"integer":a=ca(s,a,n);break;case"unary":r=ia(n,r,a,s);e.super().expr(n);break;case"call":a=la(n,t,s,a);break;case"list":a=oa(s,a,n);break;default:console.error(`${n===null||n===void 0?void 0:n.type} is not supported. This is likely a bug.`);break}}})).expr(e),s}(T.where,(null==_?void 0:_.name)||""));const S=null===(a=T.orderBy)||void 0===a?void 0:a.map(e=>"ref"!==e.by.type?{}:{name:e.by.name,dir:e.order}).filter(e=>e.name);S&&S.length>0&&(m.orderBy=S),m.limit="integer"===(null===(n=T.limit)||void 0===n||null===(r=n.limit)||void 0===r?void 0:r.type)?null===(i=T.limit)||void 0===i?void 0:i.limit.value:void 0;const d=null===(c=T.groupBy)||void 0===c?void 0:c.map(e=>"ref"!==e.type?"":e.name).filter(e=>""!==e);return d&&d.length>0&&(m.groupBy=d),m}function na(e,t,s,a){var r,n;return"$__fromtime"===(null===(r=e.name)||void 0===r?void 0:r.toLowerCase())&&t[s].operator===m.GreaterThanOrEqual?(a?(t[s].operator=m.OutsideGrafanaTimeRange,a=!1):t[s].operator=m.WithInGrafanaTimeRange,t[s].type="datetime",{i:++s,notFlag:a}):"$__totime"===(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())?(t.splice(s,1),{i:s,notFlag:a}):t[s].key?(t[s]=Zs(Qs({},t[s]),{value:[e.name],type:"string"}),{i:++s,notFlag:a}):(t[s].key=e.name,t[s].operator===m.IsNotNull&&s++,{i:s,notFlag:a})}function oa(e,t,s){return e[t]=Zs(Qs({},e[t]),{value:s.expressions.map(e=>e.value),type:"string"}),++t}function la(e,t,s,a){const r=`${e.function.name}(${e.args.map(e=>e.name).join(",")})`;return r===`$__timefilter(${t})`?(s.splice(a,1),a):r.startsWith("$__timefilter(")?(s[a]=Zs(Qs({},s[a]),{key:e.args[0].name,operator:m.WithInGrafanaTimeRange,type:"datetime"}),++a):(s[a]=Zs(Qs({},s[a]),{value:r,type:"datetime"}),r||a++,a)}function ia(e,t,s,a){return"NOT"===e.op||(0===s&&a.unshift({}),a[s].operator=e.op,t)}function Ea(e,t,s){return e[t].key?(e[t]=Zs(Qs({},e[t]),{value:s.value,type:"string"}),++t):(e[t]=Zs(Qs({},e[t]),{key:s.value}),t)}function ca(e,t,s){return e[t].key?(e[t]=Zs(Qs({},e[t]),{value:s.value,type:"int"}),++t):(e[t]=Zs(Qs({},e[t]),{key:s.value.toString()}),t)}function Ta(e,t,s,a){return"AND"===e.op||"OR"===e.op?t.unshift({condition:e.op}):Object.values(m).find(t=>e.op===t)&&(0===s?t.unshift({}):t[s]||t.push({condition:"AND"}),t[s].operator=e.op,a&&t[s].operator===m.Like&&(t[s].operator=m.NotLike,a=!1)),a}function pa(e){var t;if("call"!==e.expr.type)return[{},void 0];let s=e.expr.args.map(e=>"ref"!==e.type?"":e.name);return s.length>1?["",void 0]:Object.values(i).includes(e.expr.function.name.toLowerCase())?[{aggregateType:e.expr.function.name,column:s[0],alias:null===(a=e.alias)||void 0===a?void 0:a.name},null===(r=e.alias)||void 0===r?void 0:r.name]:[s[0],null===(t=e.alias)||void 0===t?void 0:t.name];var a,r}new Map([["equals",m.Equals],["contains",m.Like]]);function ua(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ma(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){ua(e,t,s[t])})}return e}function _a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Aa=[{label:ft.types.EditorType.sql,value:_.SQL},{label:ft.types.EditorType.builder,value:_.Builder}],Ra=e=>{const{datasource:t,query:s,onChange:a}=e,{label:r,tooltip:n,switcher:o,cannotConvert:l}=ft.components.EditorTypeSwitcher,i=s.editorType||_.Builder,[E,c]=(0,ge.useState)(!1),[T,p]=(0,ge.useState)(!1),[u,m]=(0,ge.useState)(""),R=(e,r=!1)=>{if(s.editorType!==_.SQL||e!==_.Builder||r){let r;switch(s.editorType){case _.Builder:r=s.builderOptions;break;case _.SQL:try{r=ra(s.rawSql,s.queryType,t)}catch(e){r=A.builderOptions}break;default:r=A.builderOptions}e===_.SQL?a(_a(ma({},s),{editorType:_.SQL,queryType:r.queryType,rawSql:z(r),format:We(r.queryType),meta:{builderOptions:r}})):e===_.Builder&&a(_a(ma({},s),{editorType:_.Builder,queryType:r.queryType,rawSql:z(r),builderOptions:r}))}else try{ra(s.rawSql,s.queryType,t),c(!0)}catch(e){p(!0),m(e.message)}},S=()=>{R(_.Builder,!0),c(!1),p(!1)};return xe().createElement("span",null,xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:n},r),xe().createElement($.RadioButtonGroup,{options:Aa,value:i,onChange:e=>R(e)}),xe().createElement($.ConfirmModal,{isOpen:E,title:o.title,body:o.body,confirmText:o.confirmText,dismissText:o.dismissText,icon:"exclamation-triangle",onConfirm:S,onDismiss:()=>c(!1)}),xe().createElement($.ConfirmModal,{title:l.title,body:`${u}\n${l.message}`,isOpen:T,icon:"exclamation-triangle",onConfirm:S,confirmText:o.confirmText,onDismiss:()=>p(!1)}))};const Sa=e=>{const{allColumns:t,selectedColumns:s,onSelectedColumnsChange:a,disabled:r,showAllOption:n}=e,[o,l]=(0,ge.useState)([]),[i,E]=(0,ge.useState)(!1),c=t.map(e=>({label:e.label||e.name,value:e.name}));n&&c.push({label:"*",value:"*"});const T=(s||[]).map(e=>({label:e.alias||e.name,value:e.name})),{label:p,tooltip:u}=ft.components.ColumnsEditor,m=[...c,...o];(0,ge.useEffect)(()=>{if(0===t.length)return;const e=function(e,t){const s=new Set(e);return t.filter(e=>s.has(e.name)).map(e=>({label:e.label||e.name,value:e.name}))}(s.map(e=>e.name),t);l(e)},[t,s]);return xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:u},p),xe().createElement("div",{"data-testid":Qe.QueryBuilder.ColumnsEditor.multiSelectWrapper,className:xt.Common.selectWrapper},xe().createElement($.MultiSelect,{disabled:r,options:m,value:T,isOpen:i,onOpenMenu:()=>E(!0),onCloseMenu:()=>E(!1),onChange:e=>{E(!1);const r=new Set(e.map(e=>e.value)),n=new Set(o.map(e=>e.value)),l=new Map,i=new Map;t.forEach(e=>l.set(e.name,e)),s.forEach(e=>i.set(e.name,e));const c=r.size>1,T=[];for(let e of r){if(c&&"*"===e)continue;const t=l.get(e),s=i.get(e);s?T.push(s):T.push({name:e,type:(null==t?void 0:t.type)||"String",custom:n.has(e),alias:(null==t?void 0:t.label)||e})}a(T)},allowCustomValue:!0,menuPlacement:"bottom"})))},da=()=>!0,Oa=e=>{const{allColumns:t,selectedColumn:s,onColumnChange:a,columnFilterFn:r,columnHint:n,label:o,tooltip:l,disabled:i,invalid:E,wide:c,inline:T,clearable:p}=e,u=null==s?void 0:s.name,m=t.filter(r||da).map(e=>({label:e.label||e.name,value:e.name}));let _=!1;s&&!m.find(e=>e.value===s.name)&&(m.push({label:s.alias||s.name,value:s.name}),_=!0);const A="query-keyword "+(T?xt.QueryEditor.inlineField:"");return xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:c?12:8,className:A,tooltip:l},o),xe().createElement($.Select,{disabled:i,invalid:E||_,options:m,value:u,placeholder:u||void 0,onChange:e=>{if(!e||!e.value)return void a(void 0);const s=t.find(t=>t.name===e.value),r={name:(null==s?void 0:s.name)||e.value,type:null==s?void 0:s.type,hint:n};s&&void 0!==s.label&&(r.alias=s.label),a(r)},width:c?25:20,menuPlacement:"bottom",isClearable:void 0===p||p,allowCustomValue:!0}))};function Ia(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Na(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){Ia(e,t,s[t])})}return e}function ba(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Ca=[{label:"ASC",value:u.ASC},{label:"DESC",value:u.DESC}],ya=e=>{const{columnOptions:t,index:s,orderByItem:a,updateOrderByItem:r,removeOrderByItem:n}=e;return xe().createElement(xe().Fragment,null,xe().createElement($.Select,{disabled:Boolean(a.hint),placeholder:a.hint?ft.types.ColumnHint[a.hint]:void 0,value:a.hint?void 0:a.name,className:xt.Common.inlineSelect,width:36,options:t,onChange:e=>r(s,ba(Na({},a),{name:e.value})),allowCustomValue:!0,menuPlacement:"bottom"}),xe().createElement($.Select,{value:a.dir,className:xt.Common.inlineSelect,width:12,options:Ca,onChange:e=>r(s,ba(Na({},a),{dir:e.value})),menuPlacement:"bottom"}),xe().createElement($.Button,{"data-testid":"query-builder-orderby-remove-button",className:xt.Common.smallBtn,variant:"destructive",size:"sm",icon:"trash-alt",onClick:()=>n(s)}))},La=e=>{const{orderByOptions:t,orderBy:s,onOrderByChange:a}=e,{label:r,tooltip:n,addLabel:o}=ft.components.OrderByEditor,l=e=>{const t=s.slice();t.splice(e,1),a(t)},i=(e,t)=>{const r=s.slice();r[e]=t,a(r)};if(0===t.length)return null;const E=xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword","data-testid":"query-builder-orderby-item-label",tooltip:n},r),c=xe().createElement("div",{className:`width-8 ${xt.Common.firstLabel}`});return xe().createElement(xe().Fragment,null,s.map((e,s)=>{const a=`${s}-${e.name}-${e.hint||""}-${e.dir}`;return xe().createElement("div",{className:"gf-form",key:a,"data-testid":"query-builder-orderby-item-wrapper"},0===s?E:c,xe().createElement(ya,{columnOptions:t,index:s,orderByItem:e,updateOrderByItem:i,removeOrderByItem:l}))}),xe().createElement("div",{className:"gf-form"},0===s.length?E:c,xe().createElement($.Button,{"data-testid":"query-builder-orderby-add-button",icon:"plus-circle",variant:"secondary",size:"sm",onClick:()=>{var e;const r=s.slice();r.push({name:null===(e=t[0])||void 0===e?void 0:e.value,dir:u.ASC}),a(r)},className:xt.Common.smallBtn},o)))},ha=(e,t)=>{var s;let a=[];var r;(e=>{var t;return((null===(t=e.aggregates)||void 0===t?void 0:t.length)||0)>0})(e)?(null===(r=e.columns)||void 0===r||r.forEach(e=>{a.push({label:e.alias||e.name,value:e.name})}),e.aggregates.forEach(e=>{let t=`${e.aggregateType}(${e.column})`,s=t;e.alias&&(t+=` as ${e.alias}`,s=e.alias),a.push({label:t,value:s})}),e.groupBy&&e.groupBy.length>0&&e.groupBy.forEach(e=>a.push({label:e,value:e}))):t.forEach(e=>a.push({label:e.label||e.name,value:e.name}));const n=new Set(a.map(e=>e.value)),o=null===(s=e.orderBy)||void 0===s?void 0:s.filter(e=>!n.has(e.name));return null==o||o.forEach(e=>a.push({label:e.name,value:e.name})),a},fa=e=>{const[t,s]=(0,ge.useState)(e.limit||0),{label:a,tooltip:r}=ft.components.LimitEditor;return xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:r},a),xe().createElement($.Input,{"data-testid":Qe.QueryBuilder.LimitEditor.input,width:10,value:t,type:"number",min:0,onChange:e=>s(e.currentTarget.valueAsNumber),onBlur:()=>e.onLimitChange(t)}))};function $a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Da(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){$a(e,t,s[t])})}return e}function Pa(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const ga=[{value:!0,label:"True"},{value:!1,label:"False"}],xa=[{value:"AND",label:"AND"},{value:"OR",label:"OR"}],wa=[{value:m.WithInGrafanaTimeRange,label:"Within dashboard time range"},{value:m.OutsideGrafanaTimeRange,label:"Outside dashboard time range"},{value:m.IsAnything,label:"IS ANYTHING"},{value:m.Equals,label:"="},{value:m.NotEquals,label:"!="},{value:m.LessThan,label:"<"},{value:m.LessThanOrEqual,label:"<="},{value:m.GreaterThan,label:">"},{value:m.GreaterThanOrEqual,label:">="},{value:m.Like,label:"LIKE"},{value:m.NotLike,label:"NOT LIKE"},{value:m.IsEmpty,label:"IS EMPTY"},{value:m.IsNotEmpty,label:"IS NOT EMPTY"},{value:m.In,label:"IN"},{value:m.NotIn,label:"NOT IN"},{value:m.IsNull,label:"IS NULL"},{value:m.IsNotNull,label:"IS NOT NULL"}],Ma=[{value:"today()",label:"TODAY"},{value:"yesterday()",label:"YESTERDAY"},{value:"now()",label:"NOW"},{value:"GRAFANA_START_TIME",label:"DASHBOARD START TIME"},{value:"GRAFANA_END_TIME",label:"DASHBOARD END TIME"}],Ua={filterType:"custom",condition:"AND",key:"",type:"",operator:m.IsAnything},va=e=>{const[t,s]=(0,ge.useState)(e.value||0);return xe().createElement("div",{"data-testid":"query-builder-filters-number-value-container"},xe().createElement($.Input,{"data-testid":"query-builder-filters-number-value-input",type:"number",value:t,onChange:e=>s(e.currentTarget.valueAsNumber||0),onBlur:()=>e.onChange(t)}))},ka=e=>xe().createElement("div",{"data-testid":"query-builder-filters-single-string-value-container"},xe().createElement($.Input,{"data-testid":"query-builder-filters-single-string-value-input",type:"text",defaultValue:e.value,width:70,onBlur:t=>e.onChange(t.currentTarget.value)})),Ga=e=>{const[t,s]=(0,ge.useState)(e.value||[]);return xe().createElement("div",{"data-testid":"query-builder-filters-multi-string-value-container"},xe().createElement($.Input,{type:"text",value:t.join(","),placeholder:"comma separated values",onChange:e=>s((e.currentTarget.value||"").split(",")),onBlur:()=>e.onChange(t)}))},Ba=e=>{const{filter:t,onFilterChange:s,allColumns:a}=e,r=()=>{const e=a.find(e=>e.name===t.key);return(null==e?void 0:e.picklistValues)||[]};if((e=>[m.IsNull,m.IsNotNull].includes(e.operator))(t))return xe().createElement(xe().Fragment,null);if([m.IsAnything,m.IsEmpty,m.IsNotEmpty].includes(t.operator))return xe().createElement(xe().Fragment,null);if((e=>zs(e.type))(t)){const e=e=>{s(Pa(Da({},t),{value:e}))};return xe().createElement("div",{"data-testid":"query-builder-filters-boolean-value-container"},xe().createElement($.RadioButtonGroup,{options:ga,value:t.value,onChange:t=>e(t)}))}if((e=>ea(e.type))(t))return xe().createElement(va,{value:t.value,onChange:e=>s(Pa(Da({},t),{value:e}))});if((e=>ta(e.type))(t)){if((e=>ta(e.type)&&[m.WithInGrafanaTimeRange,m.OutsideGrafanaTimeRange].includes(e.operator))(t))return null;const e=e=>{s(Pa(Da({},t),{value:e}))},a=[...Ma];return t.value&&!Ma.find(e=>e.value===t.value)&&a.push({label:t.value,value:t.value}),xe().createElement("div",{"data-testid":"query-builder-filters-date-value-container"},xe().createElement($.Select,{value:t.value||"TODAY",onChange:t=>e(t.value),options:a,width:40,allowCustomValue:!0}))}if((e=>sa(e.type)&&![m.In,m.NotIn].includes(e.operator))(t)){const e=e=>{s(Pa(Da({},t),{value:e}))};return"picklist"!==t.type||t.operator!==m.Equals&&t.operator!==m.NotEquals?xe().createElement(ka,{value:t.value,onChange:e,key:t.value}):xe().createElement("div",{"data-testid":"query-builder-filters-single-picklist-value-container"},xe().createElement($.Select,{value:t.value,onChange:t=>e(t.value),options:r()}))}if(aa(t)){const e=e=>{s(Pa(Da({},t),{value:e}))};return"picklist"===t.type?xe().createElement("div",{"data-testid":"query-builder-filters-multi-picklist-value-container"},xe().createElement($.MultiSelect,{value:t.value,options:r(),onChange:t=>e(t.map(e=>e.value))})):xe().createElement(Ga,{value:t.value,onChange:e})}return xe().createElement(xe().Fragment,null)},Ha=e=>{const{index:t,filter:s,allColumns:a,onFilterChange:r,removeFilter:n}=e,[o,l]=(0,ge.useState)(!1),i=s.type.startsWith("Map"),E=s.type.startsWith("JSON"),c=((e,t,s,a)=>{const[r,n]=(0,ge.useState)([]);(0,ge.useEffect)(()=>{if(!(e&&t&&s&&a))return;let r=!1;return e.fetchUniqueMapKeys(t,s,a).then(e=>{r||n(e)}).catch(e=>{console.error("Failed to fetch map keys for column:",t,s,a,e)}),()=>{r=!0}},[e,t,s,a]);const o=(0,ge.useRef)(""),l=(0,ge.useRef)("");return s!==o.current||a!==l.current?(o.current=s,l.current=a,n([]),[]):r})(e.datasource,i?s.key:"",e.database,e.table),T=c.map(e=>({label:e,value:e}));s.mapKey&&!c.includes(s.mapKey)&&T.push({label:s.mapKey,value:s.mapKey});return xe().createElement($.HorizontalGroup,{wrap:!0,align:"flex-start",justify:"flex-start"},0!==t&&xe().createElement($.RadioButtonGroup,{options:xa,value:s.condition,onChange:e=>(e=>{const a=Da({},s);a.condition=e,r(t,a)})(e)}),xe().createElement($.Select,{disabled:Boolean(s.hint),placeholder:s.hint?ft.types.ColumnHint[s.hint]:void 0,value:s.key,width:40,className:xt.Common.inlineSelect,options:(()=>{const e=(s.restrictToFields||a).map(e=>{let t=e.label||e.name;return e.type.startsWith("Map")?t+="[]":e.type.startsWith("JSON")&&(t+="{}"),{label:t,value:e.name}});return(null==s?void 0:s.key)&&!e.find(e=>e.value===s.key)&&e.push({label:s.label||s.key,value:s.key}),e})(),isOpen:o,onOpenMenu:()=>l(!0),onCloseMenu:()=>l(!1),onChange:e=>(e=>{l(!1);const n=a.find(t=>t.name===e),o={key:(null==n?void 0:n.name)||e,type:(null==n?void 0:n.type)||"String",label:null==n?void 0:n.label};let i;i=s.restrictToFields?{filterType:"custom",key:o.key||s.key,type:"datetime",condition:s.condition||"AND",operator:m.WithInGrafanaTimeRange,restrictToFields:s.restrictToFields,label:o.label}:zs(o.type)?{filterType:"custom",key:o.key,type:"boolean",condition:s.condition||"AND",operator:m.Equals,value:!1,label:o.label}:ta(o.type)?{filterType:"custom",key:o.key,type:o.type,condition:s.condition||"AND",operator:m.Equals,value:"TODAY",label:o.label}:{filterType:"custom",key:o.key,type:o.type,condition:s.condition||"AND",operator:m.IsNotNull,label:o.label},r(t,i)})(e.value),allowCustomValue:!0,menuPlacement:"bottom"}),(i||E)&&xe().createElement($.Select,{value:s.mapKey,placeholder:ft.components.FilterEditor.mapKeyPlaceholder,width:40,className:xt.Common.inlineSelect,options:T,onChange:e=>(e=>{const a=Da({},s);a.mapKey=e,r(t,a)})(e.value),allowCustomValue:!0,menuPlacement:"bottom"}),xe().createElement($.Select,{value:s.operator,width:40,className:xt.Common.inlineSelect,options:((e="string")=>zs(e)?wa.filter(e=>[m.Equals,m.NotEquals].includes(e.value)):ea(e)?wa.filter(e=>[m.IsAnything,m.IsNull,m.IsNotNull,m.Equals,m.NotEquals,m.LessThan,m.LessThanOrEqual,m.GreaterThan,m.GreaterThanOrEqual].includes(e.value)):ta(e)?wa.filter(e=>[m.IsAnything,m.IsNull,m.IsNotNull,m.Equals,m.NotEquals,m.LessThan,m.LessThanOrEqual,m.GreaterThan,m.GreaterThanOrEqual,m.WithInGrafanaTimeRange,m.OutsideGrafanaTimeRange].includes(e.value)):wa.filter(e=>[m.IsAnything,m.Like,m.NotLike,m.In,m.NotIn,m.IsNull,m.IsNotNull,m.Equals,m.NotEquals,m.IsEmpty,m.IsNotEmpty,m.LessThan,m.LessThanOrEqual,m.GreaterThan,m.GreaterThanOrEqual].includes(e.value)))(s.type),onChange:e=>(e=>{const a=Da({},s);a.operator=e,aa(a)&&(Array.isArray(a.value)||(a.value=[a.value||""])),r(t,a)})(e.value),menuPlacement:"bottom"}),xe().createElement(Ba,{filter:s,onFilterChange:e=>{r(t,e)},allColumns:a}),xe().createElement($.Button,{"data-testid":"query-builder-filters-remove-button",icon:"trash-alt",variant:"destructive",size:"sm",className:xt.Common.smallBtn,onClick:()=>n(t)}))},Fa=e=>{const{filters:t=[],onFiltersChange:s,allColumns:a=[],datasource:r,database:n,table:o}=e,{label:l,tooltip:i,addLabel:E}=ft.components.FilterEditor,c=()=>{s([...t,Da({},Ua)])},T=e=>{const a=[...t];a.splice(e,1),s(a)},p=(e,a)=>{const r=[...t];r[e]=a,s(r)};return xe().createElement(xe().Fragment,null,0===t.length&&xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:i},l),xe().createElement($.Button,{"data-testid":"query-builder-filters-add-button",icon:"plus-circle",variant:"secondary",size:"sm",className:xt.Common.smallBtn,onClick:c},E)),t.map((e,t)=>xe().createElement("div",{className:"gf-form",key:t},0===t?xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:i},l):xe().createElement("div",{className:`width-8 ${xt.Common.firstLabel}`}),xe().createElement(Ha,{allColumns:a,filter:e,onFilterChange:p,removeFilter:T,index:t,datasource:r,database:n,table:o}))),0!==t.length&&xe().createElement("div",{className:"gf-form"},xe().createElement("div",{className:`width-8 ${xt.Common.firstLabel}`}),xe().createElement($.Button,{"data-testid":"query-builder-filters-inline-add-button",icon:"plus-circle",variant:"secondary",size:"sm",className:xt.Common.smallBtn,onClick:c},E)))},Ya=e=>(e.type||"").toLowerCase().includes("date"),Va=e=>(e.type||"").toLowerCase().includes("string")||(e.type||"").toLowerCase().includes("enum");function Wa(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Xa(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}function Ka(e,t){return s=>a=>{const r=Xa(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){Wa(e,t,s[t])})}return e}({},t),{[s]:a});e(r)}}const qa=(e,t,s)=>{const[a,r]=(0,ge.useState)([]);(0,ge.useEffect)(()=>{if(!e||!t||!s)return;let a=!1;return e.fetchColumns(t,s).then(e=>{a||r(e)}).catch(e=>{console.error(e)}),()=>{a=!0}},[e,t,s]);const n=(0,ge.useRef)(""),o=t+s;return o!==n.current?(n.current=o,r([]),[]):a};function ja(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ja(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){ja(e,t,s[t])})}return e}function Qa(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Za=(e,t)=>({type:e,payload:t}),za=(e,t)=>({type:e,payload:t}),er=e=>Za("set_options",e),tr=e=>Za("set_all_options",e),sr=e=>Za("set_otel_enabled",{meta:{otelEnabled:e}}),ar=e=>Za("set_otel_version",{meta:{otelVersion:e}}),rr=e=>za("set_column_by_hint",{column:e}),nr=(e,t)=>{const s=or.get(t.type);if(!s)throw Error("missing function for BuilderOptionsActionType: "+t.type);return s(e,t)},or=new Map([["set_options",(e,t)=>{const s=t.payload;return ir(e,s)}],["set_all_options",(e,t)=>{const s=t.payload;return lr(s)}],["set_query_type",(e,t)=>{const s=t.payload.queryType;return e.queryType!==s?lr({database:e.database,table:e.table,queryType:s}):e}],["set_database",(e,t)=>lr({database:t.payload.database,table:"",queryType:e.queryType})],["set_table",(e,t)=>lr({database:e.database,table:t.payload.table,queryType:e.queryType})],["set_otel_enabled",(e,t)=>{var s;return ir(e,{meta:{otelEnabled:Boolean(null===(s=t.payload.meta)||void 0===s?void 0:s.otelEnabled)}})}],["set_otel_version",(e,t)=>{var s;return ir(e,{meta:{otelVersion:null===(s=t.payload.meta)||void 0===s?void 0:s.otelVersion}})}],["set_column_by_hint",(e,t)=>{const s=t.payload.column,a=(e.columns||[]).filter(e=>e.hint!==s.hint);return a.push(s),ir(e,{columns:a})}],["set_builder_minimized",(e,t)=>{const s=t.payload.minimized;return ir(e,{meta:{minimized:s}})}]]),lr=e=>{const t=A.builderOptions;return Qa(Ja({},t,e),{meta:Ja({},t.meta,null==e?void 0:e.meta)})},ir=(e,t)=>Qa(Ja({},e,t),{meta:Ja({},e.meta,t.meta)}),Er=e=>(0,ge.useRef)(!Ye(e)).current,cr=e=>{var t;const{datasource:s,builderOptions:a,builderOptionsDispatch:r}=e,n=ft.components.LogsQueryBuilder,o=qa(s,a.database,a.table),l=Er(a),i=(0,ge.useMemo)(()=>{var e,t,s,r;return{otelEnabled:(null===(e=a.meta)||void 0===e?void 0:e.otelEnabled)||!1,otelVersion:(null===(t=a.meta)||void 0===t?void 0:t.otelVersion)||"",timeColumn:oe(a,E.Time),logLevelColumn:oe(a,E.LogLevel),messageColumn:oe(a,E.LogMessage),labelsColumn:oe(a,E.LogLabels),selectedColumns:(null===(s=a.columns)||void 0===s?void 0:s.filter(e=>e.hint!==E.Time&&e.hint!==E.LogLevel&&e.hint!==E.LogMessage&&e.hint!==E.LogLabels))||[],filters:a.filters||[],orderBy:a.orderBy||[],limit:a.limit||0,logMessageLike:(null===(r=a.meta)||void 0===r?void 0:r.logMessageLike)||""}},[a]),[c,T]=(0,ge.useState)(0===s.getDefaultLogsColumns().size&&0===(null===(t=a.columns)||void 0===t?void 0:t.length)),p=Ka(e=>{const t=e.selectedColumns.slice();e.timeColumn&&t.push(e.timeColumn),e.logLevelColumn&&t.push(e.logLevelColumn),e.messageColumn&&t.push(e.messageColumn),e.labelsColumn&&t.push(e.labelsColumn),r(er({columns:t,filters:e.filters,orderBy:e.orderBy,limit:e.limit,meta:{logMessageLike:e.logMessageLike}}))},i);((e,t,s,a)=>{const r=(0,ge.useRef)(!1);(0,ge.useEffect)(()=>{if(!t||r.current)return;const n=e.getDefaultLogsDatabase()||e.getDefaultDatabase(),o=e.getDefaultLogsTable()||e.getDefaultTable(),l=e.getLogsOtelVersion(),i=e.getDefaultLogsColumns(),E=[],c=new Set;for(let[e,t]of i)E.push({name:t,hint:e}),c.add(t);if(e.shouldSelectLogContextColumns()){const t=e.getLogContextColumnNames();for(let e of t)c.has(e)||(E.push({name:e}),c.add(e))}a(er({database:n,table:o||s.table,columns:E,meta:{otelEnabled:Boolean(l),otelVersion:l}})),r.current=!0},[s.columns,s.orderBy,s.table,a,e,t])})(s,l,a,r),((e,t,s,a)=>{const r=(0,ge.useRef)(t);t||(r.current=!1),(0,ge.useEffect)(()=>{if(!t||r.current)return;const n=j.getVersion(s),o=null==n?void 0:n.logColumnMap;if(!o)return;const l=[],i=new Set;if(o.forEach((e,t)=>{l.push({name:e,hint:t}),i.add(e)}),e.shouldSelectLogContextColumns()){const t=e.getLogContextColumnNames();for(let e of t)i.has(e)||(l.push({name:e}),i.add(e))}a(er({columns:l})),r.current=!0},[e,t,s,a])})(s,i.otelEnabled,i.otelVersion,r),((e,t,s,a,r,n)=>{const o=(0,ge.useMemo)(()=>Boolean(e.getDefaultLogsTable())&&e.getDefaultLogsColumns().has(E.Time),[e]),l=(0,ge.useRef)(Boolean(a)||o),i=(0,ge.useRef)(s||"");s!==i.current&&(l.current=!1),(Boolean(a)||r)&&(i.current=s,l.current=!0),(0,ge.useEffect)(()=>{if(l.current||0===t.length||!s)return;const e=t.filter(Ya)[0];if(!e)return;const a={name:e.name,type:e.type,hint:E.Time};n(rr(a)),i.current=s,l.current=!0},[e,t,s,n])})(s,o,a.table,i.timeColumn,i.otelEnabled,r),((e,t,s)=>{const a=(0,ge.useRef)(!t),r=(0,ge.useRef)(e||"");e!==r.current&&(a.current=!1),(0,ge.useEffect)(()=>{if(!e||a.current)return;const t=[{type:"datetime",operator:m.WithInGrafanaTimeRange,filterType:"custom",key:"",hint:E.Time,condition:"AND"},{type:"string",operator:m.IsAnything,filterType:"custom",key:"",hint:E.LogLevel,condition:"AND"}],n=[{name:"",hint:E.Time,dir:u.DESC,default:!0}];r.current=e,a.current=!0,s(er({filters:t,orderBy:n}))},[e,s])})(a.table,l,r);const _=c&&xe().createElement($.Alert,{title:"",severity:"warning",buttonContent:"Close",onRemove:()=>T(!1)},xe().createElement($.VerticalGroup,null,xe().createElement("div",null,"To speed up your query building, enter your default logs configuration in your ",xe().createElement("a",{style:{textDecoration:"underline"},href:`/connections/datasources/edit/${encodeURIComponent(s.uid)}#logs-config`},"ClickHouse Data Source settings"))));return xe().createElement("div",null,_,xe().createElement(Pt,{enabled:i.otelEnabled,onEnabledChange:e=>r(sr(e)),selectedVersion:i.otelVersion,onVersionChange:e=>r(ar(e))}),xe().createElement(Sa,{disabled:i.otelEnabled,allColumns:o,selectedColumns:i.selectedColumns,onSelectedColumnsChange:p("selectedColumns")}),xe().createElement("div",{className:"gf-form"},xe().createElement(Oa,{disabled:i.otelEnabled,allColumns:o,selectedColumn:i.timeColumn,invalid:!i.timeColumn,onColumnChange:p("timeColumn"),columnFilterFn:Ya,columnHint:E.Time,label:n.logTimeColumn.label,tooltip:n.logTimeColumn.tooltip}),xe().createElement(Oa,{disabled:i.otelEnabled,allColumns:o,selectedColumn:i.logLevelColumn,invalid:!i.logLevelColumn,onColumnChange:p("logLevelColumn"),columnFilterFn:Va,columnHint:E.LogLevel,label:n.logLevelColumn.label,tooltip:n.logLevelColumn.tooltip,inline:!0})),xe().createElement("div",{className:"gf-form"},xe().createElement(Oa,{disabled:i.otelEnabled,allColumns:o,selectedColumn:i.messageColumn,invalid:!i.messageColumn,onColumnChange:p("messageColumn"),columnFilterFn:Va,columnHint:E.LogMessage,label:n.logMessageColumn.label,tooltip:n.logMessageColumn.tooltip}),xe().createElement(Oa,{disabled:i.otelEnabled,allColumns:o,selectedColumn:i.labelsColumn,invalid:!i.labelsColumn,onColumnChange:p("labelsColumn"),columnHint:E.LogLabels,label:n.logLabelsColumn.label,tooltip:n.logLabelsColumn.tooltip,inline:!0})),xe().createElement(La,{orderByOptions:ha(a,o),orderBy:i.orderBy,onOrderByChange:p("orderBy")}),xe().createElement(fa,{limit:i.limit,onLimitChange:p("limit")}),xe().createElement(Fa,{filters:i.filters,onFiltersChange:p("filters"),allColumns:o,datasource:s,database:a.database,table:a.table}),xe().createElement(Tr,{logMessageLike:i.logMessageLike,onChange:p("logMessageLike")}))},Tr=e=>{const[t,s]=(0,ge.useState)(""),{logMessageLike:a,onChange:r}=e,{label:n,tooltip:o,clearButton:l}=ft.components.LogsQueryBuilder.logMessageFilter;return(0,ge.useEffect)(()=>{s(a)},[a]),xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:o},n),xe().createElement($.Input,{width:200,value:t,type:"string",onChange:e=>s(e.currentTarget.value),onBlur:()=>r(t)}),a&&xe().createElement($.Button,{"data-testid":Je.QueryBuilder.LogsQueryBuilder.LogMessageLikeInput.input,variant:"secondary",size:"md",onClick:()=>r(""),className:xt.Common.smallBtn,tooltip:ft.components.expandBuilderButton.tooltip},l))},pr=e=>{const{labelA:t,labelB:s,value:a,onChange:r,label:n,tooltip:o}=e,l=[{label:t,value:!1},{label:s,value:!0}];return xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:o},n),xe().createElement($.RadioButtonGroup,{options:l,value:a,onChange:e=>r(e)}))};function ur(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function mr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){ur(e,t,s[t])})}return e}function _r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Ar=[{label:"Count",value:i.Count},{label:"Sum",value:i.Sum},{label:"Min",value:i.Min},{label:"Max",value:i.Max},{label:"Average",value:i.Average},{label:"Any",value:i.Any}],Rr=e=>{const{index:t,aggregate:s,updateAggregate:a,removeAggregate:r}=e,[n,o]=(0,ge.useState)(!1),[l,i]=(0,ge.useState)(s.alias||""),{aliasLabel:E}=ft.components.AggregatesEditor,c=Ar.slice();c.find(e=>e.value===s.aggregateType)||c.push({label:s.aggregateType,value:s.aggregateType});const T=e.columnOptions.slice();return T.find(e=>e.value===s.column)||T.push({label:s.column,value:s.column}),xe().createElement($.HorizontalGroup,{wrap:!0,align:"flex-start",justify:"flex-start"},xe().createElement($.Select,{width:20,className:xt.Common.inlineSelect,options:c,value:s.aggregateType,onChange:e=>a(t,_r(mr({},s),{aggregateType:e.value})),menuPlacement:"bottom",allowCustomValue:!0}),xe().createElement($.Select,{width:40,className:xt.Common.inlineSelect,options:T,isOpen:n,onOpenMenu:()=>o(!0),onCloseMenu:()=>o(!1),onChange:e=>a(t,_r(mr({},s),{column:e.value})),value:s.column,menuPlacement:"bottom",allowCustomValue:!0}),xe().createElement($.InlineFormLabel,{width:2,className:"query-keyword"},E),xe().createElement($.Input,{width:20,value:l,onChange:e=>i(e.currentTarget.value),onBlur:e=>a(t,_r(mr({},s),{alias:e.currentTarget.value})),placeholder:"alias"}),xe().createElement($.Button,{"data-testid":Qe.QueryBuilder.AggregateEditor.itemRemoveButton,className:xt.Common.smallBtn,variant:"destructive",size:"sm",icon:"trash-alt",onClick:()=>r(t)}))},Sr=e=>{const{allColumns:t,aggregates:s,onAggregatesChange:a}=e,{label:r,tooltip:n,addLabel:o}=ft.components.AggregatesEditor,l=t.map(e=>({label:e.label||e.name,value:e.name}));l.push({label:"*",value:"*"});const E=e=>{const t=s.slice();t.splice(e,1),a(t)},c=(e,t)=>{const r=s.slice();r[e]=t,a(r)},T=xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword","data-testid":Qe.QueryBuilder.AggregateEditor.sectionLabel,tooltip:n},r),p=xe().createElement("div",{className:`width-8 ${xt.Common.firstLabel}`});return xe().createElement(xe().Fragment,null,s.map((e,t)=>{const s=`${t}-${e.column}-${e.aggregateType}-${e.alias}`;return xe().createElement("div",{className:"gf-form",key:s,"data-testid":Qe.QueryBuilder.AggregateEditor.itemWrapper},0===t?T:p,xe().createElement(Rr,{columnOptions:l,index:t,aggregate:e,updateAggregate:c,removeAggregate:E}))}),xe().createElement("div",{className:"gf-form"},0===s.length?T:p,xe().createElement($.Button,{"data-testid":Qe.QueryBuilder.AggregateEditor.addButton,icon:"plus-circle",variant:"secondary",size:"sm",onClick:()=>{const e=s.slice();e.push({column:"",aggregateType:i.Count}),a(e)},className:xt.Common.smallBtn},o)))},dr=e=>{const{allColumns:t,groupBy:s,onGroupByChange:a}=e,[r,n]=(0,ge.useState)(!1),{label:o,tooltip:l}=ft.components.GroupByEditor,i=t.map(e=>({label:e.name,value:e.name}));return xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:l},o),xe().createElement("div",{"data-testid":Qe.QueryBuilder.GroupByEditor.multiSelectWrapper,className:xt.Common.selectWrapper},xe().createElement($.MultiSelect,{options:i,isOpen:r,onOpenMenu:()=>n(!0),onCloseMenu:()=>n(!1),value:s,onChange:e=>{n(!1),a(e.map(e=>e.value))},allowCustomValue:!0,menuPlacement:"bottom"})))},Or=e=>{const{datasource:t,builderOptions:s,builderOptionsDispatch:a}=e,r=Er(s),n=qa(t,s.database,s.table),l=ft.components.TimeSeriesQueryBuilder,i=(0,ge.useMemo)(()=>({isAggregateMode:s.mode===o.Trend,timeColumn:oe(s,E.Time),selectedColumns:(s.columns||[]).filter(e=>e.hint!==E.Time),aggregates:s.aggregates||[],groupBy:s.groupBy||[],orderBy:s.orderBy||[],limit:s.limit||0,filters:s.filters||[]}),[s]),c=Ka(e=>{let t=e.selectedColumns.slice();e.isAggregateMode&&(t=[]),e.timeColumn&&t.push(e.timeColumn),a(er({mode:e.isAggregateMode?o.Trend:o.Aggregate,columns:t,aggregates:e.isAggregateMode?e.aggregates:[],groupBy:e.isAggregateMode?e.groupBy:[],filters:e.filters,orderBy:e.orderBy,limit:e.limit}))},i);return((e,t,s,a)=>{const r=(0,ge.useRef)(Boolean(s)),n=(0,ge.useRef)(t||"");t!==n.current&&(r.current=!1),(0,ge.useEffect)(()=>{if(r.current||0===e.length||!t)return;const s=e.filter(Ya)[0];if(!s)return;const o={name:s.name,type:s.type,hint:E.Time};a(rr(o)),n.current=t,r.current=!0},[e,t,a])})(n,s.table,i.timeColumn,a),((e,t,s)=>{const a=(0,ge.useRef)(!t),r=(0,ge.useRef)(e||"");e!==r.current&&(a.current=!1),(0,ge.useEffect)(()=>{if(!e||a.current)return;const t=[{type:"datetime",operator:m.WithInGrafanaTimeRange,filterType:"custom",key:"",hint:E.Time,condition:"AND"}],n=[{name:"",hint:E.Time,dir:u.ASC,default:!0}];r.current=e,a.current=!0,s(er({filters:t,orderBy:n}))},[e,s])})(s.table,r,a),xe().createElement("div",null,xe().createElement(pr,{labelA:l.simpleQueryModeLabel,labelB:l.aggregateQueryModeLabel,value:i.isAggregateMode,onChange:c("isAggregateMode"),label:l.builderModeLabel,tooltip:l.builderModeTooltip}),xe().createElement(Oa,{allColumns:n,selectedColumn:i.timeColumn,invalid:!i.timeColumn,onColumnChange:c("timeColumn"),columnFilterFn:Ya,columnHint:E.Time,label:l.timeColumn.label,tooltip:l.timeColumn.tooltip,clearable:!1}),i.isAggregateMode?xe().createElement(xe().Fragment,null,xe().createElement(Sr,{allColumns:n,aggregates:i.aggregates,onAggregatesChange:c("aggregates")}),xe().createElement(dr,{groupBy:i.groupBy,onGroupByChange:c("groupBy"),allColumns:n})):xe().createElement(Sa,{allColumns:n,selectedColumns:i.selectedColumns,onSelectedColumnsChange:c("selectedColumns")}),xe().createElement(La,{orderByOptions:ha(s,n),orderBy:i.orderBy,onOrderByChange:c("orderBy")}),xe().createElement(fa,{limit:i.limit,onLimitChange:c("limit")}),xe().createElement(Fa,{filters:i.filters,onFiltersChange:c("filters"),allColumns:n,datasource:t,database:s.database,table:s.table}))},Ir=e=>{const{datasource:t,builderOptions:s,builderOptionsDispatch:a}=e,r=qa(t,s.database,s.table),n=ft.components.TableQueryBuilder,l=(0,ge.useMemo)(()=>({isAggregateMode:s.mode===o.Aggregate,selectedColumns:s.columns||[],aggregates:s.aggregates||[],groupBy:s.groupBy||[],orderBy:s.orderBy||[],limit:s.limit||0,filters:s.filters||[]}),[s]),i=Ka(e=>{a(er({mode:e.isAggregateMode?o.Aggregate:o.List,columns:e.selectedColumns,aggregates:e.aggregates,groupBy:e.groupBy,filters:e.filters,orderBy:e.orderBy,limit:e.limit}))},l);return xe().createElement("div",null,xe().createElement(pr,{labelA:n.simpleQueryModeLabel,labelB:n.aggregateQueryModeLabel,value:l.isAggregateMode,onChange:i("isAggregateMode"),label:n.builderModeLabel,tooltip:n.builderModeTooltip}),xe().createElement(Sa,{allColumns:r,selectedColumns:l.selectedColumns,onSelectedColumnsChange:i("selectedColumns"),showAllOption:!0}),l.isAggregateMode&&xe().createElement(xe().Fragment,null,xe().createElement(Sr,{allColumns:r,aggregates:l.aggregates,onAggregatesChange:i("aggregates")}),xe().createElement(dr,{groupBy:l.groupBy,onGroupByChange:i("groupBy"),allColumns:r})),xe().createElement(La,{orderByOptions:ha(s,r),orderBy:l.orderBy,onOrderByChange:i("orderBy")}),xe().createElement(fa,{limit:l.limit,onLimitChange:i("limit")}),xe().createElement(Fa,{filters:l.filters,onFiltersChange:i("filters"),allColumns:r,datasource:t,database:s.database,table:s.table}))},Nr=e=>{const{sql:t}=e,{label:s,tooltip:a}=ft.components.SqlPreview;return xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:a},s),xe().createElement("pre",null,t))},br=e=>{const{datasource:t,onDatabaseChange:s,database:a}=e,r=(e=>{const[t,s]=(0,ge.useState)([]);return(0,ge.useEffect)(()=>{e&&e.fetchDatabases().then(e=>s(e)).catch(e=>{console.error("Failed to fetch databases",e)})},[e]),t})(t),{label:n,tooltip:o,empty:l}=ft.components.DatabaseSelect,i=r.map(e=>({label:e,value:e}));return i.push({label:l,value:""}),a&&!r.includes(a)&&i.push({label:a,value:a}),(0,ge.useEffect)(()=>{a||s(t.getDefaultDatabase())},[t,a,s]),xe().createElement(xe().Fragment,null,xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:o},n),xe().createElement($.Select,{className:`width-15 ${xt.Common.inlineSelect}`,options:i,value:a,onChange:e=>s(e.value),menuPlacement:"bottom",allowCustomValue:!0}))},Cr=e=>{const{datasource:t,onTableChange:s,database:a,table:r}=e,n=((e,t)=>{const[s,a]=(0,ge.useState)([]);(0,ge.useEffect)(()=>{if(!e||!t)return;let s=!1;return e.fetchTables(t).then(e=>{s||a(e)}).catch(e=>{console.error("Failed to fetch tables for database:",t,e)}),()=>{s=!0}},[e,t]);const r=(0,ge.useRef)("");return t!==r.current?(r.current=t,a([]),[]):s})(t,a),{label:o,tooltip:l,empty:i}=ft.components.TableSelect,E=n.map(e=>({label:e,value:e}));return E.push({label:i,value:""}),r&&!n.includes(r)&&E.push({label:r,value:r}),(0,ge.useEffect)(()=>{a&&!r&&n.length>0&&s(t.getDefaultTable()||n[0])},[a,r,n,t,s]),xe().createElement(xe().Fragment,null,xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:l},o),xe().createElement($.Select,{className:`width-15 ${xt.Common.inlineSelect}`,options:E,value:r,onChange:e=>s(e.value),menuPlacement:"bottom",allowCustomValue:!0}))},yr=e=>{const{datasource:t,database:s,onDatabaseChange:a,table:r,onTableChange:n}=e;return xe().createElement("div",{className:"gf-form"},xe().createElement(br,{datasource:t,database:s,onDatabaseChange:a}),xe().createElement(Cr,{datasource:t,database:s,table:r,onTableChange:n}))},Lr=[{label:ft.types.QueryType.table,value:l.Table},{label:ft.types.QueryType.logs,value:l.Logs},{label:ft.types.QueryType.timeseries,value:l.TimeSeries},{label:ft.types.QueryType.traces,value:l.Traces}],hr=e=>{const{queryType:t,onChange:s,sqlEditor:a}=e,{label:r,tooltip:n,sqlTooltip:o}=ft.components.QueryTypeSwitcher;return xe().createElement("span",null,xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:a?o:n},r),xe().createElement($.RadioButtonGroup,{options:Lr,value:t,onChange:s}))},fr=e=>{const[t,s]=(0,ge.useState)(""),{traceId:a,onChange:r,disabled:n}=e,{label:o,tooltip:l}=ft.components.TraceQueryBuilder.columns.traceIdFilter;return(0,ge.useEffect)(()=>{s(a)},[a]),xe().createElement("div",{className:"gf-form"},xe().createElement($.InlineFormLabel,{width:8,className:"query-keyword",tooltip:l},o),xe().createElement($.Input,{"data-testid":Qe.QueryBuilder.TraceIdInput.input,width:40,value:t,disabled:n,type:"string",onChange:e=>s(e.currentTarget.value),onBlur:()=>r(t)}))},$r=e=>{var t,s;const{datasource:a,builderOptions:r,builderOptionsDispatch:n}=e,o=qa(a,r.database,r.table),l=Er(r),[i,c]=(0,ge.useState)(0===a.getDefaultTraceColumns().size&&0===(null===(t=r.columns)||void 0===t?void 0:t.length)),[p,_]=(0,ge.useState)(i),[A,R]=(0,ge.useState)(!((null===(s=r.meta)||void 0===s?void 0:s.isTraceIdMode)&&r.meta.traceId)),S=ft.components.TraceQueryBuilder,d=(0,ge.useMemo)(()=>{var e,t,s,a,n,o,l,i;return{isTraceIdMode:(null===(e=r.meta)||void 0===e?void 0:e.isTraceIdMode)||!1,otelEnabled:(null===(t=r.meta)||void 0===t?void 0:t.otelEnabled)||!1,otelVersion:(null===(s=r.meta)||void 0===s?void 0:s.otelVersion)||"",traceIdColumn:oe(r,E.TraceId),spanIdColumn:oe(r,E.TraceSpanId),parentSpanIdColumn:oe(r,E.TraceParentSpanId),serviceNameColumn:oe(r,E.TraceServiceName),operationNameColumn:oe(r,E.TraceOperationName),startTimeColumn:oe(r,E.Time),durationTimeColumn:oe(r,E.TraceDurationTime),durationUnit:(null===(a=r.meta)||void 0===a?void 0:a.traceDurationUnit)||T.Nanoseconds,tagsColumn:oe(r,E.TraceTags),serviceTagsColumn:oe(r,E.TraceServiceTags),kindColumn:oe(r,E.TraceKind),statusCodeColumn:oe(r,E.TraceStatusCode),statusMessageColumn:oe(r,E.TraceStatusMessage),stateColumn:oe(r,E.TraceState),instrumentationLibraryNameColumn:oe(r,E.TraceInstrumentationLibraryName),instrumentationLibraryVersionColumn:oe(r,E.TraceInstrumentationLibraryVersion),flattenNested:Boolean(null===(n=r.meta)||void 0===n?void 0:n.flattenNested),traceEventsColumnPrefix:(null===(o=r.meta)||void 0===o?void 0:o.traceEventsColumnPrefix)||"",traceLinksColumnPrefix:(null===(l=r.meta)||void 0===l?void 0:l.traceLinksColumnPrefix)||"",traceId:(null===(i=r.meta)||void 0===i?void 0:i.traceId)||"",orderBy:r.orderBy||[],limit:r.limit||0,filters:r.filters||[]}},[r]),O=Ka(e=>{const t=[e.traceIdColumn,e.spanIdColumn,e.parentSpanIdColumn,e.serviceNameColumn,e.operationNameColumn,e.startTimeColumn,e.durationTimeColumn,e.tagsColumn,e.serviceTagsColumn,e.serviceTagsColumn,e.kindColumn,e.statusCodeColumn,e.statusMessageColumn,e.stateColumn,e.instrumentationLibraryNameColumn,e.instrumentationLibraryVersionColumn].filter(e=>void 0!==e);n(er({columns:t,orderBy:e.orderBy,limit:e.limit,filters:e.filters,meta:{isTraceIdMode:e.isTraceIdMode,traceDurationUnit:e.durationUnit,traceId:e.traceId,flattenNested:e.flattenNested,traceEventsColumnPrefix:e.traceEventsColumnPrefix,traceLinksColumnPrefix:e.traceLinksColumnPrefix}}))},d);((e,t,s,a)=>{const r=(0,ge.useRef)(!1);(0,ge.useEffect)(()=>{if(!t||r.current)return;const n=e.getDefaultTraceDatabase()||e.getDefaultDatabase(),o=e.getDefaultTraceTable()||e.getDefaultTable(),l=e.getDefaultTraceDurationUnit(),i=e.getTraceOtelVersion(),E=e.getDefaultTraceColumns(),c=e.getDefaultTraceFlattenNested(),T=e.getDefaultTraceEventsColumnPrefix(),p=e.getDefaultTraceLinksColumnPrefix(),u=[];for(let[e,t]of E)u.push({name:t,hint:e});a(er({database:n,table:o||s.table,columns:u,meta:{otelEnabled:Boolean(i),otelVersion:i,traceDurationUnit:l,flattenNested:c,traceEventsColumnPrefix:T,traceLinksColumnPrefix:p}})),r.current=!0},[s.columns,s.orderBy,s.table,a,e,t])})(a,l,r,n),((e,t,s)=>{const a=(0,ge.useRef)(e);e||(a.current=!1),(0,ge.useEffect)(()=>{if(!e||a.current)return;const r=j.getVersion(t),n=null==r?void 0:r.traceColumnMap;if(!n)return;const o=[];n.forEach((e,t)=>{o.push({name:e,hint:t})}),s(er({columns:o,meta:{traceDurationUnit:r.traceDurationUnit,flattenNested:r.flattenNested,traceEventsColumnPrefix:r.traceEventsColumnPrefix,traceLinksColumnPrefix:r.traceLinksColumnPrefix}})),a.current=!0},[e,t,s])})(d.otelEnabled,d.otelVersion,n),((e,t,s,a)=>{const r=(0,ge.useRef)(!s),n=(0,ge.useRef)(e||"");e!==n.current&&(r.current=!1),(0,ge.useEffect)(()=>{if(t||!e||r.current)return;const s=[{type:"datetime",operator:m.WithInGrafanaTimeRange,filterType:"custom",key:"",hint:E.Time,condition:"AND"},{type:"string",operator:m.IsEmpty,filterType:"custom",key:"",hint:E.TraceParentSpanId,condition:"AND",value:""},{type:"UInt64",operator:m.GreaterThan,filterType:"custom",key:"",hint:E.TraceDurationTime,condition:"AND",value:0},{type:"string",operator:m.IsAnything,filterType:"custom",key:"",hint:E.TraceServiceName,condition:"AND",value:""}],o=[{name:"",hint:E.Time,dir:u.DESC,default:!0},{name:"",hint:E.TraceDurationTime,dir:u.DESC,default:!0}];n.current=e,r.current=!0,a(er({filters:s,orderBy:o}))},[e,t,a])})(r.table,d.isTraceIdMode,l,n);const I=i&&xe().createElement($.Alert,{title:"",severity:"warning",buttonContent:"Close",onRemove:()=>c(!1)},xe().createElement($.Stack,null,xe().createElement("div",null,"To speed up your query building, enter your default trace configuration in your ",xe().createElement("a",{style:{textDecoration:"underline"},href:`/connections/datasources/edit/${encodeURIComponent(a.uid)}#traces-config`},"ClickHouse Data Source settings"))));return xe().createElement("div",null,xe().createElement(pr,{labelA:S.traceSearchModeLabel,labelB:S.traceIdModeLabel,value:d.isTraceIdMode,onChange:O("isTraceIdMode"),label:S.traceModeLabel,tooltip:S.traceModeTooltip}),xe().createElement($.Collapse,{label:S.columnsSection,collapsible:!0,isOpen:p,onToggle:_},I,xe().createElement(Pt,{enabled:d.otelEnabled,onEnabledChange:e=>n(sr(e)),selectedVersion:d.otelVersion,onVersionChange:e=>n(ar(e)),wide:!0}),xe().createElement("div",{className:"gf-form"},xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.traceIdColumn,invalid:!d.traceIdColumn,onColumnChange:O("traceIdColumn"),columnHint:E.TraceId,label:S.columns.traceId.label,tooltip:S.columns.traceId.tooltip,wide:!0}),xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.spanIdColumn,invalid:!d.spanIdColumn,onColumnChange:O("spanIdColumn"),columnHint:E.TraceSpanId,label:S.columns.spanId.label,tooltip:S.columns.spanId.tooltip,wide:!0,inline:!0})),xe().createElement("div",{className:"gf-form"},xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.parentSpanIdColumn,invalid:!d.parentSpanIdColumn,onColumnChange:O("parentSpanIdColumn"),columnHint:E.TraceParentSpanId,label:S.columns.parentSpanId.label,tooltip:S.columns.parentSpanId.tooltip,wide:!0}),xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.serviceNameColumn,invalid:!d.serviceNameColumn,onColumnChange:O("serviceNameColumn"),columnHint:E.TraceServiceName,label:S.columns.serviceName.label,tooltip:S.columns.serviceName.tooltip,wide:!0,inline:!0})),xe().createElement("div",{className:"gf-form"},xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.operationNameColumn,invalid:!d.operationNameColumn,onColumnChange:O("operationNameColumn"),columnHint:E.TraceOperationName,label:S.columns.operationName.label,tooltip:S.columns.operationName.tooltip,wide:!0}),xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.startTimeColumn,invalid:!d.startTimeColumn,onColumnChange:O("startTimeColumn"),columnHint:E.Time,label:S.columns.startTime.label,tooltip:S.columns.startTime.tooltip,wide:!0,inline:!0})),xe().createElement("div",{className:"gf-form"},xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.durationTimeColumn,invalid:!d.durationTimeColumn,onColumnChange:O("durationTimeColumn"),columnHint:E.TraceDurationTime,label:S.columns.durationTime.label,tooltip:S.columns.durationTime.tooltip,wide:!0}),xe().createElement(vt,{disabled:d.otelEnabled,unit:d.durationUnit,onChange:O("durationUnit"),inline:!0})),xe().createElement("div",{className:"gf-form"},xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.tagsColumn,invalid:!d.tagsColumn,onColumnChange:O("tagsColumn"),columnHint:E.TraceTags,label:S.columns.tags.label,tooltip:S.columns.tags.tooltip,wide:!0}),xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.serviceTagsColumn,invalid:!d.serviceTagsColumn,onColumnChange:O("serviceTagsColumn"),columnHint:E.TraceServiceTags,label:S.columns.serviceTags.label,tooltip:S.columns.serviceTags.tooltip,wide:!0,inline:!0})),xe().createElement("div",{className:"gf-form"},xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.kindColumn,invalid:!d.kindColumn,onColumnChange:O("kindColumn"),columnHint:E.TraceKind,label:S.columns.kind.label,tooltip:S.columns.kind.tooltip,wide:!0}),xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.statusCodeColumn,invalid:!d.statusCodeColumn,onColumnChange:O("statusCodeColumn"),columnHint:E.TraceStatusCode,label:S.columns.statusCode.label,tooltip:S.columns.statusCode.tooltip,wide:!0,inline:!0})),xe().createElement("div",{className:"gf-form"},xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.statusMessageColumn,invalid:!d.statusMessageColumn,onColumnChange:O("statusMessageColumn"),columnHint:E.TraceStatusMessage,label:S.columns.statusMessage.label,tooltip:S.columns.statusMessage.tooltip,wide:!0}),xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.stateColumn,invalid:!d.stateColumn,onColumnChange:O("stateColumn"),columnHint:E.TraceState,label:S.columns.state.label,tooltip:S.columns.state.tooltip,wide:!0,inline:!0})),xe().createElement("div",{className:"gf-form"},xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.instrumentationLibraryNameColumn,invalid:!d.instrumentationLibraryNameColumn,onColumnChange:O("instrumentationLibraryNameColumn"),columnHint:E.TraceInstrumentationLibraryName,label:S.columns.instrumentationLibraryName.label,tooltip:S.columns.instrumentationLibraryName.tooltip,wide:!0}),xe().createElement(Oa,{disabled:d.otelEnabled,allColumns:o,selectedColumn:d.instrumentationLibraryVersionColumn,invalid:!d.instrumentationLibraryVersionColumn,onColumnChange:O("instrumentationLibraryVersionColumn"),columnHint:E.TraceInstrumentationLibraryVersion,label:S.columns.instrumentationLibraryVersion.label,tooltip:S.columns.instrumentationLibraryVersion.tooltip,wide:!0,inline:!0})),xe().createElement("div",{className:"gf-form"},xe().createElement(wt,{disabled:d.otelEnabled,label:S.columns.flattenNested.label,tooltip:S.columns.flattenNested.tooltip,value:Boolean(d.flattenNested),onChange:O("flattenNested"),wide:!0})),xe().createElement("div",{className:"gf-form"},xe().createElement(gt,{disabled:d.otelEnabled,label:S.columns.eventsPrefix.label,tooltip:S.columns.eventsPrefix.tooltip,value:d.traceEventsColumnPrefix||"",onChange:O("traceEventsColumnPrefix")})),xe().createElement("div",{className:"gf-form"},xe().createElement(gt,{disabled:d.otelEnabled,label:S.columns.linksPrefix.label,tooltip:S.columns.linksPrefix.tooltip,value:d.traceLinksColumnPrefix||"",onChange:O("traceLinksColumnPrefix")}))),xe().createElement($.Collapse,{label:S.filtersSection,collapsible:!0,isOpen:A,onToggle:R},xe().createElement(La,{orderByOptions:ha(r,o),orderBy:d.orderBy,onOrderByChange:O("orderBy")}),xe().createElement(fa,{limit:d.limit,onLimitChange:O("limit")}),xe().createElement(Fa,{allColumns:o,filters:d.filters,onFiltersChange:O("filters"),datasource:a,database:r.database,table:r.table})),d.isTraceIdMode&&xe().createElement(fr,{traceId:d.traceId,onChange:O("traceId")}))},Dr=e=>{var t;const{datasource:s,builderOptions:a,builderOptionsDispatch:r,generatedSql:n}=e;return(null===(t=a.meta)||void 0===t?void 0:t.minimized)?xe().createElement(Pr,{builderOptions:a,builderOptionsDispatch:r,datasource:s}):xe().createElement("div",{"data-testid":"query-editor-section-builder"},xe().createElement("div",{className:"gf-form "+xt.QueryEditor.queryType},xe().createElement(yr,{datasource:s,database:a.database,onDatabaseChange:e=>r((e=>Za("set_database",{database:e}))(e)),table:a.table,onTableChange:e=>r((e=>Za("set_table",{table:e}))(e))})),xe().createElement("div",{className:"gf-form "+xt.QueryEditor.queryType},xe().createElement(hr,{queryType:a.queryType,onChange:e=>r((e=>Za("set_query_type",{queryType:e}))(e))})),a.queryType===l.Table&&xe().createElement(Ir,{datasource:s,builderOptions:a,builderOptionsDispatch:r}),a.queryType===l.Logs&&xe().createElement(cr,{datasource:s,builderOptions:a,builderOptionsDispatch:r}),a.queryType===l.TimeSeries&&xe().createElement(Or,{datasource:s,builderOptions:a,builderOptionsDispatch:r}),a.queryType===l.Traces&&xe().createElement($r,{datasource:s,builderOptions:a,builderOptionsDispatch:r}),xe().createElement(Nr,{sql:n}))},Pr=e=>{var t,s,a;const{builderOptions:r,builderOptionsDispatch:n,datasource:o}=e,i=(0,ge.useMemo)(()=>r.queryType===l.Logs?o.getDefaultLogsColumns():r.queryType===l.Traces?o.getDefaultTraceColumns():void 0,[r.queryType,o]),c=0===(null==i?void 0:i.size)&&0===(null===(t=r.columns)||void 0===t?void 0:t.length),T=r.queryType===l.Logs?"logs":r.queryType===l.Traces?"trace":r.queryType;let p;if(r.queryType===l.Traces&&(null===(s=r.meta)||void 0===s?void 0:s.isTraceIdMode)&&r.meta.traceId)p=r.meta.traceId;else if(r.queryType===l.Logs&&(null===(a=r.filters)||void 0===a?void 0:a.find(e=>e.hint===E.TraceId&&"value"in e))){var u;p=(null===(u=r.filters)||void 0===u?void 0:u.find(e=>e.hint===E.TraceId&&"value"in e)).value}return xe().createElement("div",{"data-testid":"query-editor-minimized-viewer"},c&&xe().createElement($.Alert,{title:"",severity:"warning"},xe().createElement($.VerticalGroup,null,xe().createElement("div",null,`To enable data linking, enter your default ${T} configuration in your `,xe().createElement("a",{style:{textDecoration:"underline"},href:`/connections/datasources/edit/${encodeURIComponent(o.uid)}#${r.queryType}-config`},"ClickHouse Data Source settings")))),!p&&xe().createElement($.Alert,{title:"",severity:"warning"},xe().createElement($.VerticalGroup,null,xe().createElement("div",null,"Trace ID is empty"))),p&&xe().createElement(fr,{traceId:p,onChange:()=>{},disabled:!0}),xe().createElement($.Button,{"data-testid":Je.QueryBuilder.expandBuilderButton,icon:"plus",variant:"secondary",size:"md",onClick:()=>n(za("set_builder_minimized",{minimized:!1})),className:xt.Common.smallBtn,tooltip:ft.components.expandBuilderButton.tooltip},ft.components.expandBuilderButton.label))},gr=e=>e.flatMap(xr),xr=e=>Hr(Mr(e)).map(wr),wr=e=>e.replace(/ +/g," ").trim(),Mr=e=>({type:"mandatory_block",items:Ur(e,0)[0]}),Ur=(e,t,s)=>{const a=[];for(;e[t];){const[r,n]=vr(e,t);if(a.push(r),"|"!==e[t=n]){if("}"===e[t]||"]"===e[t]){if(s!==e[t])throw new Error(`Unbalanced parenthesis in: ${e}`);return[a,++t]}if(t===e.length){if(s)throw new Error(`Unbalanced parenthesis in: ${e}`);return[a,t]}throw new Error(`Unexpected "${e[t]}"`)}t++}return[a,t]},vr=(e,t)=>{const s=[];for(;;){const[a,r]=kr(e,t);if(!a)break;s.push(a),t=r}return 1===s.length?[s[0],t]:[{type:"concatenation",items:s},t]},kr=(e,t)=>{if("{"===e[t])return Gr(e,t+1);if("["===e[t])return Br(e,t+1);{let s="";for(;e[t]&&/[A-Za-z0-9_ ]/.test(e[t]);)s+=e[t],t++;return[s,t]}},Gr=(e,t)=>{const[s,a]=Ur(e,t,"}");return[{type:"mandatory_block",items:s},a]},Br=(e,t)=>{const[s,a]=Ur(e,t,"]");return[{type:"optional_block",items:s},a]},Hr=e=>{if("string"==typeof e)return[e];if("concatenation"===e.type)return e.items.map(Hr).reduce(Fr,[""]);if("mandatory_block"===e.type)return e.items.flatMap(Hr);if("optional_block"===e.type)return["",...e.items.flatMap(Hr)];throw new Error(`Unknown node type: ${e}`)},Fr=(e,t)=>{const s=[];for(const a of e)for(const e of t)s.push(a+e);return s};var Yr;!function(e){e.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",e.IDENTIFIER="IDENTIFIER",e.STRING="STRING",e.VARIABLE="VARIABLE",e.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",e.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",e.RESERVED_KEYWORD="RESERVED_KEYWORD",e.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",e.RESERVED_KEYWORD_PHRASE="RESERVED_KEYWORD_PHRASE",e.RESERVED_DATA_TYPE_PHRASE="RESERVED_DATA_TYPE_PHRASE",e.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",e.RESERVED_CLAUSE="RESERVED_CLAUSE",e.RESERVED_SELECT="RESERVED_SELECT",e.RESERVED_JOIN="RESERVED_JOIN",e.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",e.ARRAY_KEYWORD="ARRAY_KEYWORD",e.CASE="CASE",e.END="END",e.WHEN="WHEN",e.ELSE="ELSE",e.THEN="THEN",e.LIMIT="LIMIT",e.BETWEEN="BETWEEN",e.AND="AND",e.OR="OR",e.XOR="XOR",e.OPERATOR="OPERATOR",e.COMMA="COMMA",e.ASTERISK="ASTERISK",e.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",e.OPEN_PAREN="OPEN_PAREN",e.CLOSE_PAREN="CLOSE_PAREN",e.LINE_COMMENT="LINE_COMMENT",e.BLOCK_COMMENT="BLOCK_COMMENT",e.DISABLE_COMMENT="DISABLE_COMMENT",e.NUMBER="NUMBER",e.NAMED_PARAMETER="NAMED_PARAMETER",e.QUOTED_PARAMETER="QUOTED_PARAMETER",e.NUMBERED_PARAMETER="NUMBERED_PARAMETER",e.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",e.CUSTOM_PARAMETER="CUSTOM_PARAMETER",e.DELIMITER="DELIMITER",e.EOF="EOF"}(Yr=Yr||(Yr={}));const Vr=e=>({type:Yr.EOF,raw:"«EOF»",text:"«EOF»",start:e}),Wr=Vr(1/0),Xr=e=>t=>t.type===e.type&&t.text===e.text,Kr={ARRAY:Xr({text:"ARRAY",type:Yr.RESERVED_DATA_TYPE}),BY:Xr({text:"BY",type:Yr.RESERVED_KEYWORD}),SET:Xr({text:"SET",type:Yr.RESERVED_CLAUSE}),STRUCT:Xr({text:"STRUCT",type:Yr.RESERVED_DATA_TYPE}),WINDOW:Xr({text:"WINDOW",type:Yr.RESERVED_CLAUSE}),VALUES:Xr({text:"VALUES",type:Yr.RESERVED_CLAUSE})},qr=e=>e===Yr.RESERVED_DATA_TYPE||e===Yr.RESERVED_KEYWORD||e===Yr.RESERVED_FUNCTION_NAME||e===Yr.RESERVED_KEYWORD_PHRASE||e===Yr.RESERVED_DATA_TYPE_PHRASE||e===Yr.RESERVED_CLAUSE||e===Yr.RESERVED_SELECT||e===Yr.RESERVED_SET_OPERATION||e===Yr.RESERVED_JOIN||e===Yr.ARRAY_KEYWORD||e===Yr.CASE||e===Yr.END||e===Yr.WHEN||e===Yr.ELSE||e===Yr.THEN||e===Yr.LIMIT||e===Yr.BETWEEN||e===Yr.AND||e===Yr.OR||e===Yr.XOR,jr=gr(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),Jr=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),Qr=gr(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),Zr=gr(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),zr=gr(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),en=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),tn=gr(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),sn=gr([]),an={name:"bigquery",tokenizerOptions:{reservedSelect:jr,reservedClauses:[...Jr,...Zr,...Qr],reservedSetOperations:zr,reservedJoins:en,reservedKeywordPhrases:tn,reservedDataTypePhrases:sn,reservedKeywords:["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],reservedDataTypes:["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"],reservedFunctionNames:["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"],extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:function(e){return function(e){let t=Wr;return e.map(e=>"OFFSET"===e.text&&"["===t.text?(t=e,Object.assign(Object.assign({},e),{type:Yr.RESERVED_FUNCTION_NAME})):(t=e,e))}(function(e){var t;const s=[];for(let a=0;a<e.length;a++){const r=e[a];if((Kr.ARRAY(r)||Kr.STRUCT(r))&&"<"===(null===(t=e[a+1])||void 0===t?void 0:t.text)){const t=nn(e,a+1),n=e.slice(a,t+1);s.push({type:Yr.IDENTIFIER,raw:n.map(rn("raw")).join(""),text:n.map(rn("text")).join(""),start:r.start}),a=t}else s.push(r)}return s}(e))}},formatOptions:{onelineClauses:[...Qr,...Zr],tabularOnelineClauses:Zr}};const rn=e=>t=>t.type===Yr.IDENTIFIER||t.type===Yr.COMMA?t[e]+" ":t[e];function nn(e,t){let s=0;for(let a=t;a<e.length;a++){const t=e[a];if("<"===t.text?s++:">"===t.text?s--:">>"===t.text&&(s-=2),0===s)return a}return e.length-1}const on=gr(["SELECT [ALL | DISTINCT]"]),ln=gr(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),En=gr(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),cn=gr(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),Tn=gr(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),pn=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),un=gr(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),mn=gr([]),_n={name:"db2",tokenizerOptions:{reservedSelect:on,reservedClauses:[...ln,...En,...cn],reservedSetOperations:Tn,reservedJoins:pn,reservedKeywordPhrases:un,reservedDataTypePhrases:mn,reservedKeywords:["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],reservedDataTypes:["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"],reservedFunctionNames:["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"],extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","¬=","¬>","¬<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...En,...cn],tabularOnelineClauses:cn}},An=gr(["SELECT [ALL | DISTINCT]"]),Rn=gr(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),Sn=gr(["CREATE [OR REPLACE] TABLE"]),dn=gr(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),On=gr(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),In=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),Nn=gr(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),bn=gr([]),Cn={name:"db2i",tokenizerOptions:{reservedSelect:An,reservedClauses:[...Rn,...Sn,...dn],reservedSetOperations:On,reservedJoins:In,reservedKeywordPhrases:Nn,reservedDataTypePhrases:bn,reservedKeywords:["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],reservedDataTypes:["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"],reservedFunctionNames:["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"],nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","¬=","¬>","¬<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...Sn,...dn],tabularOnelineClauses:dn}},yn=gr(["SELECT [ALL | DISTINCT]"]),Ln=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),hn=gr(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),fn=gr(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),$n=gr(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),Dn=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),Pn=gr(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM"]),gn=gr(["TIMESTAMP WITH TIME ZONE"]),xn={name:"duckdb",tokenizerOptions:{reservedSelect:yn,reservedClauses:[...Ln,...hn,...fn],reservedSetOperations:$n,reservedJoins:Dn,reservedKeywordPhrases:Pn,reservedDataTypePhrases:gn,supportsXor:!0,reservedKeywords:["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","IS","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],reservedDataTypes:["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"],reservedFunctionNames:["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","RANK","ROW_NUMBER"],nestedBlockComments:!0,extraParens:["[]","{}"],underscoresInNumbers:!0,stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->","->>",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...hn,...fn],tabularOnelineClauses:fn}},wn=gr(["SELECT [ALL | DISTINCT]"]),Mn=gr(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),Un=gr(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),vn=gr(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),kn=gr(["UNION [ALL | DISTINCT]"]),Gn=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),Bn=gr(["{ROWS | RANGE} BETWEEN"]),Hn=gr([]),Fn={name:"hive",tokenizerOptions:{reservedSelect:wn,reservedClauses:[...Mn,...Un,...vn],reservedSetOperations:kn,reservedJoins:Gn,reservedKeywordPhrases:Bn,reservedDataTypePhrases:Hn,reservedKeywords:["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],reservedDataTypes:["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"],reservedFunctionNames:["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"],extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...Un,...vn],tabularOnelineClauses:vn}};function Yn(e){return e.map((t,s)=>{const a=e[s+1]||Wr;if(Kr.SET(t)&&"("===a.text)return Object.assign(Object.assign({},t),{type:Yr.RESERVED_FUNCTION_NAME});const r=e[s-1]||Wr;return Kr.VALUES(t)&&"="===r.text?Object.assign(Object.assign({},t),{type:Yr.RESERVED_FUNCTION_NAME}):t})}const Vn=gr(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),Wn=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),Xn=gr(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),Kn=gr(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),qn=gr(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),jn=gr(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Jn=gr(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),Qn=gr([]),Zn={name:"mariadb",tokenizerOptions:{reservedSelect:Vn,reservedClauses:[...Wn,...Xn,...Kn],reservedSetOperations:qn,reservedJoins:jn,reservedKeywordPhrases:Jn,reservedDataTypePhrases:Qn,supportsXor:!0,reservedKeywords:["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],reservedDataTypes:["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],reservedFunctionNames:["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"],stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:Yn},formatOptions:{onelineClauses:[...Xn,...Kn],tabularOnelineClauses:Kn}},zn=gr(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),eo=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),to=gr(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),so=gr(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),ao=gr(["UNION [ALL | DISTINCT]"]),ro=gr(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),no=gr(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),oo=gr([]),lo={name:"mysql",tokenizerOptions:{reservedSelect:zn,reservedClauses:[...eo,...to,...so],reservedSetOperations:ao,reservedJoins:ro,reservedKeywordPhrases:no,reservedDataTypePhrases:oo,supportsXor:!0,reservedKeywords:["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],reservedDataTypes:["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],reservedFunctionNames:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:Yn},formatOptions:{onelineClauses:[...to,...so],tabularOnelineClauses:so}},io=gr(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),Eo=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),co=gr(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),To=gr(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),po=gr(["UNION [ALL | DISTINCT]"]),uo=gr(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),mo=gr(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),_o=gr([]),Ao={name:"tidb",tokenizerOptions:{reservedSelect:io,reservedClauses:[...Eo,...co,...To],reservedSetOperations:po,reservedJoins:uo,reservedKeywordPhrases:mo,reservedDataTypePhrases:_o,supportsXor:!0,reservedKeywords:["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],reservedDataTypes:["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],reservedFunctionNames:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:Yn},formatOptions:{onelineClauses:[...co,...To],tabularOnelineClauses:To}},Ro=gr(["SELECT [ALL | DISTINCT]"]),So=gr(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),Oo=gr(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),Io=gr(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),No=gr(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),bo=gr(["{ROWS | RANGE | GROUPS} BETWEEN"]),Co=gr([]),yo={name:"n1ql",tokenizerOptions:{reservedSelect:Ro,reservedClauses:[...So,...Oo],reservedSetOperations:Io,reservedJoins:No,reservedKeywordPhrases:bo,reservedDataTypePhrases:Co,supportsXor:!0,reservedKeywords:["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],reservedDataTypes:[],reservedFunctionNames:["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:Oo}},Lo=gr(["SELECT [ALL | DISTINCT | UNIQUE]"]),ho=gr(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),fo=gr(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),$o=gr(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),Do=gr(["UNION [ALL]","MINUS","INTERSECT"]),Po=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),go=gr(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),xo=gr([]),wo={name:"plsql",tokenizerOptions:{reservedSelect:Lo,reservedClauses:[...ho,...fo,...$o],reservedSetOperations:Do,reservedJoins:Po,reservedKeywordPhrases:go,reservedDataTypePhrases:xo,supportsXor:!0,reservedKeywords:["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],reservedDataTypes:["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"],reservedFunctionNames:["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"],stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:function(e){let t=Wr;return e.map(e=>Kr.SET(e)&&Kr.BY(t)?Object.assign(Object.assign({},e),{type:Yr.RESERVED_KEYWORD}):(qr(e.type)&&(t=e),e))}},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...fo,...$o],tabularOnelineClauses:$o}};const Mo=gr(["SELECT [ALL | DISTINCT]"]),Uo=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),vo=gr(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),ko=gr(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),Go=gr(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Bo=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Ho=gr(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),Fo=gr(["[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE"]),Yo={name:"postgresql",tokenizerOptions:{reservedSelect:Mo,reservedClauses:[...Uo,...vo,...ko],reservedSetOperations:Go,reservedJoins:Bo,reservedKeywordPhrases:Ho,reservedDataTypePhrases:Fo,reservedKeywords:["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],reservedDataTypes:["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","UUID","VARCHAR","XML","ZONE"],reservedFunctionNames:["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","GEN_RANDOM_UUID","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"],nestedBlockComments:!0,extraParens:["[]"],underscoresInNumbers:!0,stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...vo,...ko],tabularOnelineClauses:ko}},Vo=gr(["SELECT [ALL | DISTINCT]"]),Wo=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),Xo=gr(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),Ko=gr(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),qo=gr(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),jo=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Jo=gr(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),Qo=gr([]),Zo={name:"redshift",tokenizerOptions:{reservedSelect:Vo,reservedClauses:[...Wo,...Xo,...Ko],reservedSetOperations:qo,reservedJoins:jo,reservedKeywordPhrases:Jo,reservedDataTypePhrases:Qo,reservedKeywords:["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],reservedDataTypes:["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"],reservedFunctionNames:["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"],extraParens:["[]"],stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Xo,...Ko],tabularOnelineClauses:Ko}},zo=gr(["SELECT [ALL | DISTINCT]"]),el=gr(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),tl=gr(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),sl=gr(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),al=gr(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),rl=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),nl=gr(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),ol=gr([]),ll={name:"spark",tokenizerOptions:{reservedSelect:zo,reservedClauses:[...el,...tl,...sl],reservedSetOperations:al,reservedJoins:rl,reservedKeywordPhrases:nl,reservedDataTypePhrases:ol,supportsXor:!0,reservedKeywords:["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],reservedDataTypes:["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"],reservedFunctionNames:["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"],extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:function(e){return e.map((t,s)=>{const a=e[s-1]||Wr,r=e[s+1]||Wr;return Kr.WINDOW(t)&&r.type===Yr.OPEN_PAREN?Object.assign(Object.assign({},t),{type:Yr.RESERVED_FUNCTION_NAME}):"ITEMS"!==t.text||t.type!==Yr.RESERVED_KEYWORD||"COLLECTION"===a.text&&"TERMINATED"===r.text?t:Object.assign(Object.assign({},t),{type:Yr.IDENTIFIER,text:t.raw})})}},formatOptions:{onelineClauses:[...tl,...sl],tabularOnelineClauses:sl}};const il=gr(["SELECT [ALL | DISTINCT]"]),El=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","RETURNING"]),cl=gr(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),Tl=gr(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),pl=gr(["UNION [ALL]","EXCEPT","INTERSECT"]),ul=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),ml=gr(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),_l=gr([]),Al={name:"sqlite",tokenizerOptions:{reservedSelect:il,reservedClauses:[...El,...cl,...Tl],reservedSetOperations:pl,reservedJoins:ul,reservedKeywordPhrases:ml,reservedDataTypePhrases:_l,reservedKeywords:["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],reservedDataTypes:["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"],reservedFunctionNames:["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"],stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...cl,...Tl],tabularOnelineClauses:Tl}},Rl=gr(["SELECT [ALL | DISTINCT]"]),Sl=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),dl=gr(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),Ol=gr(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),Il=gr(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Nl=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),bl=gr(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),Cl=gr([]),yl={name:"sql",tokenizerOptions:{reservedSelect:Rl,reservedClauses:[...Sl,...dl,...Ol],reservedSetOperations:Il,reservedJoins:Nl,reservedKeywordPhrases:bl,reservedDataTypePhrases:Cl,reservedKeywords:["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],reservedDataTypes:["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],reservedFunctionNames:["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"],stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...dl,...Ol],tabularOnelineClauses:Ol}},Ll=gr(["SELECT [ALL | DISTINCT]"]),hl=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),fl=gr(["CREATE TABLE [IF NOT EXISTS]"]),$l=gr(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),Dl=gr(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Pl=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),gl=gr(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),xl=gr([]),wl={name:"trino",tokenizerOptions:{reservedSelect:Ll,reservedClauses:[...hl,...fl,...$l],reservedSetOperations:Dl,reservedJoins:Pl,reservedKeywordPhrases:gl,reservedDataTypePhrases:xl,reservedKeywords:["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],reservedDataTypes:["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"],reservedFunctionNames:["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"],extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...fl,...$l],tabularOnelineClauses:$l}},Ml=gr(["SELECT [ALL | DISTINCT]"]),Ul=gr(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET"]),vl=gr(["CREATE TABLE"]),kl=gr(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","CREATE [OR ALTER] [PARTITION] {FUNCTION | PROCEDURE | PROC}","ALTER [PARTITION] {FUNCTION | PROCEDURE | PROC}","DROP [PARTITION] {FUNCTION | PROCEDURE | PROC} [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION SCHEME","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),Gl=gr(["UNION [ALL]","EXCEPT","INTERSECT"]),Bl=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),Hl=gr(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),Fl=gr([]),Yl={name:"transactsql",tokenizerOptions:{reservedSelect:Ml,reservedClauses:[...Ul,...vl,...kl],reservedSetOperations:Gl,reservedJoins:Bl,reservedKeywordPhrases:Hl,reservedDataTypePhrases:Fl,reservedKeywords:["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],reservedDataTypes:["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],reservedFunctionNames:["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"],nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]},"{}"],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...vl,...kl],tabularOnelineClauses:kl}},Vl=gr(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),Wl=gr(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),Xl=gr(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),Kl=gr(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),ql=gr(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),jl=gr(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Jl=gr(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),Ql=gr([]),Zl={name:"singlestoredb",tokenizerOptions:{reservedSelect:Vl,reservedClauses:[...Wl,...Xl,...Kl],reservedSetOperations:ql,reservedJoins:jl,reservedKeywordPhrases:Jl,reservedDataTypePhrases:Ql,reservedKeywords:["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],reservedDataTypes:["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"],reservedFunctionNames:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"],stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:Yn},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...Xl,...Kl],tabularOnelineClauses:Kl}},zl=gr(["SELECT [ALL | DISTINCT]"]),ei=gr(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),ti=gr(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),si=gr(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),ai=gr(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),ri=gr(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),ni=gr(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),oi=gr([]),li={name:"snowflake",tokenizerOptions:{reservedSelect:zl,reservedClauses:[...ei,...ti,...si],reservedSetOperations:ai,reservedJoins:ri,reservedKeywordPhrases:ni,reservedDataTypePhrases:oi,reservedKeywords:["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],reservedDataTypes:["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"],reservedFunctionNames:["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IDENTIFIER","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER — Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"],stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...ti,...si],tabularOnelineClauses:si}},ii=e=>e[e.length-1],Ei=e=>e.sort((e,t)=>t.length-e.length||e.localeCompare(t)),ci=e=>e.replace(/\s+/gu," "),Ti=e=>/\n/.test(e),pi=e=>e.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),ui=/\s+/uy,mi=e=>new RegExp(`(?:${e})`,"uy"),_i=e=>e.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),Ai=(e,t=[])=>{const s="open"===e?0:1,a=["()",...t].map(e=>e[s]);return mi(a.map(pi).join("|"))},Ri=e=>mi(`${Ei(e).map(pi).join("|")}`),Si=(e,t={})=>{if(0===e.length)return/^\b$/u;const s=(({rest:e,dashes:t})=>e||t?`(?![${e||""}${t?"-":""}])`:"")(t),a=Ei(e).map(pi).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${a})${s}\\b`,"iuy")},di=(e,t)=>{if(!e.length)return;const s=e.map(pi).join("|");return mi(`(?:${s})(?:${t})`)},Oi={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":(()=>{const e={"<":">","[":"]","(":")","{":"}"},t=Object.entries(e).map(([e,t])=>"{left}(?:(?!{right}').)*?{right}".replace(/{left}/g,pi(e)).replace(/{right}/g,pi(t))),s=pi(Object.keys(e).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${s}])(?:(?!\k<tag>').)*?\k<tag>`}|${t.join("|")})'`})()},Ii=e=>"string"==typeof e?Oi[e]:"regex"in e?e.regex:(({prefixes:e,requirePrefix:t})=>`(?:${e.map(_i).join("|")}${t?"":"|"})`)(e)+Oi[e.quote],Ni=e=>e.map(Ii).join("|"),bi=e=>mi(Ni(e)),Ci=(e={})=>mi(yi(e)),yi=({first:e,rest:t,dashes:s,allowFirstCharNumber:a}={})=>{const r="\\p{Alphabetic}\\p{Mark}_",n="\\p{Decimal_Number}",o=pi(null!=e?e:""),l=pi(null!=t?t:""),i=a?`[${r}${n}${o}][${r}${n}${l}]*`:`[${r}${o}][${r}${n}${l}]*`;return s?(e=>e+"(?:-"+e+")*")(i):i};function Li(e,t){const s=e.slice(0,t).split(/\n/);return{line:s.length,col:s[s.length-1].length+1}}class hi{constructor(e,t){this.rules=e,this.dialectName=t,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;const t=[];let s;for(;this.index<this.input.length;){const e=this.getWhitespace();if(this.index<this.input.length){if(s=this.getNextToken(),!s)throw this.createParseError();t.push(Object.assign(Object.assign({},s),{precedingWhitespace:e}))}}return t}createParseError(){const e=this.input.slice(this.index,this.index+10),{line:t,col:s}=Li(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${t} column ${s}.\n${this.dialectInfo()}`)}dialectInfo(){return"sql"===this.dialectName?'This likely happens because you\'re using the default "sql" dialect.\nIf possible, please select a more specific dialect (like sqlite, postgresql, etc).':`SQL dialect used: "${this.dialectName}".`}getWhitespace(){ui.lastIndex=this.index;const e=ui.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(const e of this.rules){const t=this.match(e);if(t)return t}}match(e){e.regex.lastIndex=this.index;const t=e.regex.exec(this.input);if(t){const s=t[0],a={type:e.type,raw:s,text:e.text?e.text(s):s,start:this.index};return e.key&&(a.key=e.key(s)),this.index+=s.length,a}}}const fi=/\/\*/uy,$i=/[\s\S]/uy,Di=/\*\//uy;class Pi{constructor(){this.lastIndex=0}exec(e){let t,s="",a=0;if(!(t=this.matchSection(fi,e)))return null;for(s+=t,a++;a>0;)if(t=this.matchSection(fi,e))s+=t,a++;else if(t=this.matchSection(Di,e))s+=t,a--;else{if(!(t=this.matchSection($i,e)))return null;s+=t}return[s]}matchSection(e,t){e.lastIndex=this.lastIndex;const s=e.exec(t);return s&&(this.lastIndex+=s[0].length),s?s[0]:null}}class gi{constructor(e,t){this.cfg=e,this.dialectName=t,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,t){const s=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,t),...this.rulesAfterParams],a=new hi(s,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(a):a}buildRulesBeforeParams(e){var t,s,a,r;return this.validRules([{type:Yr.DISABLE_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:Yr.BLOCK_COMMENT,regex:e.nestedBlockComments?new Pi:/(\/\*[^]*?\*\/)/uy},{type:Yr.LINE_COMMENT,regex:(r=null!==(t=e.lineCommentTypes)&&void 0!==t?t:["--"],new RegExp(`(?:${r.map(pi).join("|")}).*?(?=\r\n|\r|\n|$)`,"uy"))},{type:Yr.QUOTED_IDENTIFIER,regex:bi(e.identTypes)},{type:Yr.NUMBER,regex:e.underscoresInNumbers?/(?:0x[0-9a-fA-F_]+|0b[01_]+|(?:-\s*)?(?:[0-9_]*\.[0-9_]+|[0-9_]+(?:\.[0-9_]*)?)(?:[eE][-+]?[0-9_]+(?:\.[0-9_]+)?)?)(?![\w\p{Alphabetic}])/uy:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:Yr.RESERVED_KEYWORD_PHRASE,regex:Si(null!==(s=e.reservedKeywordPhrases)&&void 0!==s?s:[],e.identChars),text:xi},{type:Yr.RESERVED_DATA_TYPE_PHRASE,regex:Si(null!==(a=e.reservedDataTypePhrases)&&void 0!==a?a:[],e.identChars),text:xi},{type:Yr.CASE,regex:/CASE\b/iuy,text:xi},{type:Yr.END,regex:/END\b/iuy,text:xi},{type:Yr.BETWEEN,regex:/BETWEEN\b/iuy,text:xi},{type:Yr.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:xi},{type:Yr.RESERVED_CLAUSE,regex:Si(e.reservedClauses,e.identChars),text:xi},{type:Yr.RESERVED_SELECT,regex:Si(e.reservedSelect,e.identChars),text:xi},{type:Yr.RESERVED_SET_OPERATION,regex:Si(e.reservedSetOperations,e.identChars),text:xi},{type:Yr.WHEN,regex:/WHEN\b/iuy,text:xi},{type:Yr.ELSE,regex:/ELSE\b/iuy,text:xi},{type:Yr.THEN,regex:/THEN\b/iuy,text:xi},{type:Yr.RESERVED_JOIN,regex:Si(e.reservedJoins,e.identChars),text:xi},{type:Yr.AND,regex:/AND\b/iuy,text:xi},{type:Yr.OR,regex:/OR\b/iuy,text:xi},{type:Yr.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:xi},...e.operatorKeyword?[{type:Yr.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:Yr.RESERVED_FUNCTION_NAME,regex:Si(e.reservedFunctionNames,e.identChars),text:xi},{type:Yr.RESERVED_DATA_TYPE,regex:Si(e.reservedDataTypes,e.identChars),text:xi},{type:Yr.RESERVED_KEYWORD,regex:Si(e.reservedKeywords,e.identChars),text:xi}])}buildRulesAfterParams(e){var t,s,a;return this.validRules([{type:Yr.VARIABLE,regex:e.variableTypes?(a=e.variableTypes,mi(a.map(e=>"regex"in e?e.regex:Ii(e)).join("|"))):void 0},{type:Yr.STRING,regex:bi(e.stringTypes)},{type:Yr.IDENTIFIER,regex:Ci(e.identChars)},{type:Yr.DELIMITER,regex:/[;]/uy},{type:Yr.COMMA,regex:/[,]/y},{type:Yr.OPEN_PAREN,regex:Ai("open",e.extraParens)},{type:Yr.CLOSE_PAREN,regex:Ai("close",e.extraParens)},{type:Yr.OPERATOR,regex:Ri(["+","-","/",">","<","=","<>","<=",">=","!=",...null!==(t=e.operators)&&void 0!==t?t:[]])},{type:Yr.ASTERISK,regex:/[*]/uy},{type:Yr.PROPERTY_ACCESS_OPERATOR,regex:Ri([".",...null!==(s=e.propertyAccessOperators)&&void 0!==s?s:[]])}])}buildParamRules(e,t){var s,a,r,n,o;const l={named:(null==t?void 0:t.named)||(null===(s=e.paramTypes)||void 0===s?void 0:s.named)||[],quoted:(null==t?void 0:t.quoted)||(null===(a=e.paramTypes)||void 0===a?void 0:a.quoted)||[],numbered:(null==t?void 0:t.numbered)||(null===(r=e.paramTypes)||void 0===r?void 0:r.numbered)||[],positional:"boolean"==typeof(null==t?void 0:t.positional)?t.positional:null===(n=e.paramTypes)||void 0===n?void 0:n.positional,custom:(null==t?void 0:t.custom)||(null===(o=e.paramTypes)||void 0===o?void 0:o.custom)||[]};return this.validRules([{type:Yr.NAMED_PARAMETER,regex:di(l.named,yi(e.paramChars||e.identChars)),key:e=>e.slice(1)},{type:Yr.QUOTED_PARAMETER,regex:di(l.quoted,Ni(e.identTypes)),key:e=>(({tokenKey:e,quoteChar:t})=>e.replace(new RegExp(pi("\\"+t),"gu"),t))({tokenKey:e.slice(2,-1),quoteChar:e.slice(-1)})},{type:Yr.NUMBERED_PARAMETER,regex:di(l.numbered,"[0-9]+"),key:e=>e.slice(1)},{type:Yr.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(e=>{var t;return{type:Yr.CUSTOM_PARAMETER,regex:mi(e.regex),key:null!==(t=e.key)&&void 0!==t?t:e=>e}})])}validRules(e){return e.filter(e=>Boolean(e.regex))}}const xi=e=>ci(e.toUpperCase()),wi=new Map,Mi=e=>({tokenizer:new gi(e.tokenizerOptions,e.name),formatOptions:Ui(e.formatOptions)}),Ui=e=>{var t;return{alwaysDenseOperators:e.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(e.onelineClauses.map(e=>[e,!0])),tabularOnelineClauses:Object.fromEntries((null!==(t=e.tabularOnelineClauses)&&void 0!==t?t:e.onelineClauses).map(e=>[e,!0]))}};function vi(e){return"tabularLeft"===e.indentStyle||"tabularRight"===e.indentStyle}class ki{constructor(e){this.params=e,this.index=0}get({key:e,text:t}){return this.params?e?this.params[e]:this.params[this.index++]:t}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}}var Gi=c(8831);const Bi=(e,t,s)=>{if(qr(e.type)){const a=Wi(s,t);if(a&&a.type===Yr.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},e),{type:Yr.IDENTIFIER,text:e.raw});const r=Xi(s,t);if(r&&r.type===Yr.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},e),{type:Yr.IDENTIFIER,text:e.raw})}return e},Hi=(e,t,s)=>{if(e.type===Yr.RESERVED_FUNCTION_NAME){const a=Xi(s,t);if(!a||!Ki(a))return Object.assign(Object.assign({},e),{type:Yr.IDENTIFIER,text:e.raw})}return e},Fi=(e,t,s)=>{if(e.type===Yr.RESERVED_DATA_TYPE){const a=Xi(s,t);if(a&&Ki(a))return Object.assign(Object.assign({},e),{type:Yr.RESERVED_PARAMETERIZED_DATA_TYPE})}return e},Yi=(e,t,s)=>{if(e.type===Yr.IDENTIFIER){const a=Xi(s,t);if(a&&qi(a))return Object.assign(Object.assign({},e),{type:Yr.ARRAY_IDENTIFIER})}return e},Vi=(e,t,s)=>{if(e.type===Yr.RESERVED_DATA_TYPE){const a=Xi(s,t);if(a&&qi(a))return Object.assign(Object.assign({},e),{type:Yr.ARRAY_KEYWORD})}return e},Wi=(e,t)=>Xi(e,t,-1),Xi=(e,t,s=1)=>{let a=1;for(;e[t+a*s]&&ji(e[t+a*s]);)a++;return e[t+a*s]},Ki=e=>e.type===Yr.OPEN_PAREN&&"("===e.text,qi=e=>e.type===Yr.OPEN_PAREN&&"["===e.text,ji=e=>e.type===Yr.BLOCK_COMMENT||e.type===Yr.LINE_COMMENT;class Ji{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,t){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){const{line:t,col:s}=Li(this.input,e.start);return`Parse error at token: ${e.text} at line ${t} column ${s}`}has(e){return e in Yr}}var Qi;function Zi(e){return e[0]}!function(e){e.statement="statement",e.clause="clause",e.set_operation="set_operation",e.function_call="function_call",e.parameterized_data_type="parameterized_data_type",e.array_subscript="array_subscript",e.property_access="property_access",e.parenthesis="parenthesis",e.between_predicate="between_predicate",e.case_expression="case_expression",e.case_when="case_when",e.case_else="case_else",e.limit_clause="limit_clause",e.all_columns_asterisk="all_columns_asterisk",e.literal="literal",e.identifier="identifier",e.keyword="keyword",e.data_type="data_type",e.parameter="parameter",e.operator="operator",e.comma="comma",e.line_comment="line_comment",e.block_comment="block_comment",e.disable_comment="disable_comment"}(Qi=Qi||(Qi={}));const zi=new Ji(e=>[]),eE=([[e]])=>e,tE=e=>({type:Qi.keyword,tokenType:e.type,text:e.text,raw:e.raw}),sE=e=>({type:Qi.data_type,text:e.text,raw:e.raw}),aE=(e,{leading:t,trailing:s})=>((null==t?void 0:t.length)&&(e=Object.assign(Object.assign({},e),{leadingComments:t})),(null==s?void 0:s.length)&&(e=Object.assign(Object.assign({},e),{trailingComments:s})),e),rE=(e,{leading:t,trailing:s})=>{if(null==t?void 0:t.length){const[s,...a]=e;e=[aE(s,{leading:t}),...a]}if(null==s?void 0:s.length){const t=e.slice(0,-1),a=e[e.length-1];e=[...t,aE(a,{trailing:s})]}return e},nE={Lexer:zi,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:e=>e[0].concat([e[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([e])=>{const t=e[e.length-1];return t&&!t.hasSemicolon?t.children.length>0?e:e.slice(0,-1):e}},{name:"statement$subexpression$1",symbols:[zi.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[zi.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([e,[t]])=>({type:Qi.statement,children:e,hasSemicolon:t.type===Yr.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:e=>e[0].concat([e[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([e,t])=>[...e,...t]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:eE},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[zi.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:Zi},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[zi.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([e,t,s,a])=>{if(a){const[r,n]=a;return{type:Qi.limit_clause,limitKw:aE(tE(e),{trailing:t}),offset:s,count:n}}return{type:Qi.limit_clause,limitKw:aE(tE(e),{trailing:t}),count:s}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[zi.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([e,[t,s]])=>({type:Qi.clause,nameKw:tE(e),children:[t,...s]})},{name:"select_clause",symbols:[zi.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([e])=>({type:Qi.clause,nameKw:tE(e),children:[]})},{name:"all_columns_asterisk",symbols:[zi.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:Qi.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"other_clause",symbols:[zi.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([e,t])=>({type:Qi.clause,nameKw:tE(e),children:t})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"set_operation",symbols:[zi.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([e,t])=>({type:Qi.set_operation,nameKw:tE(e),children:t})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:e=>e[0].concat([e[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:Zi},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:e=>e[0].concat([e[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([e,t])=>[e,...t]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:e=>e[0].concat([e[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([e,t])=>[e,...t]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([e,t])=>aE(e,{trailing:t})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([e,t])=>aE(t,{leading:e})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([e,t])=>aE(t,{leading:e})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:eE},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:eE},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:eE},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:eE},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:eE},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:eE},{name:"array_subscript",symbols:[zi.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([e,t,s])=>({type:Qi.array_subscript,array:aE({type:Qi.identifier,quoted:!1,text:e.text},{trailing:t}),parenthesis:s})},{name:"array_subscript",symbols:[zi.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([e,t,s])=>({type:Qi.array_subscript,array:aE(tE(e),{trailing:t}),parenthesis:s})},{name:"function_call",symbols:[zi.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([e,t,s])=>({type:Qi.function_call,nameKw:aE(tE(e),{trailing:t}),parenthesis:s})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([e,t,s])=>({type:Qi.parenthesis,children:t,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([e,t,s])=>({type:Qi.parenthesis,children:t,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([e,t,s])=>({type:Qi.parenthesis,children:t,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",zi.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([e,t,s,a,[r]])=>({type:Qi.property_access,object:aE(e,{trailing:t}),operator:s.text,property:aE(r,{leading:a})})},{name:"between_predicate",symbols:[zi.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",zi.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([e,t,s,a,r,n,o])=>({type:Qi.between_predicate,betweenKw:tE(e),expr1:rE(s,{leading:t,trailing:a}),andKw:tE(r),expr2:[aE(o,{leading:n})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:Zi},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:e=>e[0].concat([e[1]])},{name:"case_expression",symbols:[zi.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",zi.has("END")?{type:"END"}:END],postprocess:([e,t,s,a,r])=>({type:Qi.case_expression,caseKw:aE(tE(e),{trailing:t}),endKw:tE(r),expr:s||[],clauses:a})},{name:"case_clause",symbols:[zi.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",zi.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([e,t,s,a,r,n])=>({type:Qi.case_when,whenKw:aE(tE(e),{trailing:t}),thenKw:aE(tE(a),{trailing:r}),condition:s,result:n})},{name:"case_clause",symbols:[zi.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([e,t,s])=>({type:Qi.case_else,elseKw:aE(tE(e),{trailing:t}),result:s})},{name:"comma$subexpression$1",symbols:[zi.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[e]])=>({type:Qi.comma})},{name:"asterisk$subexpression$1",symbols:[zi.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[e]])=>({type:Qi.operator,text:e.text})},{name:"operator$subexpression$1",symbols:[zi.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[e]])=>({type:Qi.operator,text:e.text})},{name:"identifier$subexpression$1",symbols:[zi.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[zi.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[zi.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[e]])=>({type:Qi.identifier,quoted:"IDENTIFIER"!==e.type,text:e.text})},{name:"parameter$subexpression$1",symbols:[zi.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[zi.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[zi.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[zi.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[zi.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[e]])=>({type:Qi.parameter,key:e.key,text:e.text})},{name:"literal$subexpression$1",symbols:[zi.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[zi.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[e]])=>({type:Qi.literal,text:e.text})},{name:"keyword$subexpression$1",symbols:[zi.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[zi.has("RESERVED_KEYWORD_PHRASE")?{type:"RESERVED_KEYWORD_PHRASE"}:RESERVED_KEYWORD_PHRASE]},{name:"keyword$subexpression$1",symbols:[zi.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[e]])=>tE(e)},{name:"data_type$subexpression$1",symbols:[zi.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type$subexpression$1",symbols:[zi.has("RESERVED_DATA_TYPE_PHRASE")?{type:"RESERVED_DATA_TYPE_PHRASE"}:RESERVED_DATA_TYPE_PHRASE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[e]])=>sE(e)},{name:"data_type",symbols:[zi.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([e,t,s])=>({type:Qi.parameterized_data_type,dataType:aE(sE(e),{trailing:t}),parenthesis:s})},{name:"logic_operator$subexpression$1",symbols:[zi.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[zi.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[zi.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[e]])=>tE(e)},{name:"other_keyword$subexpression$1",symbols:[zi.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[zi.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[zi.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[zi.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[e]])=>tE(e)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:e=>e[0].concat([e[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([e])=>e},{name:"comment",symbols:[zi.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([e])=>({type:Qi.line_comment,text:e.text,precedingWhitespace:e.precedingWhitespace})},{name:"comment",symbols:[zi.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([e])=>({type:Qi.block_comment,text:e.text,precedingWhitespace:e.precedingWhitespace})},{name:"comment",symbols:[zi.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([e])=>({type:Qi.disable_comment,text:e.text,precedingWhitespace:e.precedingWhitespace})}],ParserStart:"main"},oE=nE,{Parser:lE,Grammar:iE}=Gi;var EE;!function(e){e[e.SPACE=0]="SPACE",e[e.NO_SPACE=1]="NO_SPACE",e[e.NO_NEWLINE=2]="NO_NEWLINE",e[e.NEWLINE=3]="NEWLINE",e[e.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",e[e.INDENT=5]="INDENT",e[e.SINGLE_INDENT=6]="SINGLE_INDENT"}(EE=EE||(EE={}));class cE{constructor(e){this.indentation=e,this.items=[]}add(...e){for(const t of e)switch(t){case EE.SPACE:this.items.push(EE.SPACE);break;case EE.NO_SPACE:this.trimHorizontalWhitespace();break;case EE.NO_NEWLINE:this.trimWhitespace();break;case EE.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(EE.NEWLINE);break;case EE.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(EE.MANDATORY_NEWLINE);break;case EE.INDENT:this.addIndentation();break;case EE.SINGLE_INDENT:this.items.push(EE.SINGLE_INDENT);break;default:this.items.push(t)}}trimHorizontalWhitespace(){for(;TE(ii(this.items));)this.items.pop()}trimWhitespace(){for(;pE(ii(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(ii(this.items)){case EE.NEWLINE:this.items.pop(),this.items.push(e);break;case EE.MANDATORY_NEWLINE:break;default:this.items.push(e)}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(EE.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case EE.SPACE:return" ";case EE.NEWLINE:case EE.MANDATORY_NEWLINE:return"\n";case EE.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}}const TE=e=>e===EE.SPACE||e===EE.SINGLE_INDENT,pE=e=>e===EE.SPACE||e===EE.SINGLE_INDENT||e===EE.NEWLINE;function uE(e,t){if("standard"===t)return e;let s=[];return e.length>=10&&e.includes(" ")&&([e,...s]=e.split(" ")),(e="tabularLeft"===t?e.padEnd(9," "):e.padStart(9," "))+["",...s].join(" ")}function mE(e){return(e=>e===Yr.AND||e===Yr.OR||e===Yr.XOR)(e)||e===Yr.RESERVED_CLAUSE||e===Yr.RESERVED_SELECT||e===Yr.RESERVED_SET_OPERATION||e===Yr.RESERVED_JOIN||e===Yr.LIMIT}const _E="top-level";class AE{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(_E)}increaseBlockLevel(){this.indentTypes.push("block-level")}decreaseTopLevel(){this.indentTypes.length>0&&ii(this.indentTypes)===_E&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0;){if(this.indentTypes.pop()!==_E)break}}}class RE extends cE{constructor(e){super(new AE("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(e=>this.addToLength(e)),this.length>this.expressionWidth)throw new SE;super.add(...e)}addToLength(e){if("string"==typeof e)this.length+=e.length,this.trailingSpace=!1;else{if(e===EE.MANDATORY_NEWLINE||e===EE.NEWLINE)throw new SE;e===EE.INDENT||e===EE.SINGLE_INDENT||e===EE.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):e!==EE.NO_NEWLINE&&e!==EE.NO_SPACE||this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}}class SE extends Error{}class dE{constructor({cfg:e,dialectCfg:t,params:s,layout:a,inline:r=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=t,this.inline=r,this.params=s,this.layout=a}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case Qi.function_call:return this.formatFunctionCall(e);case Qi.parameterized_data_type:return this.formatParameterizedDataType(e);case Qi.array_subscript:return this.formatArraySubscript(e);case Qi.property_access:return this.formatPropertyAccess(e);case Qi.parenthesis:return this.formatParenthesis(e);case Qi.between_predicate:return this.formatBetweenPredicate(e);case Qi.case_expression:return this.formatCaseExpression(e);case Qi.case_when:return this.formatCaseWhen(e);case Qi.case_else:return this.formatCaseElse(e);case Qi.clause:return this.formatClause(e);case Qi.set_operation:return this.formatSetOperation(e);case Qi.limit_clause:return this.formatLimitClause(e);case Qi.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case Qi.literal:return this.formatLiteral(e);case Qi.identifier:return this.formatIdentifier(e);case Qi.parameter:return this.formatParameter(e);case Qi.operator:return this.formatOperator(e);case Qi.comma:return this.formatComma(e);case Qi.line_comment:return this.formatLineComment(e);case Qi.block_comment:case Qi.disable_comment:return this.formatBlockComment(e);case Qi.data_type:return this.formatDataType(e);case Qi.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let t;switch(e.array.type){case Qi.data_type:t=this.showDataType(e.array);break;case Qi.keyword:t=this.showKw(e.array);break;default:t=this.showIdentifier(e.array)}this.withComments(e.array,()=>{this.layout.add(t)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(EE.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){const t=this.formatInlineExpression(e.children);t?(this.layout.add(e.openParen),this.layout.add(...t.getLayoutItems()),this.layout.add(EE.NO_SPACE,e.closeParen,EE.SPACE)):(this.layout.add(e.openParen,EE.NEWLINE),vi(this.cfg)?(this.layout.add(EE.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(EE.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(EE.NEWLINE,EE.INDENT,e.closeParen,EE.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),EE.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(EE.NO_SPACE,EE.SPACE,this.showNonTabularKw(e.andKw),EE.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(EE.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(EE.NEWLINE,EE.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(EE.NEWLINE,EE.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(EE.NEWLINE,EE.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):vi(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return vi(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(EE.NEWLINE,EE.INDENT,this.showKw(e.nameKw),EE.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(EE.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(EE.NEWLINE,EE.INDENT,this.showKw(e.nameKw),EE.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(EE.NEWLINE,EE.INDENT,this.showKw(e.nameKw),EE.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(EE.NEWLINE,EE.INDENT,this.showKw(e.nameKw),EE.NEWLINE),this.layout.add(EE.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(EE.NEWLINE,EE.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),vi(this.cfg)?this.layout.add(EE.SPACE):this.layout.add(EE.NEWLINE,EE.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(EE.NO_SPACE,",",EE.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",EE.SPACE)}formatLiteral(e){this.layout.add(e.text,EE.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),EE.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),EE.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(EE.NO_SPACE,e):":"===e?this.layout.add(EE.NO_SPACE,e,EE.SPACE):this.layout.add(e,EE.SPACE)}formatComma(e){this.inline?this.layout.add(EE.NO_SPACE,",",EE.SPACE):this.layout.add(EE.NO_SPACE,",",EE.NEWLINE,EE.INDENT)}withComments(e,t){this.formatComments(e.leadingComments),t(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(e=>{e.type===Qi.line_comment?this.formatLineComment(e):this.formatBlockComment(e)})}formatLineComment(e){Ti(e.precedingWhitespace||"")?this.layout.add(EE.NEWLINE,EE.INDENT,e.text,EE.MANDATORY_NEWLINE,EE.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(EE.NO_NEWLINE,EE.SPACE,e.text,EE.MANDATORY_NEWLINE,EE.INDENT):this.layout.add(e.text,EE.MANDATORY_NEWLINE,EE.INDENT)}formatBlockComment(e){e.type===Qi.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(e=>{this.layout.add(EE.NEWLINE,EE.INDENT,e)}),this.layout.add(EE.NEWLINE,EE.INDENT)):this.layout.add(e.text,EE.SPACE)}isMultilineBlockComment(e){return Ti(e.text)||Ti(e.precedingWhitespace||"")}isDocComment(e){const t=e.split(/\n/);return/^\/\*\*?$/.test(t[0])&&t.slice(1,t.length-1).every(e=>/^\s*\*/.test(e))&&/^\s*\*\/$/.test(ii(t))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(e=>/^\s*\*/.test(e)?" "+e.replace(/^\s*/,""):e):e.split(/\n/).map(e=>e.replace(/^\s*/,""))}formatSubExpression(e){return new dE({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){const t=this.params.getPositionalParameterIndex();try{return new dE({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new RE(this.cfg.expressionWidth),inline:!0}).format(e)}catch(e){if(e instanceof SE)return void this.params.setPositionalParameterIndex(t);throw e}}formatKeywordNode(e){switch(e.tokenType){case Yr.RESERVED_JOIN:return this.formatJoin(e);case Yr.AND:case Yr.OR:case Yr.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){vi(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(EE.NEWLINE,EE.INDENT,this.showKw(e),EE.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(EE.NEWLINE,EE.INDENT,this.showKw(e),EE.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),EE.SPACE)}formatLogicalOperator(e){"before"===this.cfg.logicalOperatorNewline?vi(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(EE.NEWLINE,EE.INDENT,this.showKw(e),EE.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(EE.NEWLINE,EE.INDENT,this.showKw(e),EE.SPACE):this.layout.add(this.showKw(e),EE.NEWLINE,EE.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),EE.SPACE)}showKw(e){return mE(e.tokenType)?uE(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return ci(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return mE(e.tokenType)?uE(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return ci(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return ci(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}}class OE{constructor(e,t){this.dialect=e,this.cfg=t,this.params=new ki(this.cfg.params)}format(e){const t=this.parse(e);return this.formatAst(t).trimEnd()}parse(e){return function(e){let t={};const s=new Ji(s=>{return[...(a=e.tokenize(s,t),a.map(Bi).map(Hi).map(Fi).map(Yi).map(Vi)),Vr(s.length)];var a}),a=new lE(iE.fromCompiled(oE),{lexer:s});return{parse:(e,s)=>{t=s;const{results:r}=a.feed(e);if(1===r.length)return r[0];throw 0===r.length?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar\n${JSON.stringify(r,void 0,2)}`)}}}(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(e=>this.formatStatement(e)).join("\n".repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){const t=new dE({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new cE(new AE((s=this.cfg,"tabularLeft"===s.indentStyle||"tabularRight"===s.indentStyle?" ".repeat(10):s.useTabs?"\t":" ".repeat(s.tabWidth))))}).format(e.children);var s;return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?t.add(EE.NEWLINE,";"):t.add(EE.NO_NEWLINE,";")),t.toString()}}class IE extends Error{}function NE(e){const t=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(const s of t)if(s in e)throw new IE(`${s} config is no more supported.`);if(e.expressionWidth<=0)throw new IE(`expressionWidth config must be positive number. Received ${e.expressionWidth} instead.`);var s;if(e.params&&!((s=e.params)instanceof Array?s:Object.values(s)).every(e=>"string"==typeof e)&&console.warn('WARNING: All "params" option values should be strings.'),e.paramTypes&&!function(e){if(e.custom&&Array.isArray(e.custom))return e.custom.every(e=>""!==e.regex);return!0}(e.paramTypes))throw new IE("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return e}var bE=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(s[a[r]]=e[a[r]])}return s};const CE={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},yE=Object.keys(CE),LE={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},hE=(e,t)=>{var{dialect:s}=t,a=bE(t,["dialect"]);if("string"!=typeof e)throw new Error("Invalid query argument. Expected string, instead got "+typeof e);const r=NE(Object.assign(Object.assign({},LE),a));return new OE((e=>{let t=wi.get(e);return t||(t=Mi(e),wi.set(e,t)),t})(s),r).format(e)};function fE(e,t,s,a,r,n,o){try{var l=e[n](o),i=l.value}catch(e){return void s(e)}l.done?t(i):Promise.resolve(i).then(a,r)}function $E(t,s=4){const a="GRAFANA_DOLLAR_TOKEN";return((t,s={})=>{if("string"==typeof s.language&&!yE.includes(s.language))throw new IE(`Unsupported SQL dialect: ${s.language}`);const a=CE[s.language||"sql"];return hE(t,Object.assign(Object.assign({},s),{dialect:e[a]}))})(t.replaceAll("$",a),{language:"postgresql",tabWidth:s}).replaceAll(a,"$")}function DE(e,t,s){return t.updateOptions({fixedOverflowWidgets:!0,scrollBeyondLastLine:!1}),monaco.languages.registerCompletionItemProvider("sql",{triggerCharacters:[" ",".","$"],provideCompletionItems:(e,t)=>{return(a=function*(){const a=e.getWordUntilPosition(t),r={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:a.startColumn,endColumn:a.endColumn};return s(e.getValue(),r,e.getOffsetAt(t))},function(){var e=this,t=arguments;return new Promise(function(s,r){var n=a.apply(e,t);function o(e){fE(n,s,r,o,l,"next",e)}function l(e){fE(n,s,r,o,l,"throw",e)}o(void 0)})})();var a}}),monaco.languages.registerDocumentFormattingEditProvider("sql",{provideDocumentFormattingEdits:(e,t)=>[{range:e.getFullModelRange(),text:$E(e.getValue(),t.tabSize)}]}),monaco.editor}function PE(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var gE=function(e){return e[e.Whitespace=0]="Whitespace",e[e.Comment=1]="Comment",e[e.BareWord=2]="BareWord",e[e.Number=3]="Number",e[e.StringLiteral=4]="StringLiteral",e[e.QuotedIdentifier=5]="QuotedIdentifier",e[e.OpeningRoundBracket=6]="OpeningRoundBracket",e[e.ClosingRoundBracket=7]="ClosingRoundBracket",e[e.OpeningSquareBracket=8]="OpeningSquareBracket",e[e.ClosingSquareBracket=9]="ClosingSquareBracket",e[e.OpeningCurlyBrace=10]="OpeningCurlyBrace",e[e.ClosingCurlyBrace=11]="ClosingCurlyBrace",e[e.Comma=12]="Comma",e[e.Semicolon=13]="Semicolon",e[e.VerticalDelimiter=14]="VerticalDelimiter",e[e.Dot=15]="Dot",e[e.Asterisk=16]="Asterisk",e[e.HereDoc=17]="HereDoc",e[e.DollarSign=18]="DollarSign",e[e.Plus=19]="Plus",e[e.Minus=20]="Minus",e[e.Slash=21]="Slash",e[e.Percent=22]="Percent",e[e.Arrow=23]="Arrow",e[e.QuestionMark=24]="QuestionMark",e[e.Colon=25]="Colon",e[e.Caret=26]="Caret",e[e.DoubleColon=27]="DoubleColon",e[e.Equals=28]="Equals",e[e.NotEquals=29]="NotEquals",e[e.Less=30]="Less",e[e.Greater=31]="Greater",e[e.LessOrEquals=32]="LessOrEquals",e[e.GreaterOrEquals=33]="GreaterOrEquals",e[e.Spaceship=34]="Spaceship",e[e.PipeMark=35]="PipeMark",e[e.Concatenation=36]="Concatenation",e[e.At=37]="At",e[e.DoubleAt=38]="DoubleAt",e[e.EndOfStream=39]="EndOfStream",e[e.Error=40]="Error",e[e.ErrorMultilineCommentIsNotClosed=41]="ErrorMultilineCommentIsNotClosed",e[e.ErrorSingleQuoteIsNotClosed=42]="ErrorSingleQuoteIsNotClosed",e[e.ErrorDoubleQuoteIsNotClosed=43]="ErrorDoubleQuoteIsNotClosed",e[e.ErrorBackQuoteIsNotClosed=44]="ErrorBackQuoteIsNotClosed",e[e.ErrorSingleExclamationMark=45]="ErrorSingleExclamationMark",e[e.ErrorSinglePipeMark=46]="ErrorSinglePipeMark",e[e.ErrorWrongNumber=47]="ErrorWrongNumber",e[e.ErrorMaxQuerySizeExceeded=48]="ErrorMaxQuerySizeExceeded",e}({});const xE=new Set(["SELECT","FROM","WHERE","GROUP","BY","HAVING","ORDER","LIMIT","OFFSET","JOIN","INNER","OUTER","LEFT","RIGHT","FULL","CROSS","ON","USING","AS","WITH","UNION","ALL","DISTINCT","CASE","WHEN","THEN","ELSE","END","AND","OR","NOT","IN","EXISTS","BETWEEN","LIKE","IS","NULL","ASC","DESC"]);class wE{size(){return this.end-this.begin}isSignificant(){return 0!==this.type&&1!==this.type}matchKeyword(e){return 2===this.type&&xE.has(e.toUpperCase())&&this.text.toUpperCase()===e.toUpperCase()}isKeyword(){return 2===this.type&&xE.has(this.text.toUpperCase())}isError(){return this.type>39}isEnd(){return 39===this.type}constructor(e,t,s,a){PE(this,"type",void 0),PE(this,"begin",void 0),PE(this,"end",void 0),PE(this,"text",void 0),this.type=e,this.begin=t,this.end=s,this.text=a}}function ME(e){return" "===e||"\t"===e||"\n"===e||"\r"===e||"\f"===e||"\v"===e}function UE(e){return e>="0"&&e<="9"}function vE(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e}function kE(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function GE(e,t,s,a){return!e&&(!(s>=a.length)&&("_"===a[s]&&(!(s+1>=a.length)&&(t?kE(a[s+1]):UE(a[s+1])))))}function BE(e){return 128==(192&e.charCodeAt(0))}function HE(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class FE{nextToken(){const e=this.nextTokenImpl();return this.maxQuerySize&&e.end>this.maxQuerySize?new wE(gE.ErrorMaxQuerySizeExceeded,e.begin,e.end,this.text.substring(e.begin,e.end)):(e.isSignificant()&&(this.prevSignificantTokenType=e.type),e)}parseQuotedString(e,t,s){const a=this.pos;for(this.pos++;this.pos<this.end;){const r=this.text.indexOf(e,this.pos),n=this.text.indexOf("\\",this.pos);if(-1===r)return this.pos=this.end,new wE(s,a,this.pos,this.text.substring(a,this.pos));if(-1!==n&&n<r)this.pos=n+2;else{if(this.pos=r+1,!(this.pos<this.end&&this.text[this.pos]===e))return new wE(t,a,this.pos,this.text.substring(a,this.pos));this.pos++}}return new wE(s,a,this.pos,this.text.substring(a,this.pos))}parseQuotedHexOrBinString(){const e=this.pos,t="x"===this.text[this.pos].toLowerCase();if(this.pos+=2,t)for(;this.pos<this.end&&kE(this.text[this.pos]);)this.pos++;else this.pos=function(e,t,s,...a){for(;t<s;){if(!a.includes(e[t]))return t;t++}return s}(this.text,this.pos,this.end,"0","1");return this.pos>=this.end||"'"!==this.text[this.pos]?(this.pos=this.end,new wE(gE.ErrorSingleQuoteIsNotClosed,e,this.pos,this.text.substring(e,this.pos))):(this.pos++,new wE(gE.StringLiteral,e,this.pos,this.text.substring(e,this.pos)))}commentUntilEndOfLine(){const e=this.pos,t=this.text.indexOf("\n",this.pos);return this.pos=-1===t?this.end:t,new wE(gE.Comment,e,this.pos,this.text.substring(e,this.pos))}parseUnicodeQuotedString(e,t,s){const a=this.pos-3;for(;this.pos+2<this.end;){const r=this.text.indexOf("â",this.pos);if(-1===r||r+2>=this.end)return this.pos=this.end,new wE(s,a,this.pos,this.text.substring(a,this.pos));if(this.pos=r,226===this.text.charCodeAt(this.pos)&&128===this.text.charCodeAt(this.pos+1)&&this.text.charCodeAt(this.pos+2)===e)return this.pos+=3,new wE(t,a,this.pos,this.text.substring(a,this.pos));this.pos++}return this.pos=this.end,new wE(s,a,this.pos,this.text.substring(a,this.pos))}nextTokenImpl(){if(this.pos>=this.end)return new wE(gE.EndOfStream,this.end,this.end,"");const e=this.pos,t=this.text[this.pos];if(ME(t)){for(this.pos++;this.pos<this.end&&ME(this.text[this.pos]);)this.pos++;return new wE(gE.Whitespace,e,this.pos,this.text.substring(e,this.pos))}if(UE(t)){if(this.prevSignificantTokenType===gE.Dot)for(this.pos++;this.pos<this.end&&(UE(this.text[this.pos])||GE(!1,!1,this.pos,this.text));)this.pos++;else{let e=!1,s=!1;if(this.pos+2<this.end&&"0"===t&&("x"===this.text[this.pos+1].toLowerCase()||"b"===this.text[this.pos+1].toLowerCase())){let t=!1;"x"===this.text[this.pos+1].toLowerCase()?this.pos+2<this.end&&kE(this.text[this.pos+2])&&(s=!0,t=!0):"0"!==this.text[this.pos+2]&&"1"!==this.text[this.pos+2]||(t=!0),t?(this.pos+=2,e=!0):this.pos++}else this.pos++;for(;this.pos<this.end&&((s?kE(this.text[this.pos]):UE(this.text[this.pos]))||GE(e,s,this.pos,this.text));)this.pos++,e=!1;if(this.pos<this.end&&"."===this.text[this.pos])for(e=!0,this.pos++;this.pos<this.end&&((s?kE(this.text[this.pos]):UE(this.text[this.pos]))||GE(e,s,this.pos,this.text));)this.pos++,e=!1;if(this.pos+1<this.end&&(s?"p"===this.text[this.pos]||"P"===this.text[this.pos]:"e"===this.text[this.pos]||"E"===this.text[this.pos]))for(e=!0,this.pos++,this.pos+1<this.end&&("-"===this.text[this.pos]||"+"===this.text[this.pos])&&this.pos++;this.pos<this.end&&(UE(this.text[this.pos])||GE(e,!1,this.pos,this.text));)this.pos++,e=!1}if(this.pos<this.end&&vE(this.text[this.pos])){for(this.pos++;this.pos<this.end&&vE(this.text[this.pos]);)this.pos++;for(let t=e;t<this.pos;t++)if(!vE(this.text[t])&&"$"!==this.text[t])return new wE(gE.ErrorWrongNumber,e,this.pos,this.text.substring(e,this.pos));return new wE(gE.BareWord,e,this.pos,this.text.substring(e,this.pos))}return new wE(gE.Number,e,this.pos,this.text.substring(e,this.pos))}switch(t){case"'":return this.parseQuotedString("'",gE.StringLiteral,gE.ErrorSingleQuoteIsNotClosed);case'"':return this.parseQuotedString('"',gE.QuotedIdentifier,gE.ErrorDoubleQuoteIsNotClosed);case"`":return this.parseQuotedString("`",gE.QuotedIdentifier,gE.ErrorBackQuoteIsNotClosed);case"(":return new wE(gE.OpeningRoundBracket,e,++this.pos,"(");case")":return new wE(gE.ClosingRoundBracket,e,++this.pos,")");case"[":return new wE(gE.OpeningSquareBracket,e,++this.pos,"[");case"]":return new wE(gE.ClosingSquareBracket,e,++this.pos,"]");case"{":return new wE(gE.OpeningCurlyBrace,e,++this.pos,"{");case"}":return new wE(gE.ClosingCurlyBrace,e,++this.pos,"}");case",":return new wE(gE.Comma,e,++this.pos,",");case";":return new wE(gE.Semicolon,e,++this.pos,";");case".":{if(this.pos>0&&(!(this.pos+1<this.end&&UE(this.text[this.pos+1]))||this.prevSignificantTokenType===gE.ClosingRoundBracket||this.prevSignificantTokenType===gE.ClosingSquareBracket||this.prevSignificantTokenType===gE.BareWord||this.prevSignificantTokenType===gE.QuotedIdentifier||this.prevSignificantTokenType===gE.Number))return new wE(gE.Dot,e,++this.pos,".");let t=!0;for(this.pos++;this.pos<this.end&&(UE(this.text[this.pos])||GE(t,!1,this.pos,this.text));)this.pos++,t=!1;if(this.pos+1<this.end&&("e"===this.text[this.pos]||"E"===this.text[this.pos]))for(t=!0,this.pos++,this.pos+1<this.end&&("-"===this.text[this.pos]||"+"===this.text[this.pos])&&this.pos++;this.pos<this.end&&(UE(this.text[this.pos])||GE(t,!1,this.pos,this.text));)this.pos++,t=!1;return new wE(gE.Number,e,this.pos,this.text.substring(e,this.pos))}case"+":return new wE(gE.Plus,e,++this.pos,"+");case"-":return this.pos++,this.pos<this.end&&">"===this.text[this.pos]?new wE(gE.Arrow,e,++this.pos,"->"):this.pos<this.end&&"-"===this.text[this.pos]?(this.pos++,this.commentUntilEndOfLine()):new wE(gE.Minus,e,this.pos,"-");case"*":return new wE(gE.Asterisk,e,++this.pos,"*");case"/":if(this.pos++,this.pos<this.end){if("/"===this.text[this.pos])return this.pos++,this.commentUntilEndOfLine();if("*"===this.text[this.pos]){this.pos++;let t=1;for(;this.pos+1<this.end;)if("/"===this.text[this.pos]&&"*"===this.text[this.pos+1])this.pos+=2,t++;else if("*"===this.text[this.pos]&&"/"===this.text[this.pos+1]){if(this.pos+=2,t--,0===t)return new wE(gE.Comment,e,this.pos,this.text.substring(e,this.pos))}else this.pos++;return this.pos=this.end,new wE(gE.ErrorMultilineCommentIsNotClosed,e,this.pos,this.text.substring(e,this.pos))}}return new wE(gE.Slash,e,this.pos,"/");case"#":return this.pos++,this.pos<this.end&&(" "===this.text[this.pos]||"!"===this.text[this.pos])?this.commentUntilEndOfLine():new wE(gE.Error,e,this.pos,this.text.substring(e,this.pos));case"%":return new wE(gE.Percent,e,++this.pos,"%");case"=":return this.pos++,this.pos<this.end&&"="===this.text[this.pos]&&this.pos++,new wE(gE.Equals,e,this.pos,this.text.substring(e,this.pos));case"!":return this.pos++,this.pos<this.end&&"="===this.text[this.pos]?new wE(gE.NotEquals,e,++this.pos,"!="):new wE(gE.ErrorSingleExclamationMark,e,this.pos,"!");case"<":return this.pos++,this.pos+1<this.end&&"="===this.text[this.pos]&&">"===this.text[this.pos+1]?(this.pos+=2,new wE(gE.Spaceship,e,this.pos,"<=>")):this.pos<this.end&&"="===this.text[this.pos]?new wE(gE.LessOrEquals,e,++this.pos,"<="):this.pos<this.end&&">"===this.text[this.pos]?new wE(gE.NotEquals,e,++this.pos,"<>"):new wE(gE.Less,e,this.pos,"<");case">":return this.pos++,this.pos<this.end&&"="===this.text[this.pos]?new wE(gE.GreaterOrEquals,e,++this.pos,">="):new wE(gE.Greater,e,this.pos,">");case"?":return new wE(gE.QuestionMark,e,++this.pos,"?");case"^":return new wE(gE.Caret,e,++this.pos,"^");case":":return this.pos++,this.pos<this.end&&":"===this.text[this.pos]?new wE(gE.DoubleColon,e,++this.pos,"::"):new wE(gE.Colon,e,this.pos,":");case"|":return this.pos++,this.pos<this.end&&"|"===this.text[this.pos]?new wE(gE.Concatenation,e,++this.pos,"||"):new wE(gE.PipeMark,e,this.pos,"|");case"@":return this.pos++,this.pos<this.end&&"@"===this.text[this.pos]?new wE(gE.DoubleAt,e,++this.pos,"@@"):new wE(gE.At,e,this.pos,"@");case"\\":return this.pos++,this.pos<this.end&&"G"===this.text[this.pos]?new wE(gE.VerticalDelimiter,e,++this.pos,"\\G"):new wE(gE.Error,e,this.pos,"\\");case"â":if(this.pos+2<this.end&&136===this.text.charCodeAt(this.pos+1)&&146===this.text.charCodeAt(this.pos+2))return this.pos+=3,new wE(gE.Minus,e,this.pos,this.text.substring(e,this.pos));if(this.pos+2<this.end&&226===this.text.charCodeAt(this.pos)&&128===this.text.charCodeAt(this.pos+1)&&(152===this.text.charCodeAt(this.pos+2)||156===this.text.charCodeAt(this.pos+2))){const e=this.text.charCodeAt(this.pos+2)+1,t=152===this.text.charCodeAt(this.pos+2)?gE.StringLiteral:gE.QuotedIdentifier,s=152===this.text.charCodeAt(this.pos+2)?gE.ErrorSingleQuoteIsNotClosed:gE.ErrorDoubleQuoteIsNotClosed;return this.pos+=3,this.parseUnicodeQuotedString(e,t,s)}}if("$"===t){const t=this.text.substring(this.pos),s=t.indexOf("$",1);if(-1!==s){const a=s+1,r=t.substring(0,a),n=t.indexOf(r,a);if(-1!==n)return this.pos+=n+a,new wE(gE.HereDoc,e,this.pos,this.text.substring(e,this.pos))}if(this.pos+1<this.end&&!vE(this.text[this.pos+1])||this.pos+1===this.end)return new wE(gE.DollarSign,e,++this.pos,"$")}if(this.pos+2<this.end&&"'"===this.text[this.pos+1]&&("x"===t.toLowerCase()||"b"===t.toLowerCase()))return this.parseQuotedHexOrBinString();if(vE(t)||"$"===t){for(this.pos++;this.pos<this.end&&(vE(this.text[this.pos])||"$"===this.text[this.pos]);)this.pos++;return new wE(gE.BareWord,e,this.pos,this.text.substring(e,this.pos))}const s=function(e,t,s){for(;t<s;){const s=e.charCodeAt(t);if(s<=127&&ME(String.fromCharCode(s)))t++;else{if(!(160===s||s>=8192&&s<=8202||8232===s||8233===s||8239===s||8287===s||12288===s))break;t++}}return t}(this.text,this.pos,this.end);if(s>this.pos)return this.pos=s,new wE(gE.Whitespace,e,this.pos,this.text.substring(e,this.pos));for(this.pos++;this.pos<this.end&&BE(this.text[this.pos]);)this.pos++;return new wE(gE.Error,e,this.pos,this.text.substring(e,this.pos))}constructor(e,t=0){HE(this,"text",void 0),HE(this,"pos",void 0),HE(this,"end",void 0),HE(this,"maxQuerySize",void 0),HE(this,"prevSignificantTokenType",gE.Whitespace),this.text=e,this.pos=0,this.end=e.length,this.maxQuerySize=t}}const YE=[{name:"$__dateFilter",isFunction:!0,documentation:"Filters the data based on the date range of the panel",example:"date >= toDate('2022-10-21') AND date <= toDate('2022-10-23')"},{name:"$__timeFilter",isFunction:!0,documentation:"Filters the data based on the time range of the panel in seconds",example:"time >= toDateTime(1415792726) AND time <= toDateTime(1447328726)"},{name:"$__timeFilter_ms",isFunction:!0,documentation:"Filters the data based on the time range of the panel in milliseconds",example:"time >= fromUnixTimestamp64Milli(1415792726123) AND time <= fromUnixTimestamp64Milli(1447328726456)"},{name:"$__dateTimeFilter",isFunction:!0,documentation:"Shorthand that combines $__dateFilter() AND $__timeFilter() using separate Date and DateTime columns",example:"$__dateFilter(dateColumn) AND $__timeFilter(timeColumn)"},{name:"$__fromTime",isFunction:!1,columnType:"DateTime",documentation:"Replaced by the starting time of the range of the panel casted to DateTime",example:"toDateTime(1415792726)"},{name:"$__toTime",isFunction:!1,columnType:"DateTime",documentation:"Replaced by the ending time of the range of the panel casted to DateTime",example:"toDateTime(1447328726)"},{name:"$__fromTime_ms",isFunction:!1,columnType:"DateTime64(3)",documentation:"Replaced by the starting time of the range of the panel casted to DateTime64(3)",example:"fromUnixTimestamp64Milli(1415792726123)"},{name:"$__toTime_ms",isFunction:!1,columnType:"Datetime64(3)",documentation:"Replaced by the ending time of the range of the panel casted to DateTime64(3)",example:"fromUnixTimestamp64Milli(1447328726456)"},{name:"$__interval_s",isFunction:!1,columnType:"INTERVAL",documentation:"Replaced by the interval in seconds",example:"20"},{name:"$__timeInterval",isFunction:!0,columnType:"DateTime",documentation:"Replaced by a function calculating the interval based on window size in seconds, useful when grouping",example:"toStartOfInterval(toDateTime(column), INTERVAL 20 second)"},{name:"$__timeInterval_ms",isFunction:!0,columnType:"DateTime64(3)",documentation:"Replaced by a function calculating the interval based on window size in milliseconds, useful when grouping",example:"toStartOfInterval(toDateTime64(column, 3), INTERVAL 20 millisecond)"},{name:"$__conditionalAll",isFunction:!0,columnType:"Condition",documentation:"Replaced by the first parameter when the template variable in the second parameter does not select every value. Replaced by 1=1 when the template variable selects every value",example:"condition or 1=1"}];function VE(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class WE{advance(){this.offset++}hasNext(){return this.offset<this.tokens.length}next(){const e=this.tokens[this.offset];return this.advance(),e}peek(){return this.tokens[this.offset]}nextIs(e){return this.peek().type===e&&(this.advance(),!0)}peekIs(e){return this.peek().type===e}constructor(e){VE(this,"tokens",void 0),VE(this,"offset",void 0),this.tokens=e,this.offset=0}}var XE=function(e){return e[e.None=0]="None",e[e.With=1]="With",e[e.Select=2]="Select",e[e.From=3]="From",e[e.Join=4]="Join",e[e.Where=5]="Where",e[e.GroupBy=6]="GroupBy",e[e.Having=7]="Having",e[e.OrderBy=8]="OrderBy",e[e.Limit=9]="Limit",e[e.Identifier=10]="Identifier",e}({}),KE=function(e){return e[e.Default=0]="Default",e[e.Select=1]="Select",e[e.From=2]="From",e[e.Identifier=3]="Identifier",e}({});function qE(e){if(!e.hasNext())return null;const t=e.peek(),s={type:1,clause:2,children:[],token:null};if(t.matchKeyword("WITH"))s.children.push({type:0,token:t,clause:1});else{if(!t.matchKeyword("SELECT"))return null;s.token=t}e.advance();let a=0,r=!1;for(;!r&&e.hasNext();){const t=e.next();if(t.matchKeyword("SELECT"))s.token=t;else if(t.matchKeyword("FROM")||t.matchKeyword("JOIN")){const a={type:2,token:t,clause:3};if(s.children.push(a),s.from||(s.from=a),e.hasNext()&&e.peek().isError()&&(a.prefix=e.peek().text),e.hasNext()&&(e.peek().type===gE.BareWord&&!e.peek().isKeyword()||e.peek().type===gE.QuotedIdentifier)){const t=e.next().text;e.hasNext()&&e.peek().type===gE.Dot?(e.next(),a.database=t,e.hasNext()&&e.peek().isError()&&(a.prefix=e.peek().text),e.hasNext()&&(e.peek().type===gE.BareWord&&!e.peek().isKeyword()||e.peek().type===gE.QuotedIdentifier)&&(a.table=e.next().text)):a.table=t}}else if(t.type===gE.OpeningRoundBracket){const t=qE(e);null===t?a++:s.children.push(t)}else if(t.type===gE.ClosingRoundBracket)0===a?r=!0:a--;else if(t.matchKeyword("JOIN"))s.children.push({type:0,token:t,clause:4});else if(t.matchKeyword("GROUP")&&e.hasNext()&&e.peek().matchKeyword("BY"))s.children.push({type:0,token:e.next(),clause:6});else if(t.matchKeyword("WHERE"))s.children.push({type:0,token:t,clause:5});else if(t.matchKeyword("HAVING"))s.children.push({type:0,token:t,clause:7});else if(t.matchKeyword("ORDER")&&e.hasNext()&&e.peek().matchKeyword("BY"))s.children.push({type:0,token:e.next(),clause:8});else if(t.matchKeyword("LIMIT"))s.children.push({type:0,token:t,clause:9});else if(t.type!==gE.BareWord||t.isKeyword())t.type===gE.DollarSign?s.children.push({type:3,token:t,prefix:"$",clause:10}):s.children.push({type:0,token:t,clause:0});else{let a=t.text,r=t;for(;e.hasNext()&&(e.peekIs(gE.Dot)||e.peekIs(gE.BareWord)&&!e.peek().isKeyword());)r=e.next(),a+=r.text;s.children.push({type:3,token:r,prefix:a,clause:10})}}return s}function jE(e,t,s,a,r,n,o){try{var l=e[n](o),i=l.value}catch(e){return void s(e)}l.done?t(i):Promise.resolve(i).then(a,r)}function JE(e){return function(){var t=this,s=arguments;return new Promise(function(a,r){var n=e.apply(t,s);function o(e){jE(n,a,r,o,l,"next",e)}function l(e){jE(n,a,r,o,l,"throw",e)}o(void 0)})}}function QE(e,t){const s={clause:XE.None,identifiers:[],begin:e.token.begin,end:e.token.end};if(t>e.token.end&&(s.clause=XE.Select),e.from&&(s.database=e.from.database,s.table=e.from.table),!e.children)return s;for(const n of e.children)switch(n.type){case KE.Select:const e=QE(n,t);if(t>=e.begin-1&&t<=e.end+1)return e;break;default:if(s.end=n.token.end,n.type===KE.From){var a,r;const e=n,t=(null===(a=e.database)||void 0===a?void 0:a.length)||0,o=t+(t>0?1:0)+((null===(r=e.table)||void 0===r?void 0:r.length)||0);s.end=e.token.end+o,n.prefix&&(s.prefix=n.prefix)}if((n.token.type===gE.QuotedIdentifier||n.type===KE.Identifier||n.token.type===gE.BareWord&&!n.token.isKeyword())&&(n.type===KE.Identifier?s.identifiers.push(n.prefix||n.token.text):s.identifiers.push(n.token.text)),n.type===KE.Identifier&&t===n.token.end&&(s.prefix=n.prefix),t<n.token.begin)break;t>n.token.end&&n.clause!==XE.None&&(s.clause=n.clause)}return s}function ZE(e,t,s,a){return JE(function*(){const n=new FE(e),o=[];for(;;){const e=n.nextToken();if(e.isEnd())break;e.isSignificant()&&o.push(e)}const l=qE(new WE(o));if(!l)return[];const i=QE(l,a);return yield function(e,t,s){return JE(function*(){let a=[];e.database&&(e.database.includes('"')||e.database.includes("`"))&&(e.database=e.database.substring(1,e.database.length-1)),e.table&&(e.table.includes('"')||e.table.includes("`"))&&(e.table=e.table.substring(1,e.table.length-1));const n={[XE.None]:"keyword",[XE.With]:"column",[XE.Select]:"column",[XE.From]:"database_or_table",[XE.Join]:"database_or_table",[XE.Where]:"column",[XE.GroupBy]:"column",[XE.Having]:"column",[XE.OrderBy]:"column",[XE.Limit]:"keyword",[XE.Identifier]:"column"};e.database&&!e.table?(n[XE.From]="table",n[XE.Join]="table"):e.table&&!e.database?(n[XE.From]="database_or_table",n[XE.Join]="database_or_table"):e.database&&e.table&&(n[XE.From]="table",n[XE.Join]="table");const o=n[e.clause],l=e.database||t.defaultDatabase||"default";switch(o){case"database":a=yield zE(t,s);break;case"database_or_table":a=[...yield zE(t,s,e.prefix),...yield ec(t,s,l,e.prefix)];break;case"table":a=yield ec(t,s,l,e.prefix);break;case"column":const n=yield function(e,t){return YE.map(s=>{const a=(t||"").includes("$"),r=s.name.substring(1);return{label:s.name,detail:`(Plugin Macro) ${s.columnType||""}`,kind:s.isFunction?monaco.languages.CompletionItemKind.Function:monaco.languages.CompletionItemKind.Variable,sortText:`!!${s.name.substring(3)}`,documentation:s.documentation+(s.example?"\nExample output: "+s.example:""),insertText:s.isFunction?`${a?r:s.name.replaceAll("$","\\$")}(\${1})`:a?r:s.name,insertTextRules:s.isFunction?monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet:void 0,range:e}})}(s,e.prefix);a.push(...n);const o=yield function(e){const t=(0,r.getTemplateSrv)();if(!t)return[];return t.getVariables().map(s=>{const a=`\${${s.name}}`,r=t.replace(a);return{label:a,detail:`(Template Variable) ${r}`,kind:monaco.languages.CompletionItemKind.Variable,sortText:`!!!${a}`,documentation:`(Template Variable) ${r}`,insertText:`\${${s.name}}`,range:e}})}(s);a.push(...o),a.push({label:"NULL",insertText:"NULL",sortText:"!!!NULL",kind:monaco.languages.CompletionItemKind.Keyword,documentation:"",range:s});const i=yield function(e,t){return JE(function*(){return(yield e.functions()).map(e=>({label:e.name,kind:monaco.languages.CompletionItemKind.Function,sortText:`${e.name}`,detail:e.categories||e.isAggregate&&"Aggregate"||"",documentation:[`Category: ${e.categories||"(none)"}`,`Alias: ${e.aliasTo||"(none)"}`,`Aggregate: ${e.isAggregate}`,`Case insensitive: ${e.caseInsensitive}`,`Origin: ${e.origin}`,`Description: ${e.description||"(none)"}`,`Syntax: ${e.syntax||"(none)"}`,`Arguments: ${e.arguments||"(none)"}`,`Returned value: ${e.returnedValue||"(none)"}`].join("\n"),insertText:`${e.name}(\${1})`,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:t}))})()}(t,s);if(a.push(...i),e.table){const r=e.database||t.defaultDatabase||"default",n=yield function(e,t,s,a,r){return JE(function*(){return(yield e.columns(s,a)).map(e=>({label:e.label,kind:monaco.languages.CompletionItemKind.Field,sortText:`!!!!${e.label}`,detail:e.type,documentation:e.type,insertText:r&&r.includes(".")?e.name.substring((null==r?void 0:r.length)||0):e.name,range:t})).filter(e=>!r||e.label.startsWith(r))})()}(t,s,r,e.table,e.prefix);a.push(...n)}break;case"keyword":a=Array.from(xE).map(e=>({label:e,insertText:e,kind:monaco.languages.CompletionItemKind.Keyword,documentation:"",range:s}))}return a})()}(i,t,s)})()}function zE(e,t,s){return JE(function*(){return(yield e.databases()).map(e=>{let a="";s&&s.startsWith('"')?a='"':s&&s.startsWith("`")&&(a="`");const r=e.endsWith(a);return{label:e,kind:monaco.languages.CompletionItemKind.Module,detail:"Database",documentation:"Database",insertText:a?`${e}${r?"":a}`:e,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:t}})})()}function ec(e,t,s,a){return JE(function*(){return(yield e.tables(s)).map(e=>{let s="";a&&a.startsWith('"')?s='"':a&&a.startsWith("`")&&(s="`");const r=e.endsWith(s);return{label:e,kind:monaco.languages.CompletionItemKind.Class,detail:"Table",documentation:"Table",insertText:s?`${e}${r?"":s}`:e,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:t}})})()}var tc=c(6775);const sc=["INTERVAL"];function ac(e,t,s,a,r,n,o){try{var l=e[n](o),i=l.value}catch(e){return void s(e)}l.done?t(i):Promise.resolve(i).then(a,r)}function rc(e){return function(){var t=this,s=arguments;return new Promise(function(a,r){var n=e.apply(t,s);function o(e){ac(n,a,r,o,l,"next",e)}function l(e){ac(n,a,r,o,l,"throw",e)}o(void 0)})}}function nc(e){const t=(0,ge.useRef)({functions:null,databases:null,tables:new Map,columns:new Map});return{functions:function(){return rc(function*(){return null===t.current.functions&&(t.current.functions=yield e.fetchSqlFunctions()),t.current.functions})()},databases:function(){return rc(function*(){return null===t.current.databases&&(t.current.databases=yield e.fetchDatabases()),t.current.databases})()},tables:function(s){return rc(function*(){if(void 0===s&&(s=""),!t.current.tables.has(s)){const a=yield e.fetchTables(s);return t.current.tables.set(s,a),a}return t.current.tables.get(s)})()},columns:function(s,a){return rc(function*(){const r=`${s||""}.${a||""}`;if(!t.current.columns.has(r)){const n=yield e.fetchColumnsFromTable(s,a);return t.current.columns.set(r,n),n}return t.current.columns.get(r)})()},defaultDatabase:e.getDefaultDatabase()}}function oc({showTools:e,onFormatCode:t}){const s=(0,$.useTheme2)(),a=(0,ge.useMemo)(()=>({container:(0,je.css)({border:`1px solid ${s.colors.border.medium}`,borderTop:"none",padding:s.spacing(.5,.5,.5,.5),display:"flex",flexGrow:1,justifyContent:"space-between",fontSize:s.typography.bodySmall.fontSize}),error:(0,je.css)({color:s.colors.error.text,fontSize:s.typography.bodySmall.fontSize,fontFamily:s.typography.fontFamilyMonospace}),valid:(0,je.css)({color:s.colors.success.text}),info:(0,je.css)({color:s.colors.text.secondary}),hint:(0,je.css)({color:s.colors.text.disabled,whiteSpace:"nowrap",cursor:"help"})}),[s]);let r={};return e||(r={height:0,padding:0,visibility:"hidden"}),xe().createElement("div",{className:a.container,style:r},e&&xe().createElement("div",null,xe().createElement($.Stack,null,t&&xe().createElement($.IconButton,{onClick:()=>{t()},name:"brackets-curly",size:"xs",tooltip:"Format query"}),xe().createElement($.Tooltip,{content:"Hit CTRL/CMD+Return to run query"},xe().createElement($.Icon,{className:a.hint,name:"keyboard"})))))}function lc(e,t,s,a,r,n,o){try{var l=e[n](o),i=l.value}catch(e){return void s(e)}l.done?t(i):Promise.resolve(i).then(a,r)}function ic(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ec(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){ic(e,t,s[t])})}return e}function cc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Tc=e=>{const{query:t,onChange:s,datasource:a}=e,r=(0,ge.useRef)(null),n=t,o=n.queryType||l.Table,i=e=>{s(Ec(cc(Ec({},n),{pluginVersion:Ue,editorType:_.SQL,format:We(e.queryType||o)}),e))},E=nc(a),c=(e,t,s)=>{return(a=function*(){return{suggestions:yield ZE(e,E,t,s)}},function(){var e=this,t=arguments;return new Promise(function(s,r){var n=a.apply(e,t);function o(e){lc(n,s,r,o,l,"next",e)}function l(e){lc(n,s,r,o,l,"throw",e)}o(void 0)})})();var a},T=(e,t,s)=>{const a=function(e){try{return tc.parse(e),{valid:!0}}catch(t){const s=t,a=s.message.split("\n"),r=s.hash.loc,n=e.split("\n"),o=n[r.first_line-1],l=o.substring(r.first_column,r.last_column);if(sc.includes(l.toUpperCase()))return{valid:!0};if(o.trim()===l){const e=n[r.first_line];if(null==e?void 0:e.trim().startsWith("$"))return{valid:!0}}return o.substring(r.last_column+1).trim().startsWith("$")?{valid:!0}:{valid:!1,error:{startLine:r.first_line,endLine:r.last_line,startCol:r.first_column+1,endCol:r.last_column+1,message:t.message,expected:a[3]}}}}(e);if(a.valid)s.setModelMarkers(t,"clickhouse",[]);else{const e=a.error;s.setModelMarkers(t,"clickhouse",[{startLineNumber:e.startLine,startColumn:e.startCol,endLineNumber:e.endLine,endColumn:e.endCol,message:e.expected,severity:8}])}};return xe().createElement(xe().Fragment,null,xe().createElement("div",{className:"gf-form "+xt.QueryEditor.queryType},xe().createElement(hr,{queryType:o,onChange:e=>i({queryType:e}),sqlEditor:!0})),xe().createElement("div",{className:xt.Common.wrapper},xe().createElement($.CodeEditor,{"aria-label":"SQL Editor",language:"sql",value:t.rawSql,onSave:e=>i({rawSql:e}),showMiniMap:!1,showLineNumbers:!0,onBlur:e=>i({rawSql:e}),onEditorDidMount:(t,s)=>{r.current=t;const n=DE(0,t,c);!function(e){const t=e.getDomNode(),s=()=>{if(t){const s=Math.max(100,Math.min(1e3,e.getContentHeight())),a=parseInt(t.style.width,10);t.style.width=`${a}px`,t.style.height=`${s}px`,e.layout({width:a,height:s})}};e.onDidContentSizeChange(s),s()}(t),t.onKeyUp(e=>{if(a.settings.jsonData.validateSql){const e=t.getValue();T(e,t.getModel(),n)}}),t.addAction({id:"run-query",label:"Run Query",keybindings:[s.KeyMod.CtrlCmd|s.KeyCode.Enter],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:t=>{i({rawSql:t.getValue()}),e.onRunQuery()}})},onEditorWillUnmount:()=>{r.current=null}}),xe().createElement(oc,{showTools:!0,onFormatCode:()=>{null!==r.current&&r.current.trigger("editor","editor.action.formatDocument","")}})))};function pc(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function uc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){pc(e,t,s[t])})}return e}function mc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const _c=e=>{if("builder"===e.queryType){var t;const s=mc(uc({},e),{pluginVersion:Ue,editorType:_.Builder,builderOptions:Ac(e.builderOptions||{}),rawSql:e.rawSql||"",refId:e.refId||"",format:e.format});return(null==e||null===(t=e.meta)||void 0===t?void 0:t.timezone)&&(s.meta={timezone:e.meta.timezone}),delete s.queryType,delete s.selectedFormat,s}const s=mc(uc({},e),{pluginVersion:Ue,editorType:_.SQL,rawSql:e.rawSql||"",refId:e.refId||"",format:e.format,queryType:Xe(e.format),meta:{}});if(e.expand&&(s.expand=e.expand),e.meta){const t=e.meta;t.timezone&&(s.meta.timezone=t.timezone),t.builderOptions&&(s.meta.builderOptions=Ac(t.builderOptions))}return delete s.builderOptions,delete s.selectedFormat,s},Ac=e=>{const t={database:e.database||"",table:e.table||"",queryType:Sc(e),columns:[]};if(e.mode&&(t.mode=e.mode),e.fields||Array.isArray(e.fields)){const s=e.fields;t.columns=s.map(e=>({name:e}))}const s=e.timeField,a=e.timeFieldType;if(s){const e={name:s,type:a,hint:E.Time};t.columns.push(e)}const r=e.logLevelField;if(r){const e={name:r,hint:E.LogLevel};t.columns.push(e)}if(e.metrics||Array.isArray(e.metrics)){const s=e.metrics;t.aggregates=s.map(e=>({aggregateType:e.aggregation,column:e.field,alias:e.alias}))}if(e.filters||Array.isArray(e.filters)){const a=e.filters;t.filters=a.map(e=>{const t=uc({},e);return e.key===s?t.hint=E.Time:e.key===r&&(t.hint=E.LogLevel),t})}return(e.groupBy||Array.isArray(e.groupBy))&&(t.groupBy=e.groupBy),(e.orderBy||Array.isArray(e.orderBy))&&(t.orderBy=e.orderBy),void 0!==e.limit&&e.limit>=0&&(t.limit=e.limit),t},Rc=e=>{const t=!e.pluginVersion||!Ge(e.pluginVersion,"4.0.0"),s="sql"===e.queryType||"builder"===e.queryType;return t||s},Sc=e=>e.timeField?l.TimeSeries:e.logLevelField?l.Logs:l.Table;function dc(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Oc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){dc(e,t,s[t])})}return e}function Ic(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e}const Nc=e=>{const{query:t,onChange:s,app:a}=e,[r,n]=(e=>{const[t,s]=(0,ge.useReducer)(nr,e,lr);return[t,s]})(t.builderOptions),o=t.key||"",l=(0,ge.useRef)(o);o!==l.current&&t.editorType===_.Builder&&(n(tr(t.builderOptions||{})),l.current=o);const i=(0,ge.useRef)(void 0);t.editorType!==i.current&&t.editorType===_.Builder&&n(tr(t.builderOptions||{})),i.current=t.editorType;const E=(0,ge.useRef)(!0);return Ye(r)&&(E.current=!1),(0,ge.useEffect)(()=>{E.current||t.editorType===_.SQL||s(Ic(Oc({},t),{pluginVersion:Ue,editorType:_.Builder,rawSql:z(r),builderOptions:r,format:Ve(r)}))},[r]),t.editorType===_.SQL?xe().createElement("div",{"data-testid":"query-editor-section-sql"},xe().createElement(Tc,e)):xe().createElement(Dr,{datasource:e.datasource,builderOptions:r,builderOptionsDispatch:n,generatedSql:t.rawSql,app:a})},bc=JSON.parse('{"id":"grafana-clickhouse-datasource"}');function Cc(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const yc=r.config.featureToggles.newClickhouseConfigPageDesign?e=>{var t;const{options:s,onOptionsChange:a}=e,r=(0,$.useStyles2)(js);return xe().createElement($.Stack,{justifyContent:"space-between"},xe().createElement("div",{className:`${r.hideOnSmallScreen} ${r.leftSticky}`},xe().createElement($.Box,{width:"100%",flex:"1 1 auto"},xe().createElement(gs,{pdcInjected:Boolean(null==s||null===(t=s.jsonData)||void 0===t?void 0:t.pdcInjected)}))),xe().createElement($.Box,{width:"60%",flex:"1 1 auto",minWidth:As},xe().createElement("div",{className:r.requiredFields},xe().createElement($.Alert,{severity:"info",title:"You are viewing a new design for the Clickhouse configuration settings.",className:r.alertHeight},xe().createElement(xe().Fragment,null,xe().createElement($.TextLink,{href:"https://docs.google.com/forms/d/e/1FAIpQLSd5YOYxfW-CU0tQnfFA08fkymGlmZ8XcFRMniE5lScIsmdt5w/viewform",external:!0,onClick:Kt},"Share your thoughts")," ","to help us make it even better.")),xe().createElement($.Text,{variant:"bodySmall",color:"secondary"},"Fields marked with * are required")),xe().createElement(Ds,{onOptionsChange:a,options:s}),xe().createElement(Fs,{onOptionsChange:a,options:s}),xe().createElement(Ks,{onOptionsChange:a,options:s}),xe().createElement(vs,{onOptionsChange:a,options:s})),xe().createElement($.Box,{width:"20%",flex:"0 0 20%"}))}:e=>{const{options:t,onOptionsChange:s}=e,{jsonData:n,secureJsonFields:o}=t,l=ft.components.Config.ConfigEditor,i=t.secureJsonData||{},E=o&&o.tlsCACert,c=o&&o.tlsClientCert,p=o&&o.tlsClientKey,u=[{label:"Native",value:Et.Native},{label:"HTTP",value:Et.Http}];Xt(t,s);const m=(e,a)=>{s(os(ns({},t),{jsonData:os(ns({},t.jsonData),{[e]:a})}))},_=(e,a)=>{s(os(ns({},t),{jsonData:os(ns({},t.jsonData),{[e]:a})}))},A=(e,a)=>{s(os(ns({},t),{secureJsonData:os(ns({},i),{[e]:a})}))},R=e=>{s(os(ns({},t),{secureJsonFields:os(ns({},o),{[e]:!1}),secureJsonData:os(ns({},i),{[e]:""})}))},S=e=>{s(os(ns({},t),{jsonData:os(ns({},t.jsonData),{customSettings:e.filter(e=>!!e.setting&&!!e.value)})}))},d=(e,a)=>{s(os(ns({},t),{jsonData:os(ns({},t.jsonData),{logs:os(ns({},t.jsonData.logs),{[e]:a})})}))},O=(e,a)=>{var r;s(os(ns({},t),{jsonData:os(ns({},t.jsonData),{traces:os(ns({},t.jsonData.traces),{durationUnit:(null===(r=t.jsonData.traces)||void 0===r?void 0:r.durationUnit)||T.Nanoseconds,[e]:a})})}))},[I,N]=(0,ge.useState)(n.customSettings||[]),b=Boolean(window.location.hash||t.jsonData.defaultDatabase||t.jsonData.defaultTable||t.jsonData.dialTimeout||t.jsonData.queryTimeout||t.jsonData.validateSql||t.jsonData.enableSecureSocksProxy||t.jsonData.customSettings||t.jsonData.logs||t.jsonData.traces),C=n.secure?n.protocol===Et.Native?l.serverPort.secureNativePort:l.serverPort.secureHttpPort:n.protocol===Et.Native?l.serverPort.insecureNativePort:l.serverPort.insecureHttpPort,y=`${l.serverPort.tooltip} (default for ${n.secure?"secure":""} ${n.protocol}: ${C})`,L=!t.uid&&xe().createElement($.Alert,{title:"",severity:"warning",buttonContent:"Close"},xe().createElement($.Stack,null,xe().createElement("div",null,"This datasource is missing the",xe().createElement("code",null,"uid"),"field in its configuration. If your datasource is ",xe().createElement("a",{style:{textDecoration:"underline"},href:"https://grafana.com/docs/grafana/latest/administration/provisioning/#data-sources",target:"_blank",rel:"noreferrer"},"provisioned via YAML"),", please verify the UID is set. This is required to enable data linking between logs and traces.")));return xe().createElement(xe().Fragment,null,L,xe().createElement(Lt,{dataSourceName:"Clickhouse",docsLink:"https://grafana.com/grafana/plugins/grafana-clickhouse-datasource/",hasRequiredFields:!0}),xe().createElement(ht,null),xe().createElement(St,{title:"Server"},xe().createElement($.Field,{required:!0,label:l.serverAddress.label,description:l.serverAddress.tooltip,invalid:!n.host,error:l.serverAddress.error},xe().createElement($.Input,{name:"host",width:80,value:n.host||"",onChange:t=>(0,a.onUpdateDatasourceJsonDataOption)(e,"host")(t),label:l.serverAddress.label,"aria-label":l.serverAddress.label,placeholder:l.serverAddress.placeholder,onBlur:es})),xe().createElement($.Field,{required:!0,label:l.serverPort.label,description:y,invalid:!n.port,error:l.serverPort.error},xe().createElement($.Input,{name:"port",width:40,type:"number",value:n.port||"",onChange:e=>{return a=e.currentTarget.value,void s(os(ns({},t),{jsonData:os(ns({},t.jsonData),{port:+a})}));var a},label:l.serverPort.label,"aria-label":l.serverPort.label,placeholder:C,onBlur:e=>(e=>{(0,r.reportInteraction)("clickhouse_config_v1_port_input",e)})({port:e.currentTarget.value})})),xe().createElement($.Field,{label:l.protocol.label,description:l.protocol.tooltip},xe().createElement($.RadioButtonGroup,{options:u,disabledOptions:[],value:n.protocol||Et.Native,onChange:e=>{var a;(e=>{(0,r.reportInteraction)("clickhouse_config_v1_native_http_toggle_clicked",e)})({nativeHttpToggle:e}),a=e,s(os(ns({},t),{jsonData:os(ns({},t.jsonData),{protocol:a})}))}})),xe().createElement($.Field,{label:l.secure.label,description:l.secure.tooltip},xe().createElement($.Switch,{id:"secure",className:"gf-form",value:n.secure||!1,onChange:e=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v1_secure_connection_toggle_clicked",e)})({secureConnection:e.currentTarget.checked}),_("secure",e.currentTarget.checked)}})),n.protocol===Et.Http&&xe().createElement($.Field,{label:l.path.label,description:l.path.tooltip},xe().createElement($.Input,{value:n.path||"",name:"path",width:80,onChange:(0,a.onUpdateDatasourceJsonDataOption)(e,"path"),label:l.path.label,"aria-label":l.path.label,placeholder:l.path.placeholder}))),n.protocol===Et.Http&&xe().createElement(Gt,{headers:t.jsonData.httpHeaders,forwardGrafanaHeaders:t.jsonData.forwardGrafanaHeaders,secureFields:t.secureJsonFields,onHttpHeadersChange:e=>Wt(e,t,s),onForwardGrafanaHeadersChange:e=>_("forwardGrafanaHeaders",e)}),xe().createElement(ht,null),xe().createElement(St,{title:"TLS / SSL Settings"},xe().createElement($.Field,{label:l.tlsSkipVerify.label,description:l.tlsSkipVerify.tooltip},xe().createElement($.Switch,{className:"gf-form",value:n.tlsSkipVerify||!1,onChange:e=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v1_skip_tls_verify_toggle_clicked",e)})({skipTlsVerifyToggle:e.currentTarget.checked}),m("tlsSkipVerify",e.currentTarget.checked)}})),xe().createElement($.Field,{label:l.tlsClientAuth.label,description:l.tlsClientAuth.tooltip},xe().createElement($.Switch,{className:"gf-form",value:n.tlsAuth||!1,onChange:e=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v1_tls_client_auth_toggle_clicked",e)})({clientAuthToggle:e.currentTarget.checked}),m("tlsAuth",e.currentTarget.checked)}})),xe().createElement($.Field,{label:l.tlsAuthWithCACert.label,description:l.tlsAuthWithCACert.tooltip},xe().createElement($.Switch,{className:"gf-form",value:n.tlsAuthWithCACert||!1,onChange:e=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v1_with_ca_cert_toggle_clicked",e)})({caCertToggle:e.currentTarget.checked}),m("tlsAuthWithCACert",e.currentTarget.checked)}})),n.tlsAuthWithCACert&&xe().createElement(it,{hasCert:!!E,onChange:e=>A("tlsCACert",e.currentTarget.value),placeholder:l.tlsCACert.placeholder,label:l.tlsCACert.label,onClick:()=>R("tlsCACert")}),n.tlsAuth&&xe().createElement(xe().Fragment,null,xe().createElement(it,{hasCert:!!c,onChange:e=>A("tlsClientCert",e.currentTarget.value),placeholder:l.tlsClientCert.placeholder,label:l.tlsClientCert.label,onClick:()=>R("tlsClientCert")}),xe().createElement(it,{hasCert:!!p,placeholder:l.tlsClientKey.placeholder,label:l.tlsClientKey.label,onChange:e=>A("tlsClientKey",e.currentTarget.value),onClick:()=>R("tlsClientKey")}))),xe().createElement(ht,null),xe().createElement(St,{title:"Credentials"},xe().createElement($.Field,{label:l.username.label,description:l.username.tooltip},xe().createElement($.Input,{name:"user",width:40,value:n.username||"",onChange:(0,a.onUpdateDatasourceJsonDataOption)(e,"username"),label:l.username.label,"aria-label":l.username.label,placeholder:l.username.placeholder})),xe().createElement($.Field,{label:l.password.label,description:l.password.tooltip},xe().createElement($.SecretInput,{name:"pwd",width:40,label:l.password.label,"aria-label":l.password.label,placeholder:l.password.placeholder,value:i.password||"",isConfigured:o&&o.password,onReset:()=>{s(os(ns({},t),{secureJsonFields:os(ns({},t.secureJsonFields),{password:!1}),secureJsonData:os(ns({},t.secureJsonData),{password:""})}))},onChange:(0,a.onUpdateDatasourceSecureJsonDataOption)(e,"password")}))),xe().createElement(ht,null),xe().createElement(St,{title:"Additional settings",description:"Additional settings are optional settings that can be configured for more control over your data source. This includes the default database, dial and query timeouts, SQL validation, and custom ClickHouse settings.",isCollapsible:!0,isInitiallyOpen:b},xe().createElement(ht,null),xe().createElement($t,{defaultDatabase:n.defaultDatabase,defaultTable:n.defaultTable,onDefaultDatabaseChange:t=>{(0,r.reportInteraction)("clickhouse_config_v1_default_db_input"),(0,a.onUpdateDatasourceJsonDataOption)(e,"defaultDatabase")(t)},onDefaultTableChange:t=>{(0,r.reportInteraction)("clickhouse_config_v1_default_table_input"),(0,a.onUpdateDatasourceJsonDataOption)(e,"defaultTable")(t)}}),xe().createElement(ht,null),xe().createElement(Dt,{connMaxLifetime:n.connMaxLifetime,dialTimeout:n.dialTimeout,maxIdleConns:n.maxIdleConns,maxOpenConns:n.maxOpenConns,queryTimeout:n.queryTimeout,validateSql:n.validateSql,onDialTimeoutChange:t=>{ts({dialTimeout:Number(t.currentTarget.value)}),(0,a.onUpdateDatasourceJsonDataOption)(e,"dialTimeout")(t)},onQueryTimeoutChange:t=>{ts({queryTimeout:Number(t.currentTarget.value)}),(0,a.onUpdateDatasourceJsonDataOption)(e,"queryTimeout")(t)},onConnMaxLifetimeChange:t=>{ts({connMaxLifetime:Number(t.currentTarget.value)}),(0,a.onUpdateDatasourceJsonDataOption)(e,"connMaxLifetime")(t)},onConnMaxIdleConnsChange:t=>{ts({maxIdleConns:Number(t.currentTarget.value)}),(0,a.onUpdateDatasourceJsonDataOption)(e,"maxIdleConns")(t)},onConnMaxOpenConnsChange:t=>{ts({maxOpenConns:Number(t.currentTarget.value)}),(0,a.onUpdateDatasourceJsonDataOption)(e,"maxOpenConns")(t)},onValidateSqlChange:e=>{ts({validateSql:e.currentTarget.checked}),_("validateSql",e.currentTarget.checked)}}),xe().createElement(ht,null),xe().createElement(Mt,{logsConfig:n.logs,onDefaultDatabaseChange:e=>{ss({defaultDatabase:e}),d("defaultDatabase",e)},onDefaultTableChange:e=>{ss({defaultTable:e}),d("defaultTable",e)},onOtelEnabledChange:e=>{ss({otelEnabled:e}),d("otelEnabled",e)},onOtelVersionChange:e=>{ss({version:e}),d("otelVersion",e)},onTimeColumnChange:e=>{ss({timeColumn:e}),d("timeColumn",e)},onLevelColumnChange:e=>{ss({levelColumn:e}),d("levelColumn",e)},onMessageColumnChange:e=>{ss({messageColumn:e}),d("messageColumn",e)},onSelectContextColumnsChange:e=>{ss({selectContextColumns:e}),d("selectContextColumns",e)},onContextColumnsChange:e=>{ss({contextColumns:e}),d("contextColumns",e)}}),xe().createElement(ht,null),xe().createElement(kt,{tracesConfig:n.traces,onDefaultDatabaseChange:e=>{as({defaultDatabase:e}),O("defaultDatabase",e)},onDefaultTableChange:e=>{as({defaultTable:e}),O("defaultTable",e)},onOtelEnabledChange:e=>{as({otelEnabled:e}),O("otelEnabled",e)},onOtelVersionChange:e=>{as({version:e}),O("otelVersion",e)},onTraceIdColumnChange:e=>{as({traceIdColumn:e}),O("traceIdColumn",e)},onSpanIdColumnChange:e=>{as({spanIdColumn:e}),O("spanIdColumn",e)},onOperationNameColumnChange:e=>{as({operationNameColumn:e}),O("operationNameColumn",e)},onParentSpanIdColumnChange:e=>{as({parentSpanIdColumn:e}),O("parentSpanIdColumn",e)},onServiceNameColumnChange:e=>{as({serviceNameColumn:e}),O("serviceNameColumn",e)},onDurationColumnChange:e=>{as({durationColumn:e}),O("durationColumn",e)},onDurationUnitChange:e=>{as({durationUnit:e}),O("durationUnit",e)},onStartTimeColumnChange:e=>{as({startTimeColumn:e}),O("startTimeColumn",e)},onTagsColumnChange:e=>{as({tagsColumn:e}),O("tagsColumn",e)},onServiceTagsColumnChange:e=>{as({serviceTagsColumn:e}),O("serviceTagsColumn",e)},onKindColumnChange:e=>{as({kindColumn:e}),O("kindColumn",e)},onStatusCodeColumnChange:e=>{as({statusCodeColumn:e}),O("statusCodeColumn",e)},onStatusMessageColumnChange:e=>{as({statusMessageColumn:e}),O("statusMessageColumn",e)},onStateColumnChange:e=>{as({stateColumn:e}),O("stateColumn",e)},onInstrumentationLibraryNameColumnChange:e=>{as({instrumentationLibraryNameColumn:e}),O("instrumentationLibraryNameColumn",e)},onInstrumentationLibraryVersionColumnChange:e=>{as({instrumentationLibraryVersionColumn:e}),O("instrumentationLibraryVersionColumn",e)},onFlattenNestedChange:e=>{as({flattenNested:e}),O("flattenNested",e)},onEventsColumnPrefixChange:e=>{as({traceEventsColumnPrefix:e}),O("traceEventsColumnPrefix",e)},onLinksColumnPrefixChange:e=>{as({traceLinksColumnPrefix:e}),O("traceLinksColumnPrefix",e)}}),xe().createElement(ht,null),xe().createElement(Zt,{aliasTables:n.aliasTables,onAliasTablesChange:e=>{e.length>0&&e[0].targetTable&&e[0].aliasTable&&(0,r.reportInteraction)("clickhouse_config_v1_column_alias_table_added"),s(os(ns({},t),{jsonData:os(ns({},t.jsonData),{aliasTables:e})}))}}),xe().createElement(ht,null),xe().createElement($.Field,{label:l.enableRowLimit.label,description:l.enableRowLimit.tooltip},xe().createElement($.Switch,{className:"gf-form",value:n.enableRowLimit||!1,"data-testid":l.enableRowLimit.testid,onChange:e=>{(e=>{(0,r.reportInteraction)("clickhouse_config_v1_enable_row_limit_toggle",e)})({rowLimitEnabled:e.currentTarget.checked}),_("enableRowLimit",e.currentTarget.checked)}})),r.config.secureSocksDSProxyEnabled&&(0,ct.gte)(r.config.buildInfo.version,"10.0.0")&&xe().createElement($.Field,{label:l.secureSocksProxy.label,description:l.secureSocksProxy.tooltip},xe().createElement($.Switch,{className:"gf-form",value:n.enableSecureSocksProxy||!1,onChange:e=>_("enableSecureSocksProxy",e.currentTarget.checked)})),xe().createElement(Nt,{title:"Custom Settings"},I.map(({setting:e,value:t},s)=>xe().createElement($.Stack,{key:s,direction:"row"},xe().createElement($.Field,{label:"Setting","aria-label":"Setting"},xe().createElement($.Input,{value:e,placeholder:"Setting",onChange:e=>{let a=I.concat();a[s]={setting:e.target.value,value:t},N(a)},onBlur:()=>{(0,r.reportInteraction)("clickhouse_config_v1_custom_setting_added"),S(I)}})),xe().createElement($.Field,{label:"Value","aria-label":"Value"},xe().createElement($.Input,{value:t,placeholder:"Value",onChange:t=>{let a=I.concat();a[s]={setting:e,value:t.target.value},N(a)},onBlur:()=>{S(I)}})))),xe().createElement($.Button,{variant:"secondary",icon:"plus",type:"button",onClick:()=>{N([...I,{setting:"",value:""}])}},"Add custom setting"))))},Lc=new a.DataSourcePlugin(lt).setConfigEditor(yc).setQueryEditor(e=>{const{datasource:t,query:s,onRunQuery:a}=e,r=(e=>void 0===e.rawSql?e:Rc(e)?_c(e):e)(s);return xe().createElement(xe().Fragment,null,xe().createElement("div",{className:"gf-form "+xt.QueryEditor.queryType},xe().createElement(Ra,Ic(Oc({},e),{query:r,datasource:t})),xe().createElement($.Button,{onClick:()=>a()},"Run Query")),xe().createElement(Nc,Ic(Oc({},e),{query:r})))});(0,r.getAppEvents)().subscribe(a.DashboardLoadedEvent,({payload:{dashboardId:e,orgId:t,grafanaVersion:s,queries:a}})=>{var n;const i=null===(n=a[bc.id])||void 0===n?void 0:n.filter(e=>!e.hide);var E;(null==i?void 0:i.length)&&(E=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){Cc(e,t,s[t])})}return e}({clickhouse_plugin_version:we,grafana_version:s,dashboard_id:e,org_id:t},(e=>{const t={sql_queries:0,sql_query_type_table:0,sql_query_type_logs:0,sql_query_type_timeseries:0,sql_query_type_traces:0,builder_queries:0,builder_query_type_table:0,builder_query_type_table_simple:0,builder_query_type_table_aggregate:0,builder_query_type_logs:0,builder_query_type_timeseries:0,builder_query_type_timeseries_simple:0,builder_query_type_timeseries_aggregate:0,builder_query_type_traces:0,builder_query_type_traces_search:0,builder_query_type_traces_id:0,builder_minimized_queries:0,builder_otel_queries:0};return e.forEach(e=>{if(e.editorType===_.SQL)t.sql_queries++,e.queryType===l.Table?t.sql_query_type_table++:e.queryType===l.Logs?t.sql_query_type_logs++:e.queryType===l.TimeSeries?t.sql_query_type_timeseries++:e.queryType===l.Traces&&t.sql_query_type_traces++;else if(e.editorType===_.Builder){var s,a;if(t.builder_queries++,!e.builderOptions)return;if(e.builderOptions.queryType===l.Table)t.builder_query_type_table++,e.builderOptions.mode===o.Aggregate?t.builder_query_type_table_aggregate++:t.builder_query_type_table_simple++;else if(e.builderOptions.queryType===l.Logs)t.builder_query_type_logs++;else if(e.builderOptions.queryType===l.TimeSeries)t.builder_query_type_timeseries++,e.builderOptions.mode===o.Trend?t.builder_query_type_timeseries_aggregate++:t.builder_query_type_timeseries_simple++;else if(e.builderOptions.queryType===l.Traces){var r;t.builder_query_type_traces++,(null===(r=e.builderOptions.meta)||void 0===r?void 0:r.isTraceIdMode)?t.builder_query_type_traces_id++:t.builder_query_type_traces_search++}(null===(s=e.builderOptions.meta)||void 0===s?void 0:s.minimized)&&t.builder_minimized_queries++,(null===(a=e.builderOptions.meta)||void 0===a?void 0:a.otelEnabled)&&t.builder_otel_queries++}}),t})(i)),(0,r.reportInteraction)("grafana_ds_clickhouse_dashboard_loaded",E))})})(),p})());
//# sourceMappingURL=module.js.map