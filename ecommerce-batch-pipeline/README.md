# üõí Ecommerce Big Data Analytics Pipeline

**–°—Ö–µ–º–∞:**  
Log Generator ‚Üí HDFS ‚Üí Spark (batch processing) ‚Üí PostgreSQL ‚Üí Superset (BI dashboards)
+Airflow –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ ETL ‚Üí Livy –¥–ª—è REST‚Äë–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ Spark

–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ e‚Äëcommerce –ª–æ–≥–æ–≤ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –º–µ—Ç—Ä–∏–∫.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ HDFS (Hadoop NameNode + DataNodes)
- ‚úÖ Batch‚Äë–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–æ–≤ –≤ Apache Spark
- ‚úÖ –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è ETL‚Äë–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —á–µ—Ä–µ–∑ Apache Airflow
- ‚úÖ REST API –¥–ª—è Spark —á–µ—Ä–µ–∑ Apache Livy
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ PostgreSQL
- ‚úÖ BI‚Äë–¥–∞—à–±–æ—Ä–¥—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ Apache Superset

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Storage & Processing
- **HDFS (Hadoop)** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **Apache Spark** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **Apache Livy** ‚Äî REST API –¥–ª—è Spark

### Orchestration
- **Apache Airflow** ‚Äî DAG‚Äë–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è ETL

### Database
- **PostgreSQL** ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### Visualization
- **Apache Superset** ‚Äî BI‚Äë–¥–∞—à–±–æ—Ä–¥—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Docker** 20.10+
- **Docker Compose** 2.0+
- **JDK 17+** (–¥–ª—è —Å–±–æ—Ä–∫–∏ Spark‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
- **Gradle/Maven** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π wrapper)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —Å–æ–±–µ—Ä–∏—Ç–µ Spark‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
git clone <repository-url>
cd ecommerce-pipeline
./gradlew clean build
```
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ª–æ–≥–æ–≤:
```bash
cd data
python3 generate_logs.py
```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã:
```bash
cd ..
docker-compose up -d
```
4. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
docker-compose stop

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ volumes)
docker-compose down

# –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤–∫–ª—é—á–∞—è volumes (—É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ)
docker-compose down -v
```

## üåê URL —Å–µ—Ä–≤–∏—Å–æ–≤

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞, —Å–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –∞–¥—Ä–µ—Å–∞–º:

| –°–µ—Ä–≤–∏—Å              | URL                     | Credentials       | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|---------------------|-------------------------|------------------|-----------------------------------|
| **Hadoop NameNode** | http://localhost:9870   | -                | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ HDFS                   |
| **Spark Master UI** | http://localhost:8080   | -                | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Spark cluster          |
| **Airflow Web UI**  | http://localhost:8081   | admin / admin    | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è ETL‚Äë–ø—Ä–æ—Ü–µ—Å—Å–æ–≤         |
| **Superset**        | http://localhost:8088   | admin / admin    | BI‚Äë–¥–∞—à–±–æ—Ä–¥—ã                       |
| **PostgreSQL**      | localhost:5432          | spark / sparkpass| –•—Ä–∞–Ω–∏–ª–∏—â–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö    |
| **Livy REST API**   | http://localhost:8998   | -                | REST –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Spark          |

---

## üìä Superset Dashboard

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ Superset –∏ —Å–æ–∑–¥–∞–π—Ç–µ –¥–∞—à–±–æ—Ä–¥ —Å —á–∞—Ä—Ç–∞–º–∏:
- **Events by Type** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- **Events per Minute** ‚Äî –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏
- **Errors Over Time** ‚Äî –¥–∏–Ω–∞–º–∏–∫–∞ –æ—à–∏–±–æ–∫
- **Errors by Type** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ —Ç–∏–ø–∞–º
- **Products by Category** ‚Äî –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **Payments by Method** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–µ—Ç–æ–¥–∞–º –æ–ø–ª–∞—Ç—ã
  ![–î–∞—à–±–æ—Ä–¥](docs/screenshot.jpg)
---

## üèóÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Data Lake & Processing
- –õ–æ–≥–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ HDFS –∫–ª–∞—Å—Ç–µ—Ä
- Spark‚Äë–∫–ª–∞—Å—Ç–µ—Ä –∞–≥—Ä–µ–≥–∏—Ä—É—é—Ç —Å–æ–±—ã—Ç–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ PostgreSQL

### Orchestration
- Airflow DAG —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø—É—Å–∫–æ–º Spark‚Äë–¥–∂–æ–±
- Livy –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç REST‚Äë–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –¥–ª—è Spark

### Visualization
- Superset –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PostgreSQL –∏ —Å—Ç—Ä–æ–∏—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã

### Container Orchestration
- Docker –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- Docker Compose –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
